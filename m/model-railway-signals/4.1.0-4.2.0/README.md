# Comparing `tmp/model_railway_signals-4.1.0.tar.gz` & `tmp/model_railway_signals-4.2.0.tar.gz`

## Comparing `model_railway_signals-4.1.0.tar` & `model_railway_signals-4.2.0.tar`

### file list

```diff
@@ -1,100 +1,219 @@
--rw-r--r--   0        0        0   572984 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/automation_colour_light_example.sig
--rw-r--r--   0        0        0   569751 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/automation_semaphore_example.sig
--rw-r--r--   0        0        0   560478 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/interlocking_colour_light_example.sig
--rw-r--r--   0        0        0   560644 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/interlocking_semaphore_example.sig
--rw-r--r--   0        0        0   373788 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/mqtt_networked_example.sig
--rw-r--r--   0        0        0     2622 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/signalist_sc1.cvc
--rw-r--r--   0        0        0   246534 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/configuration_examples/single_line_semaphore_example.sig
--rw-r--r--   0        0        0     6965 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/__init__.py
--rw-r--r--   0        0        0      325 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/__main__.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/__init__.py
--rw-r--r--   0        0        0    55586 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/common.py
--rw-r--r--   0        0        0    19701 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_instrument.py
--rw-r--r--   0        0        0    11905 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_line.py
--rw-r--r--   0        0        0    22431 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_point.py
--rw-r--r--   0        0        0    21262 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_section.py
--rw-r--r--   0        0        0    62188 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal.py
--rw-r--r--   0        0        0    54362 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab1.py
--rw-r--r--   0        0        0    28991 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab2.py
--rw-r--r--   0        0        0    37933 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab3.py
--rw-r--r--   0        0        0    12022 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/configure_textbox.py
--rw-r--r--   0        0        0    41452 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/editor.py
--rw-r--r--   0        0        0    61683 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/menubar_windows.py
--rw-r--r--   0        0        0    62926 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/run_layout.py
--rw-r--r--   0        0        0    53185 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/schematic.py
--rw-r--r--   0        0        0    14681 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/settings.py
--rw-r--r--   0        0        0    22427 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/utilities.py
--rw-r--r--   0        0        0     6874 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/__init__.py
--rw-r--r--   0        0        0    39648 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects.py
--rw-r--r--   0        0        0    10074 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_common.py
--rw-r--r--   0        0        0    14094 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_instruments.py
--rw-r--r--   0        0        0    13269 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_lines.py
--rw-r--r--   0        0        0    17919 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_points.py
--rw-r--r--   0        0        0    19851 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_sections.py
--rw-r--r--   0        0        0    57327 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_signals.py
--rw-r--r--   0        0        0     8352 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_textboxes.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/__init__.py
--rw-r--r--   0        0        0     2900 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow1.png
--rw-r--r--   0        0        0     2914 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow2.png
--rw-r--r--   0        0        0     2927 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow3.png
--rw-r--r--   0        0        0     2933 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow4.png
--rw-r--r--   0        0        0      284 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/colourlight.png
--rw-r--r--   0        0        0     2858 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/endstop.png
--rw-r--r--   0        0        0      295 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/grounddisc.png
--rw-r--r--   0        0        0      277 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/groundpos.png
--rw-r--r--   0        0        0      644 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/instrument.png
--rw-r--r--   0        0        0      247 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/lhpoint.png
--rw-r--r--   0        0        0      170 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/line.png
--rw-r--r--   0        0        0      246 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/rhpoint.png
--rw-r--r--   0        0        0      670 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/section.png
--rw-r--r--   0        0        0      208 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/editor/resources/semaphore.png
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/__init__.py
--rw-r--r--   0        0        0    53587 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/block_instruments.py
--rw-r--r--   0        0        0     8456 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/common.py
--rw-r--r--   0        0        0    44298 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/dcc_control.py
--rw-r--r--   0        0        0    25563 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/file_interface.py
--rw-r--r--   0        0        0    32816 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/mqtt_interface.py
--rw-r--r--   0        0        0    46994 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/pi_sprog_interface.py
--rw-r--r--   0        0        0    28390 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/points.py
--rw-r--r--   0        0        0    47940 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals.py
--rw-r--r--   0        0        0    47101 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals_colour_lights.py
--rw-r--r--   0        0        0    37937 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals_common.py
--rw-r--r--   0        0        0     7712 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals_ground_disc.py
--rw-r--r--   0        0        0    10104 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals_ground_position.py
--rw-r--r--   0        0        0    58998 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/signals_semaphores.py
--rw-r--r--   0        0        0    27800 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/track_sections.py
--rw-r--r--   0        0        0    32147 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/track_sensors.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/__init__.py
--rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-01.wav
--rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-02.wav
--rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-03.wav
--rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-04.wav
--rw-r--r--   0        0        0    30722 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/model_railway_signals/library/resources/telegraph-key-01.wav
--rw-r--r--   0        0        0    61478 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/system_test_harness.py
--rw-r--r--   0        0        0     2159 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_all.py
--rw-r--r--   0        0        0    26018 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_automation_examples.py
--rw-r--r--   0        0        0    20773 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_interlocking_examples.py
--rw-r--r--   0        0        0    17245 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_library_objects.py
--rw-r--r--   0        0        0  1114749 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_library_objects1.sig
--rw-r--r--   0        0        0  2363089 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_library_objects2.sig
--rw-r--r--   0        0        0     1487 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_load_layout_failures.py
--rw-r--r--   0        0        0     2603 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_load_layout_failures1.sig
--rw-r--r--   0        0        0     2605 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_load_layout_failures2.sig
--rw-r--r--   0        0        0     2605 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_load_layout_failures3.sig
--rw-r--r--   0        0        0    12921 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_mqtt_networking.py
--rw-r--r--   0        0        0   419993 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_mqtt_networking.sig
--rw-r--r--   0        0        0     9007 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_mqtt_networking_example.py
--rw-r--r--   0        0        0     9062 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_object_edit_windows.py
--rw-r--r--   0        0        0    47716 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_object_editing.py
--rw-r--r--   0        0        0    60765 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_run_layout.py
--rw-r--r--   0        0        0   678907 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_run_layout.sig
--rw-r--r--   0        0        0    35266 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_schematic_editor.py
--rw-r--r--   0        0        0    12770 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/system_tests/test_single_line_examples.py
--rw-r--r--   0        0        0   154692 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/user_guide/quickstart_example1.sig
--rw-r--r--   0        0        0   155142 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/user_guide/quickstart_example2.sig
--rw-r--r--   0        0        0   388467 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/user_guide/quickstart_example3.sig
--rw-r--r--   0        0        0  1487901 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/user_guide/quickstart_guide.pdf
--rw-r--r--   0        0        0    18092 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/LICENSE
--rw-r--r--   0        0        0     3650 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/README.md
--rw-r--r--   0        0        0      947 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/pyproject.toml
--rw-r--r--   0        0        0     4403 2020-02-02 00:00:00.000000 model_railway_signals-4.1.0/PKG-INFO
+-rw-r--r--   0        0        0   584016 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/automation_colour_light_example.sig
+-rw-r--r--   0        0        0   569824 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/automation_semaphore_example.sig
+-rw-r--r--   0        0        0   560520 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/interlocking_colour_light_example.sig
+-rw-r--r--   0        0        0   560686 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/interlocking_semaphore_example.sig
+-rw-r--r--   0        0        0   373870 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/mqtt_networked_example.sig
+-rw-r--r--   0        0        0   289384 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/sidings_example.sig
+-rw-r--r--   0        0        0     2622 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/signalist_sc1.cvc
+-rw-r--r--   0        0        0   246576 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/configuration_examples/single_line_semaphore_example.sig
+-rw-r--r--   0        0        0     7019 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/__init__.py
+-rw-r--r--   0        0        0      325 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/__main__.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/__init__.py
+-rw-r--r--   0        0        0    57809 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/common.py
+-rw-r--r--   0        0        0    19692 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_instrument.py
+-rw-r--r--   0        0        0    11941 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_line.py
+-rw-r--r--   0        0        0    24188 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_point.py
+-rw-r--r--   0        0        0    25344 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_section.py
+-rw-r--r--   0        0        0    62459 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal.py
+-rw-r--r--   0        0        0    60689 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab1.py
+-rw-r--r--   0        0        0    27975 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab2.py
+-rw-r--r--   0        0        0    39789 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab3.py
+-rw-r--r--   0        0        0    12118 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_textbox.py
+-rw-r--r--   0        0        0    19502 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/configure_track_sensor.py
+-rw-r--r--   0        0        0    42346 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/editor.py
+-rw-r--r--   0        0        0    65110 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/menubar_windows.py
+-rw-r--r--   0        0        0    72612 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/run_layout.py
+-rw-r--r--   0        0        0    53676 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/schematic.py
+-rw-r--r--   0        0        0    14864 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/settings.py
+-rw-r--r--   0        0        0    26475 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/utilities.py
+-rw-r--r--   0        0        0     6339 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/__init__.py
+-rw-r--r--   0        0        0    42328 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects.py
+-rw-r--r--   0        0        0     9786 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_common.py
+-rw-r--r--   0        0        0     9077 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_gpio.py
+-rw-r--r--   0        0        0    14088 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_instruments.py
+-rw-r--r--   0        0        0    13269 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_lines.py
+-rw-r--r--   0        0        0    18114 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_points.py
+-rw-r--r--   0        0        0    20236 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_sections.py
+-rw-r--r--   0        0        0    18967 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_sensors.py
+-rw-r--r--   0        0        0    53543 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_signals.py
+-rw-r--r--   0        0        0     8465 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_textboxes.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/__init__.py
+-rw-r--r--   0        0        0     2900 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow1.png
+-rw-r--r--   0        0        0     2914 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow2.png
+-rw-r--r--   0        0        0     2927 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow3.png
+-rw-r--r--   0        0        0     2933 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow4.png
+-rw-r--r--   0        0        0      274 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/colourlight.png
+-rw-r--r--   0        0        0     2858 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/endstop.png
+-rw-r--r--   0        0        0      286 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/grounddisc.png
+-rw-r--r--   0        0        0      269 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/groundpos.png
+-rw-r--r--   0        0        0     1809 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/instrument.png
+-rw-r--r--   0        0        0      239 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/lhpoint.png
+-rw-r--r--   0        0        0      159 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/line.png
+-rw-r--r--   0        0        0      240 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/rhpoint.png
+-rw-r--r--   0        0        0      617 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/section.png
+-rw-r--r--   0        0        0      203 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/semaphore.png
+-rw-r--r--   0        0        0      741 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/sensor.png
+-rw-r--r--   0        0        0      896 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/editor/resources/textbox.png
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/__init__.py
+-rw-r--r--   0        0        0    56715 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/block_instruments.py
+-rw-r--r--   0        0        0     7132 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/common.py
+-rw-r--r--   0        0        0    51225 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/dcc_control.py
+-rw-r--r--   0        0        0    20485 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/file_interface.py
+-rw-r--r--   0        0        0    37161 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/gpio_sensors.py
+-rw-r--r--   0        0        0    36921 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/mqtt_interface.py
+-rw-r--r--   0        0        0    48799 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/pi_sprog_interface.py
+-rw-r--r--   0        0        0    27828 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/points.py
+-rw-r--r--   0        0        0    47940 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals.py
+-rw-r--r--   0        0        0    47113 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals_colour_lights.py
+-rw-r--r--   0        0        0    37768 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals_common.py
+-rw-r--r--   0        0        0     8317 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals_ground_disc.py
+-rw-r--r--   0        0        0    10950 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals_ground_position.py
+-rw-r--r--   0        0        0    58557 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/signals_semaphores.py
+-rw-r--r--   0        0        0    27661 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/track_sections.py
+-rw-r--r--   0        0        0     9487 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/track_sensors.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/__init__.py
+-rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-01.wav
+-rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-02.wav
+-rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-03.wav
+-rw-r--r--   0        0        0    80808 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-04.wav
+-rw-r--r--   0        0        0    30722 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/model_railway_signals/library/resources/telegraph-key-01.wav
+-rw-r--r--   0        0        0   888832 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/.coverage
+-rw-r--r--   0        0        0    70643 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/basic_library_tests.py
+-rw-r--r--   0        0        0    64888 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/system_test_harness.py
+-rw-r--r--   0        0        0     2488 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_all.py
+-rw-r--r--   0        0        0    26067 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_automation_examples.py
+-rw-r--r--   0        0        0     7250 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_configuration_updates.py
+-rw-r--r--   0        0        0    20773 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_interlocking_examples.py
+-rw-r--r--   0        0        0    17869 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_library_objects.py
+-rw-r--r--   0        0        0  1114791 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_library_objects1.sig
+-rw-r--r--   0        0        0  2363131 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_library_objects2.sig
+-rw-r--r--   0        0        0     1487 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_load_layout_failures.py
+-rw-r--r--   0        0        0     2603 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_load_layout_failures1.sig
+-rw-r--r--   0        0        0     2605 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_load_layout_failures2.sig
+-rw-r--r--   0        0        0     2605 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_load_layout_failures3.sig
+-rw-r--r--   0        0        0    13063 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_mqtt_networking.py
+-rw-r--r--   0        0        0   420026 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_mqtt_networking.sig
+-rw-r--r--   0        0        0     9263 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_mqtt_networking_example.py
+-rw-r--r--   0        0        0     2603 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_object_edit_windows.py
+-rw-r--r--   0        0        0    49921 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_object_editing.py
+-rw-r--r--   0        0        0    70418 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_run_layout.py
+-rw-r--r--   0        0        0   741734 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_run_layout.sig
+-rw-r--r--   0        0        0    38363 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_schematic_editor.py
+-rw-r--r--   0        0        0    10606 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/test_single_line_examples.py
+-rw-r--r--   0        0        0       27 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/.gitignore
+-rw-r--r--   0        0        0   445211 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/basic_library_tests_py.html
+-rw-r--r--   0        0        0    21359 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/coverage_html.js
+-rw-r--r--   0        0        0  1240100 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_0eedf7b1c33536f2_pigpio_py.html
+-rw-r--r--   0        0        0     4846 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390___init___py.html
+-rw-r--r--   0        0        0   376783 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_common_py.html
+-rw-r--r--   0        0        0   118163 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_instrument_py.html
+-rw-r--r--   0        0        0    81319 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_line_py.html
+-rw-r--r--   0        0        0   155439 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_point_py.html
+-rw-r--r--   0        0        0   145928 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_section_py.html
+-rw-r--r--   0        0        0   417328 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_signal_py.html
+-rw-r--r--   0        0        0   385648 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_signal_tab1_py.html
+-rw-r--r--   0        0        0   177898 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_signal_tab2_py.html
+-rw-r--r--   0        0        0   256369 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_signal_tab3_py.html
+-rw-r--r--   0        0        0    87187 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_textbox_py.html
+-rw-r--r--   0        0        0   118004 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_configure_track_sensor_py.html
+-rw-r--r--   0        0        0   244427 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_editor_py.html
+-rw-r--r--   0        0        0   441895 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_menubar_windows_py.html
+-rw-r--r--   0        0        0   352193 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_run_layout_py.html
+-rw-r--r--   0        0        0   320062 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_schematic_py.html
+-rw-r--r--   0        0        0   111688 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_settings_py.html
+-rw-r--r--   0        0        0   182060 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_1d3ee1edf861b390_utilities_py.html
+-rw-r--r--   0        0        0     4872 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8___init___py.html
+-rw-r--r--   0        0        0   311627 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_block_instruments_py.html
+-rw-r--r--   0        0        0    42033 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_common_py.html
+-rw-r--r--   0        0        0   244008 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_dcc_control_py.html
+-rw-r--r--   0        0        0   104969 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_file_interface_py.html
+-rw-r--r--   0        0        0   177811 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_gpio_sensors_py.html
+-rw-r--r--   0        0        0   180802 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_mqtt_interface_py.html
+-rw-r--r--   0        0        0   253306 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_pi_sprog_interface_py.html
+-rw-r--r--   0        0        0   172381 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_points_py.html
+-rw-r--r--   0        0        0   284269 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_colour_lights_py.html
+-rw-r--r--   0        0        0   233481 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_common_py.html
+-rw-r--r--   0        0        0    55158 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_ground_disc_py.html
+-rw-r--r--   0        0        0    72477 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_ground_position_py.html
+-rw-r--r--   0        0        0   231829 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_py.html
+-rw-r--r--   0        0        0   350972 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_signals_semaphores_py.html
+-rw-r--r--   0        0        0   153902 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_track_sections_py.html
+-rw-r--r--   0        0        0    47179 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3195850d17affdb8_track_sensors_py.html
+-rw-r--r--   0        0        0    17668 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698___init___py.html
+-rw-r--r--   0        0        0    51342 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_attr_py.html
+-rw-r--r--   0        0        0   255507 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_color_py.html
+-rw-r--r--   0        0        0   129413 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_conversions_py.html
+-rw-r--r--   0        0        0    60509 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_deltae_py.html
+-rw-r--r--   0        0        0    19042 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_easings_py.html
+-rw-r--r--   0        0        0   168168 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_tables_py.html
+-rw-r--r--   0        0        0    88383 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_3caf3cb44ceac698_types_py.html
+-rw-r--r--   0        0        0   178288 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80___init___py.html
+-rw-r--r--   0        0        0   464446 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_data_py.html
+-rw-r--r--   0        0        0    91919 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_local_py.html
+-rw-r--r--   0        0        0    91481 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_pi_py.html
+-rw-r--r--   0        0        0   187468 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_pigpio_py.html
+-rw-r--r--   0        0        0    72530 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_rpigpio_py.html
+-rw-r--r--   0        0        0    33688 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_45882e5f1e6d1c80_spi_py.html
+-rw-r--r--   0        0        0     9739 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_715db862bba63ada___init___py.html
+-rw-r--r--   0        0        0     4776 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_81bb45d3f1cd8c8c___init___py.html
+-rw-r--r--   0        0        0    31409 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001___init___py.html
+-rw-r--r--   0        0        0   717240 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_boards_py.html
+-rw-r--r--   0        0        0    50830 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_compat_py.html
+-rw-r--r--   0        0        0   169909 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_devices_py.html
+-rw-r--r--   0        0        0    51681 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_exc_py.html
+-rw-r--r--   0        0        0    64164 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_fonts_py.html
+-rw-r--r--   0        0        0   340590 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_input_devices_py.html
+-rw-r--r--   0        0        0   181616 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_internal_devices_py.html
+-rw-r--r--   0        0        0   158966 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_mixins_py.html
+-rw-r--r--   0        0        0   444569 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_output_devices_py.html
+-rw-r--r--   0        0        0   146983 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_spi_devices_py.html
+-rw-r--r--   0        0        0    21126 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_threads_py.html
+-rw-r--r--   0        0        0    68190 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b10700de3e3f9001_tones_py.html
+-rw-r--r--   0        0        0    39460 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b___init___py.html
+-rw-r--r--   0        0        0    58835 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_common_py.html
+-rw-r--r--   0        0        0    42107 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_gpio_py.html
+-rw-r--r--   0        0        0    70961 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_instruments_py.html
+-rw-r--r--   0        0        0    79239 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_lines_py.html
+-rw-r--r--   0        0        0    92429 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_points_py.html
+-rw-r--r--   0        0        0   209748 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_py.html
+-rw-r--r--   0        0        0   103653 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_sections_py.html
+-rw-r--r--   0        0        0   104533 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_sensors_py.html
+-rw-r--r--   0        0        0   305281 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_signals_py.html
+-rw-r--r--   0        0        0    49630 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_b7838b1564a5c19b_objects_textboxes_py.html
+-rw-r--r--   0        0        0    27235 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_d03755f9050a7e42___init___py.html
+-rw-r--r--   0        0        0   252427 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_d03755f9050a7e42_serialposix_py.html
+-rw-r--r--   0        0        0   190353 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_d03755f9050a7e42_serialutil_py.html
+-rw-r--r--   0        0        0    52397 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_d11aa899158072cf___init___py.html
+-rw-r--r--   0        0        0     4866 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_ee761ecb2c0ec049___init___py.html
+-rw-r--r--   0        0        0     4892 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/d_feae2589f52bf1c3___init___py.html
+-rw-r--r--   0        0        0     1732 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/favicon_32.png
+-rw-r--r--   0        0        0    44357 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/index.html
+-rw-r--r--   0        0        0     9004 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/keybd_closed.png
+-rw-r--r--   0        0        0     9003 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/keybd_open.png
+-rw-r--r--   0        0        0    25866 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/status.json
+-rw-r--r--   0        0        0    12387 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/style.css
+-rw-r--r--   0        0        0   453390 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/system_test_harness_py.html
+-rw-r--r--   0        0        0    18843 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_all_py.html
+-rw-r--r--   0        0        0   228841 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_automation_examples_py.html
+-rw-r--r--   0        0        0    59191 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_configuration_updates_py.html
+-rw-r--r--   0        0        0   177427 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_interlocking_examples_py.html
+-rw-r--r--   0        0        0   140648 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_library_objects_py.html
+-rw-r--r--   0        0        0    12232 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_load_layout_failures_py.html
+-rw-r--r--   0        0        0    77863 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_mqtt_networking_example_py.html
+-rw-r--r--   0        0        0   103597 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_mqtt_networking_py.html
+-rw-r--r--   0        0        0    19141 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_object_edit_windows_py.html
+-rw-r--r--   0        0        0   450744 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_object_editing_py.html
+-rw-r--r--   0        0        0   533613 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_run_layout_py.html
+-rw-r--r--   0        0        0   321144 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_schematic_editor_py.html
+-rw-r--r--   0        0        0   100082 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/system_tests/htmlcov/test_single_line_examples_py.html
+-rw-r--r--   0        0        0   151804 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/networking1-node1.sig
+-rw-r--r--   0        0        0   150663 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/networking1-node2.sig
+-rw-r--r--   0        0        0   789538 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/networking_guide.pdf
+-rw-r--r--   0        0        0   154693 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/quickstart_example1.sig
+-rw-r--r--   0        0        0   155143 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/quickstart_example2.sig
+-rw-r--r--   0        0        0   395414 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/quickstart_example3.sig
+-rw-r--r--   0        0        0  1601344 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/user_guide/quickstart_guide.pdf
+-rw-r--r--   0        0        0    18092 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/LICENSE
+-rw-r--r--   0        0        0     5069 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/README.md
+-rw-r--r--   0        0        0      947 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/pyproject.toml
+-rw-r--r--   0        0        0     5822 2020-02-02 00:00:00.000000 model_railway_signals-4.2.0/PKG-INFO
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/automation_colour_light_example.sig` & `model_railway_signals-4.2.0/configuration_examples/automation_semaphore_example.sig`

 * *Files 3% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.8613604068888537%*

 * *Differences: {"'objects'": "{'02febfbf-ee80-4c08-b52d-84b72fa9c23b': {'approachcontrol': {insert: [(0, 3)], "*

 * *              "delete: [0]}, 'approachsensor': {insert: [(0, True)], delete: [0]}, 'bbox': 1304, "*

 * *              "'dccaspects': {0: {0: {insert: [(0, 0)], delete: [0]}, 1: {insert: [(0, 0)], "*

 * *              'delete: [0]}, 2: {insert: [(0, 0)], delete: [0]}, insert: [(3, [0, False])], '*

 * *              'delete: [3]}, 1: {0: {insert: [(0, 0)], delete: [0]}, 1: {insert: [(0, 0)], delete: '*

 * *              '[0]}, 2: {in […]*

```diff
@@ -1,119 +1,119 @@
 {
     "information": "Model Railway Signalling Configuration File",
     "instruments": {},
     "objects": {
         "02febfbf-ee80-4c08-b52d-84b72fa9c23b": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 169,
+            "bbox": 1304,
             "dccaspects": [
                 [
                     [
-                        20,
+                        0,
                         false
                     ],
                     [
-                        22,
+                        0,
                         false
                     ],
                     [
-                        23,
+                        0,
                         false
                     ],
                     [
-                        21,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        21,
+                        0,
                         false
                     ],
                     [
-                        22,
+                        0,
                         false
                     ],
                     [
-                        23,
+                        0,
                         false
                     ],
                     [
-                        20,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        20,
+                        0,
                         false
                     ],
                     [
-                        21,
+                        0,
                         false
                     ],
                     [
-                        23,
+                        0,
                         false
                     ],
                     [
-                        22,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        20,
+                        0,
                         false
                     ],
                     [
-                        21,
+                        0,
                         false
                     ],
                     [
-                        22,
+                        0,
                         false
                     ],
                     [
-                        23,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -516,22 +516,22 @@
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
             "itemid": 2,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemsubtype": 1,
+            "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "19"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             3,
                             true
@@ -677,39 +677,39 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1100.0,
-            "posy": 175.0,
+            "posx": 1175,
+            "posy": 175,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        20
                     ],
                     [
-                        false,
-                        0
+                        true,
+                        22
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
                     ],
                     [
-                        false,
-                        0
+                        true,
+                        21
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
@@ -978,16 +978,16 @@
                 true,
                 true,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                true,
-                24
+                false,
+                0
             ],
             "tags": "signal2",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
@@ -1073,244 +1073,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "0cdde9d4-28ce-4644-8601-f613605ff8f4": {
-            "background": "grey85",
-            "bbox": 172,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 16,
-            "fontstyle": "bold ",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 250.0,
-            "posy": 50.0,
-            "tags": "0cdde9d4-28ce-4644-8601-f613605ff8f4",
-            "text": "Colour Light Automation Example"
-        },
-        "146287d7-4772-46bc-8952-89c98ff36bb0": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 178,
-            "colour": "black",
-            "end1": 174,
-            "end2": 175,
-            "endx": 1675,
-            "endy": 275,
-            "item": "line",
-            "itemid": 1,
-            "line": 173,
-            "posx": 1300.0,
-            "posy": 275.0,
-            "stop1": 176,
-            "stop2": 177,
-            "tags": "line1"
-        },
-        "147bdac0-2cb4-4de7-a45d-a87b46155eab": {
-            "background": "grey85",
-            "bbox": 181,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 8,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 36.0,
-            "posy": 288.0,
-            "tags": "147bdac0-2cb4-4de7-a45d-a87b46155eab",
-            "text": "Up Main"
-        },
-        "233a09d0-5c3b-4fd7-9838-1045b392fc85": {
-            "bbox": 184,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 10,
-            "label": "15",
-            "mirror": "",
-            "posx": 50,
-            "posy": 225,
-            "state": false,
-            "tags": "section10"
-        },
-        "237bec79-c24f-4c2f-956a-a12133fa79db": {
-            "background": "grey85",
-            "bbox": 187,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 12,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 575.0,
-            "posy": 150.0,
-            "tags": "237bec79-c24f-4c2f-956a-a12133fa79db",
-            "text": "MPD"
-        },
-        "2809aba0-8417-4ffe-b8ab-9d0bcfd4b777": {
-            "background": "grey85",
-            "bbox": 190,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 12,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 1450.0,
-            "posy": 150.0,
-            "tags": "2809aba0-8417-4ffe-b8ab-9d0bcfd4b777",
-            "text": "Goods Yard"
-        },
-        "350ab106-55fd-4920-800f-606a103c9392": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 196,
-            "colour": "black",
-            "end1": 192,
-            "end2": 193,
-            "endx": 0,
-            "endy": 275,
-            "item": "line",
-            "itemid": 2,
-            "line": 191,
-            "posx": 1250.0,
-            "posy": 275.0,
-            "stop1": 194,
-            "stop2": 195,
-            "tags": "line2"
-        },
-        "36c92467-cd2d-4608-bd3d-1ae2fe2fb9b0": {
-            "alsoswitch": 6,
-            "automatic": false,
-            "bbox": 203,
-            "colour": "black",
-            "dccaddress": 1005,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 5,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 1275.0,
-            "posy": 275.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    2,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    14,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    12,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
-                        true,
-                        true,
-                        false,
-                        true,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point5"
-        },
-        "3f11b41e-b356-402c-b59e-b314963b3723": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 209,
-            "colour": "black",
-            "end1": 205,
-            "end2": 206,
-            "endx": 1300.0,
-            "endy": 225.0,
-            "item": "line",
-            "itemid": 3,
-            "line": 204,
-            "posx": 1675,
-            "posy": 225,
-            "stop1": 207,
-            "stop2": 208,
-            "tags": "line3"
-        },
-        "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
+        "0664c58f-923d-4de0-b1fa-0ced0da953a5": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 221,
+            "bbox": 1332,
             "dccaspects": [
                 [
                     [
-                        60,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -1327,15 +1115,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        60,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -1799,32 +1587,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 6,
+            "itemid": 17,
             "itemsubtype": 1,
-            "itemtype": 2,
-            "orientation": 180,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -1840,22 +1628,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "16",
                     0
                 ],
                 [
                     [
                         [
-                            2,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -1964,16 +1752,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 825.0,
-            "posy": 175.0,
+            "posx": 150,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -2041,17 +1829,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        5,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -2083,17 +1871,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        8,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -2103,18 +1891,18 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        1,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -2252,15 +2040,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                true,
+                false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -2268,15 +2056,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal6",
+            "tags": "signal17",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -2330,23 +2118,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                12,
+                10,
                 [
                     [
-                        11,
+                        5,
                         0,
                         0
                     ],
                     [
-                        2,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -2360,135 +2148,144 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "5424b00f-f0ad-4900-8b9c-7d858a2e05d0": {
-            "bbox": 224,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 4,
-            "label": "16",
-            "mirror": "",
-            "posx": 1450.0,
-            "posy": 225.0,
-            "state": false,
-            "tags": "section4"
+        "146287d7-4772-46bc-8952-89c98ff36bb0": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1338,
+            "colour": "black",
+            "end1": 1893,
+            "end2": 1894,
+            "endx": 1275,
+            "endy": 225,
+            "item": "line",
+            "itemid": 1,
+            "line": 1892,
+            "posx": 975,
+            "posy": 225,
+            "stop1": 1895,
+            "stop2": 1896,
+            "tags": "line1"
         },
-        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
+        "16c59187-f382-4e52-9d40-41856f8c57e9": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 244,
+            "bbox": 1366,
             "dccaspects": [
                 [
                     [
-                        30,
+                        0,
                         false
                     ],
                     [
-                        32,
+                        0,
                         false
                     ],
                     [
-                        33,
+                        0,
                         false
                     ],
                     [
-                        31,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        31,
+                        0,
                         false
                     ],
                     [
-                        32,
+                        0,
                         false
                     ],
                     [
-                        33,
+                        0,
                         false
                     ],
                     [
-                        30,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        30,
+                        0,
                         false
                     ],
                     [
-                        31,
+                        0,
                         false
                     ],
                     [
-                        33,
+                        0,
                         false
                     ],
                     [
-                        32,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        30,
+                        0,
                         false
                     ],
                     [
-                        31,
+                        0,
                         false
                     ],
                     [
-                        32,
+                        0,
                         false
                     ],
                     [
-                        33,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2887,36 +2684,36 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 3,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 0,
+            "itemid": 19,
+            "itemsubtype": 1,
+            "itemtype": 3,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "18"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -2928,15 +2725,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "4",
+                    "11",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -3052,16 +2849,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1100.0,
-            "posy": 225.0,
+            "posx": 425,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -3129,17 +2926,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -3346,25 +3143,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                true,
+                false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                true,
+                false,
                 0
             ],
-            "tags": "signal3",
+            "tags": "signal19",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -3418,18 +3215,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                3,
+                14,
                 [
                     [
-                        4,
+                        15,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -3448,31 +3245,57 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "566843c0-90fe-4397-9a64-9b9f3cb44514": {
+        "1b3f1dca-d687-4ec6-98e3-cc017d9f844a": {
+            "bbox": 1368,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 11,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 750,
+            "posy": 175,
+            "state": false,
+            "tags": "section11"
+        },
+        "23ef06a2-5597-4aba-920c-ca15828a7733": {
+            "bbox": 1370,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 9,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 750,
+            "posy": 275,
+            "state": false,
+            "tags": "section9"
+        },
+        "2af3fecc-b104-4832-bc02-aadedb0177e9": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 263,
+            "bbox": 1398,
             "dccaspects": [
                 [
                     [
-                        90,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -3490,16 +3313,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        90,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3516,16 +3339,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        91,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3542,15 +3365,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        91,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -3962,32 +3785,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 9,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemid": 12,
+            "itemsubtype": 1,
+            "itemtype": 3,
             "orientation": 180,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "21"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -4003,15 +3826,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "12",
+                    "10",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -4127,15 +3950,15 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1550,
+            "posx": 1450,
             "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
@@ -4431,15 +4254,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal9",
+            "tags": "signal12",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -4493,18 +4316,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                6,
+                7,
                 [
                     [
-                        7,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -4523,122 +4346,122 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
+        "2b5d8e22-47be-4105-b392-ab96eebc8b22": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 282,
+            "bbox": 1426,
             "dccaspects": [
                 [
                     [
-                        80,
+                        0,
                         false
                     ],
                     [
-                        82,
+                        0,
                         false
                     ],
                     [
-                        83,
+                        0,
                         false
                     ],
                     [
-                        81,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        81,
+                        0,
                         false
                     ],
                     [
-                        82,
+                        0,
                         false
                     ],
                     [
-                        83,
+                        0,
                         false
                     ],
                     [
-                        80,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        80,
+                        0,
                         false
                     ],
                     [
-                        81,
+                        0,
                         false
                     ],
                     [
-                        83,
+                        0,
                         false
                     ],
                     [
-                        82,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        80,
+                        0,
                         false
                     ],
                     [
-                        81,
+                        0,
                         false
                     ],
                     [
-                        82,
+                        0,
                         false
                     ],
                     [
-                        83,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5041,22 +4864,22 @@
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
             "itemid": 8,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemsubtype": 1,
+            "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "6"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -5202,16 +5025,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 475.0,
-            "posy": 225.0,
+            "posx": 625,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -5279,18 +5102,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        15,
+                        6,
                         [
-                            true,
                             false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -5299,20 +5122,20 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        6,
+                        15,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -5598,27 +5421,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "624d1f40-9385-4bc6-bf34-480883562b08": {
+        "3ae53dd4-7b7e-4912-9dd8-f9cd9daf875b": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 301,
+            "bbox": 1454,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -6113,25 +5936,25 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": true,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 11,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemid": 9,
+            "itemsubtype": 2,
+            "itemtype": 3,
             "orientation": 180,
-            "overrideahead": false,
-            "overridesignal": false,
+            "overrideahead": true,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "26"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -6153,15 +5976,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "12",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -6277,16 +6100,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 150.0,
-            "posy": 275.0,
+            "posx": 1675,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -6581,22 +6404,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal11",
+            "tags": "signal9",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    true,
-                    11,
+                    false,
+                    0,
                     0,
-                    2
+                    0
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -6643,18 +6466,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                15,
+                6,
                 [
                     [
-                        0,
+                        7,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -6673,27 +6496,75 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "64b572a6-a2d0-4010-b33f-cd73b16f3f24": {
+        "3c5565ee-45f3-4298-a7da-5c1c52ebf2d2": {
+            "bbox": 1456,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 13,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1550,
+            "posy": 175,
+            "state": false,
+            "tags": "section13"
+        },
+        "3f11b41e-b356-402c-b59e-b314963b3723": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1462,
+            "colour": "black",
+            "end1": 2009,
+            "end2": 2010,
+            "endx": 1375,
+            "endy": 225,
+            "item": "line",
+            "itemid": 2,
+            "line": 2008,
+            "posx": 1800,
+            "posy": 225,
+            "stop1": 2011,
+            "stop2": 2012,
+            "tags": "line2"
+        },
+        "40da50ad-40cf-4f2f-a86f-eef794d41ace": {
+            "bbox": 1464,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 2,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 750,
+            "posy": 225,
+            "state": false,
+            "tags": "section2"
+        },
+        "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 320,
+            "bbox": 1473,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -7187,32 +7058,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 16,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 0,
+            "itemid": 6,
+            "itemsubtype": 1,
+            "itemtype": 4,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
-                "5"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -7228,22 +7099,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "8",
+                    "",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            2,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -7352,21 +7223,21 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 300.0,
-            "posy": 225.0,
+            "posx": 1000,
+            "posy": 175,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        60
                     ],
                     [
                         false,
                         0
                     ],
                     [
                         false,
@@ -7429,17 +7300,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        5,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -7471,18 +7342,18 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -7491,17 +7362,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -7640,15 +7511,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -7656,15 +7527,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal16",
+            "tags": "signal6",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -7718,23 +7589,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                5,
+                12,
                 [
                     [
-                        1,
+                        11,
                         0,
                         0
                     ],
                     [
-                        0,
+                        2,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -7748,27 +7619,40 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "69f55083-33c0-4066-a29d-a3f14cee3bb9": {
+        "49436626-93f4-4b47-b9ae-5221c9d27577": {
+            "bbox": 1475,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 7,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1550,
+            "posy": 275,
+            "state": false,
+            "tags": "section7"
+        },
+        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 332,
+            "bbox": 1503,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8265,33 +8149,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 15,
+            "itemid": 3,
             "itemsubtype": 1,
-            "itemtype": 2,
-            "orientation": 180,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            3,
                             false
                         ],
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -8303,15 +8187,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -8427,24 +8311,24 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 825.0,
-            "posy": 225.0,
+            "posx": 1175,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        30
                     ],
                     [
-                        false,
+                        true,
                         0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
@@ -8504,15 +8388,15 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        13,
                         [
                             true,
                             false,
                             false,
                             false,
                             false
                         ]
@@ -8524,17 +8408,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        8,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -8721,25 +8605,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
+                true,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal15",
+            "tags": "signal3",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -8796,15 +8680,15 @@
                     0
                 ]
             ],
             "tracksections": [
                 3,
                 [
                     [
-                        2,
+                        4,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -8823,114 +8707,54 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
-            "alsoswitch": 0,
-            "automatic": true,
-            "bbox": 339,
-            "colour": "black",
-            "dccaddress": 101,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 4,
-            "itemtype": 1,
-            "orientation": 180,
-            "posx": 1225.0,
-            "posy": 225.0,
-            "reverse": false,
-            "siginterlock": [],
-            "tags": "point4"
-        },
-        "709c0d2f-3d16-4669-b53f-38614ef26ea2": {
-            "background": "grey85",
-            "bbox": 342,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 8,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 1636.0,
-            "posy": 212.0,
-            "tags": "709c0d2f-3d16-4669-b53f-38614ef26ea2",
-            "text": "Down Main"
-        },
-        "7648db7c-97c7-41f3-beee-e60656b9173a": {
-            "bbox": 345,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 14,
-            "label": "14",
-            "mirror": "",
-            "posx": 400.0,
-            "posy": 275.0,
-            "state": false,
-            "tags": "section14"
-        },
-        "768c5e02-b80c-4025-a27a-ab5a225ae105": {
-            "bbox": 348,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 9,
-            "label": "14",
-            "mirror": "",
-            "posx": 575.0,
-            "posy": 275.0,
-            "state": false,
-            "tags": "section9"
-        },
-        "8232da6f-9aeb-45bd-8519-039297c6d3b9": {
+        "56b15939-53f4-4ba0-8e3f-7bbef0a19165": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 354,
+            "bbox": 1509,
             "colour": "black",
-            "end1": 350,
-            "end2": 351,
-            "endx": 800.0,
-            "endy": 225.0,
+            "end1": 2051,
+            "end2": 2052,
+            "endx": 1375,
+            "endy": 275,
             "item": "line",
-            "itemid": 4,
-            "line": 349,
-            "posx": 1200.0,
-            "posy": 225.0,
-            "stop1": 352,
-            "stop2": 353,
-            "tags": "line4"
+            "itemid": 3,
+            "line": 2050,
+            "posx": 1800,
+            "posy": 275,
+            "stop1": 2053,
+            "stop2": 2054,
+            "tags": "line3"
         },
-        "82685c46-2db9-4145-a0f8-7111098f16ec": {
+        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 366,
+            "bbox": 1562,
             "dccaspects": [
                 [
                     [
-                        140,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -8947,15 +8771,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        140,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -9411,41 +9235,41 @@
                         [
                             0,
                             false
                         ]
                     ]
                 ]
             ],
-            "distautomatic": false,
+            "distautomatic": true,
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": false,
+            "fullyautomatic": true,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 14,
+            "itemid": 16,
             "itemsubtype": 1,
-            "itemtype": 2,
+            "itemtype": 3,
             "orientation": 0,
-            "overrideahead": false,
-            "overridesignal": false,
+            "overrideahead": true,
+            "overridesignal": true,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -9460,15 +9284,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "8",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -9584,28 +9408,28 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1225.0,
-            "posy": 275.0,
+            "posx": 375,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        80
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        false,
+                        true,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -9661,18 +9485,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -9888,15 +9712,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal14",
+            "tags": "signal16",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -9950,18 +9774,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                5,
                 [
                     [
-                        4,
+                        1,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -9980,66 +9804,31 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "8efa0c5d-19c3-4826-a797-34453446bb67": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 372,
-            "colour": "black",
-            "end1": 368,
-            "end2": 369,
-            "endx": 1200.0,
-            "endy": 175.0,
-            "item": "line",
-            "itemid": 5,
-            "line": 367,
-            "posx": 800.0,
-            "posy": 175.0,
-            "stop1": 370,
-            "stop2": 371,
-            "tags": "line5"
-        },
-        "a19e74b3-1746-478b-92c3-2ae4183b4c71": {
-            "bbox": 375,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 6,
-            "label": "14",
-            "mirror": "",
-            "posx": 1625,
-            "posy": 275,
-            "state": false,
-            "tags": "section6"
-        },
-        "a3a8d6ac-dc68-4d04-a0c0-8a94f8dd4d5b": {
+        "65b221aa-9d3c-4a9d-bbfe-1e61331d3811": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 394,
+            "bbox": 1571,
             "dccaspects": [
                 [
                     [
-                        100,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10057,16 +9846,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        100,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -10083,16 +9872,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        101,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -10109,15 +9898,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        101,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10529,32 +10318,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 10,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemid": 15,
+            "itemsubtype": 1,
+            "itemtype": 4,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
-                "23"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -10570,15 +10359,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "18",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -10694,16 +10483,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 825.0,
-            "posy": 275.0,
+            "posx": 1000,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -10771,17 +10560,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        1,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -10791,17 +10580,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -10998,15 +10787,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal10",
+            "tags": "signal15",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -11060,18 +10849,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                3,
                 [
                     [
-                        9,
+                        2,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -11090,27 +10879,86 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "a58ae971-dd6e-4f5e-92e3-0d451f28cc36": {
+        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
+            "alsoswitch": 4,
+            "automatic": false,
+            "bbox": 1578,
+            "colour": "black",
+            "dccaddress": 101,
+            "dccreversed": false,
+            "hasfpl": true,
+            "item": "point",
+            "itemid": 3,
+            "itemtype": 1,
+            "orientation": 0,
+            "posx": 1300,
+            "posy": 175,
+            "reverse": false,
+            "siginterlock": [
+                [
+                    2,
+                    [
+                        true,
+                        true,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    3,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    7,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    13,
+                    [
+                        true,
+                        false,
+                        false,
+                        true,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point3"
+        },
+        "71e6fad1-a16e-4a4a-be41-a40a63a0f006": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 413,
+            "bbox": 1606,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -11604,26 +11452,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 19,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 180,
+            "itemid": 4,
+            "itemsubtype": 1,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "25"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -11645,15 +11493,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "11",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -11769,16 +11617,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 325.0,
-            "posy": 275.0,
+            "posx": 1625,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12073,22 +11921,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal19",
+            "tags": "signal4",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    4,
                     0,
-                    0
+                    3
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -12135,18 +11983,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                14,
+                4,
                 [
                     [
-                        15,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -12165,160 +12013,157 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
-            "arrowends": 1,
+        "85d79875-69a8-4f48-b990-56add64e268d": {
+            "bbox": 1608,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 1,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 525,
+            "posy": 225,
+            "state": false,
+            "tags": "section1"
+        },
+        "8efa0c5d-19c3-4826-a797-34453446bb67": {
+            "arrowends": 0,
             "arrowtype": [
-                1,
-                1,
-                1
+                0,
+                0,
+                0
             ],
-            "bbox": 419,
+            "bbox": 1614,
             "colour": "black",
-            "end1": 415,
-            "end2": 416,
-            "endx": 1250.0,
-            "endy": 175.0,
+            "end1": 2150,
+            "end2": 2151,
+            "endx": 1275,
+            "endy": 175,
             "item": "line",
-            "itemid": 6,
-            "line": 414,
-            "posx": 1525.0,
-            "posy": 175.0,
-            "stop1": 417,
-            "stop2": 418,
-            "tags": "line6"
-        },
-        "abd81429-2c2a-4b04-bc62-81a103da6e24": {
-            "background": "#76d0d9",
-            "bbox": 422,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 9,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 950.0,
-            "posy": 200.0,
-            "tags": "abd81429-2c2a-4b04-bc62-81a103da6e24",
-            "text": "    Platform 2/3    "
+            "itemid": 4,
+            "line": 2149,
+            "posx": 975,
+            "posy": 175,
+            "stop1": 2152,
+            "stop2": 2153,
+            "tags": "line4"
         },
-        "ac294bf3-a8ee-473e-877b-24db735b8d76": {
+        "902284fd-0dc0-4ded-96b6-e94ba78a1cf4": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 441,
+            "bbox": 1623,
             "dccaspects": [
                 [
                     [
-                        40,
+                        0,
                         false
                     ],
                     [
-                        42,
+                        0,
                         false
                     ],
                     [
-                        43,
+                        0,
                         false
                     ],
                     [
-                        41,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        41,
+                        0,
                         false
                     ],
                     [
-                        42,
+                        0,
                         false
                     ],
                     [
-                        43,
+                        0,
                         false
                     ],
                     [
-                        40,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        40,
+                        0,
                         false
                     ],
                     [
-                        41,
+                        0,
                         false
                     ],
                     [
-                        43,
+                        0,
                         false
                     ],
                     [
-                        42,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        40,
+                        0,
                         false
                     ],
                     [
-                        41,
+                        0,
                         false
                     ],
                     [
-                        42,
+                        0,
                         false
                     ],
                     [
-                        43,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12720,30 +12565,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 4,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemid": 14,
+            "itemsubtype": 1,
+            "itemtype": 4,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                "20"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            5,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -12882,16 +12727,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1525.0,
-            "posy": 225.0,
+            "posx": 1300,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12959,18 +12804,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -13186,22 +13031,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal4",
+            "tags": "signal14",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    true,
-                    4,
+                    false,
                     0,
-                    5
+                    0,
+                    0
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -13248,18 +13093,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                4,
+                8,
                 [
                     [
-                        0,
+                        4,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -13278,31 +13123,44 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "acbd35af-8e88-400e-979b-44e1de8c927d": {
+        "94fd8cf6-a410-4f67-9da5-c985edcbf688": {
+            "bbox": 1625,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 3,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1075,
+            "posy": 225,
+            "state": false,
+            "tags": "section3"
+        },
+        "98387fe9-9a77-4b97-92e3-0df8c2a21c2f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 460,
+            "bbox": 1653,
             "dccaspects": [
                 [
                     [
-                        120,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13320,16 +13178,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        120,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13346,16 +13204,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        121,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13372,15 +13230,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        121,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13792,32 +13650,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": false,
+            "fullyautomatic": true,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 12,
-            "itemsubtype": 5,
-            "itemtype": 1,
+            "itemid": 18,
+            "itemsubtype": 2,
+            "itemtype": 3,
             "orientation": 180,
-            "overrideahead": false,
+            "overrideahead": true,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "22"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -13833,15 +13691,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "10",
+                    "19",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -13957,16 +13815,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1375.0,
-            "posy": 275.0,
+            "posx": 675,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14261,15 +14119,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal12",
+            "tags": "signal18",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -14323,18 +14181,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                7,
+                9,
                 [
                     [
-                        8,
+                        14,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -14353,220 +14211,89 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "b3b255c4-744a-4476-a7d0-3535e718fac1": {
-            "bbox": 463,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 3,
-            "label": "16",
-            "mirror": "",
-            "posx": 950.0,
-            "posy": 225.0,
-            "state": false,
-            "tags": "section3"
-        },
-        "b55de778-8bb5-4d62-965e-d62ca9aa136d": {
-            "bbox": 466,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 13,
-            "label": "16",
-            "mirror": "",
-            "posx": 1450.0,
-            "posy": 175.0,
-            "state": false,
-            "tags": "section13"
-        },
-        "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
-            "alsoswitch": 4,
-            "automatic": false,
-            "bbox": 473,
-            "colour": "black",
-            "dccaddress": 1003,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 3,
-            "itemtype": 1,
-            "orientation": 0,
-            "posx": 1225.0,
-            "posy": 175.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    2,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    7,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
-                        true,
-                        false,
-                        false,
-                        true,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point3"
-        },
-        "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
+        "9c4be7ee-4780-4e8b-92a2-08e95a11d339": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 479,
+            "bbox": 1659,
             "colour": "black",
-            "end1": 475,
-            "end2": 476,
-            "endx": -50.0,
-            "endy": 225.0,
+            "end1": 2191,
+            "end2": 2192,
+            "endx": 0,
+            "endy": 275,
             "item": "line",
-            "itemid": 7,
-            "line": 474,
-            "posx": 750.0,
-            "posy": 225.0,
-            "stop1": 477,
-            "stop2": 478,
-            "tags": "line7"
+            "itemid": 5,
+            "line": 2190,
+            "posx": 1325,
+            "posy": 275,
+            "stop1": 2193,
+            "stop2": 2194,
+            "tags": "line5"
         },
-        "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
-            "alsoswitch": 1,
-            "automatic": false,
-            "bbox": 486,
-            "colour": "black",
-            "dccaddress": 1002,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 2,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 775.0,
-            "posy": 225.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    6,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    15,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    5,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    1,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point2"
+        "a6e56e82-869d-4a63-b9fe-649476f59a62": {
+            "bbox": 1661,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 12,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1075,
+            "posy": 175,
+            "state": false,
+            "tags": "section12"
         },
-        "c8564be9-6891-48f3-999a-53472f24c85f": {
-            "arrowends": 2,
+        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
+            "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 492,
+            "bbox": 1667,
             "colour": "black",
-            "end1": 488,
-            "end2": 489,
-            "endx": 525.0,
-            "endy": 175.0,
+            "end1": 2197,
+            "end2": 2198,
+            "endx": 1325,
+            "endy": 175,
             "item": "line",
-            "itemid": 8,
-            "line": 487,
-            "posx": 750.0,
-            "posy": 175.0,
-            "stop1": 490,
-            "stop2": 491,
-            "tags": "line8"
+            "itemid": 6,
+            "line": 2196,
+            "posx": 1600,
+            "posy": 175,
+            "stop1": 2199,
+            "stop2": 2200,
+            "tags": "line6"
         },
-        "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
+        "aa07d0f4-841d-40c9-87ef-cf9ec08a9239": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 504,
+            "bbox": 1695,
             "dccaspects": [
                 [
                     [
-                        50,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14583,15 +14310,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        50,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -15055,32 +14782,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 5,
+            "itemid": 11,
             "itemsubtype": 1,
-            "itemtype": 2,
-            "orientation": 0,
+            "itemtype": 3,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -15220,16 +14947,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 725.0,
-            "posy": 175.0,
+            "posx": 200,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -15297,37 +15024,37 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        6,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        13,
+                        0,
                         [
                             false,
                             false,
                             false,
-                            true,
+                            false,
                             false
                         ]
                     ],
                     [
-                        7,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -15524,22 +15251,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal5",
+            "tags": "signal11",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    11,
                     0,
-                    0
+                    3
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -15586,18 +15313,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                11,
+                15,
                 [
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -15616,79 +15343,71 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "cf7ab31e-b781-435b-8b96-0398da28e8f1": {
-            "bbox": 507,
+        "af408a69-7a43-4f8e-9453-728ec2747514": {
+            "bbox": 1697,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 7,
-            "label": "14",
-            "mirror": "",
-            "posx": 1450.0,
-            "posy": 275.0,
-            "state": false,
-            "tags": "section7"
-        },
-        "d2c6a4dd-630c-4836-ad26-52269177edcc": {
-            "bbox": 510,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 1,
-            "label": "15",
+            "itemid": 6,
+            "label": "XXXXX",
             "mirror": "",
-            "posx": 400.0,
-            "posy": 225.0,
+            "posx": 1750,
+            "posy": 275,
             "state": false,
-            "tags": "section1"
+            "tags": "section6"
         },
-        "d53174a7-e4e9-425d-94a8-80507bd85a04": {
-            "bbox": 513,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 5,
-            "label": "15",
-            "mirror": "",
-            "posx": 225.0,
-            "posy": 225.0,
-            "state": false,
-            "tags": "section5"
+        "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
+            "alsoswitch": 0,
+            "automatic": true,
+            "bbox": 1702,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 4,
+            "itemtype": 1,
+            "orientation": 180,
+            "posx": 1300,
+            "posy": 225,
+            "reverse": false,
+            "siginterlock": [],
+            "tags": "point4"
         },
-        "d5d3aa4e-cc00-4d66-a1c6-8b52bb7b1a92": {
-            "bbox": 516,
+        "bd8c0b62-add0-4714-b49a-7bbae0da4124": {
+            "bbox": 1704,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 12,
-            "label": "16",
+            "itemid": 8,
+            "label": "XXXXX",
             "mirror": "",
-            "posx": 950.0,
-            "posy": 175.0,
+            "posx": 1075,
+            "posy": 275,
             "state": false,
-            "tags": "section12"
+            "tags": "section8"
         },
-        "ddfcbf50-82fc-45e2-b861-1cc519b08d28": {
+        "bef3b222-f3c5-427d-b34c-cd5d283a00fa": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 535,
+            "bbox": 1732,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -16185,23 +15904,23 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 17,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 0,
+            "itemid": 10,
+            "itemsubtype": 1,
+            "itemtype": 3,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "4"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -16223,15 +15942,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "16",
+                    "18",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -16347,16 +16066,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 125.0,
-            "posy": 225.0,
+            "posx": 900,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -16651,15 +16370,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal17",
+            "tags": "signal10",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -16713,18 +16432,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                10,
+                8,
                 [
                     [
-                        5,
+                        9,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -16743,79 +16462,148 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "df337c59-d6c8-420a-9165-628b58e8be08": {
-            "alsoswitch": 0,
-            "automatic": true,
-            "bbox": 542,
+        "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1738,
             "colour": "black",
-            "dccaddress": 0,
+            "end1": 2262,
+            "end2": 2263,
+            "endx": 0,
+            "endy": 225,
+            "item": "line",
+            "itemid": 7,
+            "line": 2261,
+            "posx": 925,
+            "posy": 225,
+            "stop1": 2264,
+            "stop2": 2265,
+            "tags": "line7"
+        },
+        "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
+            "alsoswitch": 1,
+            "automatic": false,
+            "bbox": 1745,
+            "colour": "black",
+            "dccaddress": 100,
             "dccreversed": false,
-            "hasfpl": false,
+            "hasfpl": true,
             "item": "point",
-            "itemid": 1,
+            "itemid": 2,
             "itemtype": 2,
-            "orientation": 180,
-            "posx": 775.0,
-            "posy": 175.0,
+            "orientation": 0,
+            "posx": 950,
+            "posy": 225,
             "reverse": false,
-            "siginterlock": [],
-            "tags": "point1"
+            "siginterlock": [
+                [
+                    6,
+                    [
+                        true,
+                        true,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    15,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    5,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    1,
+                    [
+                        true,
+                        true,
+                        false,
+                        false,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point2"
+        },
+        "c8564be9-6891-48f3-999a-53472f24c85f": {
+            "arrowends": 2,
+            "arrowtype": [
+                1,
+                1,
+                1
+            ],
+            "bbox": 1751,
+            "colour": "black",
+            "end1": 2273,
+            "end2": 2274,
+            "endx": 675,
+            "endy": 175,
+            "item": "line",
+            "itemid": 8,
+            "line": 2272,
+            "posx": 925,
+            "posy": 175,
+            "stop1": 2275,
+            "stop2": 2276,
+            "tags": "line8"
         },
-        "e3b1ad43-1e39-456d-aad8-7943e5864ac8": {
-            "bbox": 545,
+        "c88a11f5-d1b0-4a02-869e-f53d2c930635": {
+            "bbox": 1753,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 11,
-            "label": "16",
+            "itemid": 5,
+            "label": "XXXXX",
             "mirror": "",
-            "posx": 575.0,
-            "posy": 175.0,
+            "posx": 275,
+            "posy": 225,
             "state": false,
-            "tags": "section11"
-        },
-        "e4853677-978f-4fc5-b03d-c92d0bb216ea": {
-            "background": "#76d0d9",
-            "bbox": 548,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 9,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 950.0,
-            "posy": 300.0,
-            "tags": "e4853677-978f-4fc5-b03d-c92d0bb216ea",
-            "text": "     Platform 1     "
+            "tags": "section5"
         },
-        "ed8d646c-60cc-4a5a-b8f0-cbd337263db8": {
+        "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 560,
+            "bbox": 1762,
             "dccaspects": [
                 [
                     [
-                        70,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -16832,15 +16620,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        70,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -17307,29 +17095,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 7,
+            "itemid": 5,
             "itemsubtype": 1,
-            "itemtype": 2,
-            "orientation": 180,
+            "itemtype": 4,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -17469,21 +17257,21 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1275.0,
-            "posy": 175.0,
+            "posx": 925,
+            "posy": 175,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        50
                     ],
                     [
                         false,
                         0
                     ],
                     [
                         false,
@@ -17546,40 +17334,40 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        2,
+                        6,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
-                        5,
+                        13,
                         [
-                            true,
                             false,
                             false,
                             false,
+                            true,
                             false
                         ]
                     ],
                     [
-                        1,
+                        7,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -17773,15 +17561,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal7",
+            "tags": "signal5",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -17835,15 +17623,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                13,
+                11,
                 [
                     [
                         12,
                         0,
                         0
                     ],
                     [
@@ -17865,45 +17653,158 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "ee774c2b-3946-44aa-9254-a31f2bebecb8": {
-            "bbox": 563,
+        "d5bac97c-de07-407d-966d-83ea0ae26a83": {
+            "bbox": 1764,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 10,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 50,
+            "posy": 225,
+            "state": false,
+            "tags": "section10"
+        },
+        "d9840a46-28fd-40dd-a059-df46b9a762e2": {
+            "alsoswitch": 6,
+            "automatic": false,
+            "bbox": 1770,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 5,
+            "itemtype": 2,
+            "orientation": 0,
+            "posx": 1350,
+            "posy": 275,
+            "reverse": false,
+            "siginterlock": [
+                [
+                    2,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    12,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    3,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    14,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    13,
+                    [
+                        true,
+                        true,
+                        false,
+                        true,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point5"
+        },
+        "dcf7ea0d-cd58-45bf-842e-d4e6e87c9a2a": {
+            "bbox": 1772,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 15,
-            "label": "14",
+            "label": "XXXXX",
             "mirror": "",
-            "posx": 225.0,
-            "posy": 275.0,
+            "posx": 275,
+            "posy": 275,
             "state": false,
             "tags": "section15"
         },
-        "f030d8c7-4d78-40bd-a046-e5cec8376481": {
+        "df337c59-d6c8-420a-9165-628b58e8be08": {
+            "alsoswitch": 0,
+            "automatic": true,
+            "bbox": 1777,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 1,
+            "itemtype": 2,
+            "orientation": 180,
+            "posx": 950,
+            "posy": 175,
+            "reverse": false,
+            "siginterlock": [],
+            "tags": "point1"
+        },
+        "e0705584-fbf0-47f0-a695-810489e4d5d4": {
+            "bbox": 1779,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 4,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1550,
+            "posy": 225,
+            "state": false,
+            "tags": "section4"
+        },
+        "ed8d646c-60cc-4a5a-b8f0-cbd337263db8": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 575,
+            "bbox": 1788,
             "dccaspects": [
                 [
                     [
-                        130,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -17920,15 +17821,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        130,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -18395,33 +18296,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 13,
+            "itemid": 7,
             "itemsubtype": 1,
-            "itemtype": 2,
+            "itemtype": 4,
             "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
+                            3,
                             false
                         ],
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -18439,16 +18340,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -18499,20 +18400,20 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
-                            3,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -18557,21 +18458,21 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1325.0,
-            "posy": 225.0,
+            "posx": 1350,
+            "posy": 175,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        70
                     ],
                     [
                         false,
                         0
                     ],
                     [
                         false,
@@ -18634,35 +18535,35 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        2,
                         [
-                            true,
                             false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        3,
+                        5,
                         [
                             true,
                             false,
                             false,
                             false,
                             false
                         ]
@@ -18676,17 +18577,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        14,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -18760,38 +18661,38 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        2,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        5,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        1,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -18845,31 +18746,31 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                true,
                 false,
-                true,
+                false,
+                false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal13",
+            "tags": "signal7",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -18923,196 +18824,170 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                4,
+                13,
                 [
                     [
-                        3,
+                        12,
                         0,
                         0
                     ],
                     [
-                        8,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "f1dbf1a3-0d5b-43e2-a476-18ccb8b0b920": {
-            "bbox": 578,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 8,
-            "label": "16",
-            "mirror": "",
-            "posx": 950.0,
-            "posy": 275.0,
-            "state": false,
-            "tags": "section8"
-        },
-        "f2b7d2d9-eb4d-4e55-859f-100131262fe2": {
+        "f14ef6e8-7b7b-4568-b0e6-c105889caf10": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 585,
+            "bbox": 1793,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 6,
             "itemtype": 2,
             "orientation": 180,
-            "posx": 1275.0,
-            "posy": 225.0,
+            "posx": 1350,
+            "posy": 225,
             "reverse": false,
             "siginterlock": [],
             "tags": "point6"
         },
-        "f771894a-e7a8-4e26-a9d0-d316f9aff774": {
-            "bbox": 588,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 2,
-            "label": "16",
-            "mirror": "",
-            "posx": 575.0,
-            "posy": 225.0,
-            "state": false,
-            "tags": "section2"
-        },
-        "f7e885c9-faa7-4ee6-87df-9c035c5dadeb": {
+        "f455f78a-6e63-453c-b335-28b389182cbb": {
             "approachcontrol": [
                 0,
-                2,
+                0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
-                "13"
+                false,
+                ""
             ],
-            "bbox": 608,
+            "bbox": 1802,
             "dccaspects": [
                 [
                     [
-                        10,
+                        0,
                         false
                     ],
                     [
-                        12,
+                        0,
                         false
                     ],
                     [
-                        13,
+                        0,
                         false
                     ],
                     [
-                        11,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        11,
+                        0,
                         false
                     ],
                     [
-                        12,
+                        0,
                         false
                     ],
                     [
-                        13,
+                        0,
                         false
                     ],
                     [
-                        10,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        10,
+                        0,
                         false
                     ],
                     [
-                        11,
+                        0,
                         false
                     ],
                     [
-                        13,
+                        0,
                         false
                     ],
                     [
-                        12,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        10,
+                        0,
                         false
                     ],
                     [
-                        11,
+                        0,
                         false
                     ],
                     [
-                        12,
+                        0,
                         false
                     ],
                     [
-                        13,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -19172,15 +19047,15 @@
                     ]
                 ]
             ],
             "dccautoinhibit": false,
             "dccfeathers": [
                 [
                     [
-                        14,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -19198,15 +19073,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        14,
+                        0,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -19224,16 +19099,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        14,
-                        true
+                        0,
+                        false
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -19506,41 +19381,41 @@
                         ]
                     ]
                 ]
             ],
             "distautomatic": false,
             "feathers": [
                 false,
-                true,
+                false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 1,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 0,
+            "itemid": 13,
+            "itemsubtype": 1,
+            "itemtype": 4,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
-                "12"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            5,
                             false
                         ],
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -19552,21 +19427,21 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "3",
+                    "",
                     0
                 ],
                 [
                     [
                         [
-                            2,
+                            5,
                             true
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -19582,15 +19457,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "2",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -19618,20 +19493,20 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
-                            0,
-                            false
+                            3,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -19676,16 +19551,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 675.0,
-            "posy": 225.0,
+            "posx": 1400,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -19753,15 +19628,15 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        15,
+                        3,
                         [
                             true,
                             false,
                             false,
                             false,
                             false
                         ]
@@ -19773,15 +19648,15 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        13,
+                        1,
                         [
                             true,
                             false,
                             false,
                             false,
                             false
                         ]
@@ -19795,37 +19670,37 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        6,
+                        14,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
-                        13,
+                        0,
                         [
                             false,
                             false,
                             false,
-                            true,
+                            false,
                             false
                         ]
                     ],
                     [
-                        7,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -19879,37 +19754,37 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        2,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        5,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -19966,29 +19841,29 @@
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
                 true,
                 false,
-                false,
+                true,
                 false
             ],
             "subroutes": [
-                true,
-                true,
+                false,
+                false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                true,
-                14
+                false,
+                0
             ],
-            "tags": "signal1",
+            "tags": "signal13",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -20042,57 +19917,57 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                2,
+                4,
                 [
                     [
                         3,
                         0,
                         0
                     ],
                     [
-                        12,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "fae48e3e-2bfd-4207-afb0-34c9f9a43bf7": {
+        "f7e885c9-faa7-4ee6-87df-9c035c5dadeb": {
             "approachcontrol": [
-                0,
-                0,
+                3,
+                1,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 627,
+            "bbox": 1833,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -20586,32 +20461,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 18,
-            "itemsubtype": 5,
-            "itemtype": 1,
-            "orientation": 180,
+            "itemid": 1,
+            "itemsubtype": 1,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "24"
+                ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -20627,22 +20502,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "19",
+                    "3",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            2,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -20657,15 +20532,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "2",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -20751,38 +20626,38 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 525.0,
-            "posy": 275.0,
+            "posx": 850,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        10
                     ],
                     [
-                        false,
+                        true,
                         0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
-                        false,
-                        0
+                        true,
+                        11
                     ],
                     [
-                        false,
+                        true,
                         0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
@@ -20828,17 +20703,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        15,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -20848,17 +20723,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -20870,37 +20745,37 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        6,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
-                        0,
+                        7,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -21039,31 +20914,31 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
-                false,
+                true,
+                true,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal18",
+            "tags": "signal1",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -21117,23 +20992,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                9,
+                2,
                 [
                     [
-                        14,
+                        3,
                         0,
                         0
                     ],
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -21146,14 +21021,27 @@
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
+        },
+        "fc4b8a11-3862-417f-ba09-493456b59064": {
+            "bbox": 1835,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 14,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 525,
+            "posy": 275,
+            "state": false,
+            "tags": "section14"
         }
     },
     "points": {
         "1": {
             "fpllock": false,
             "locked": false,
             "switched": false
@@ -21180,92 +21068,93 @@
         },
         "6": {
             "fpllock": false,
             "locked": false,
             "switched": false
         }
     },
-    "sections": {},
+    "sections": {
+        "1": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "10": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "11": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "12": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "13": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "14": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "15": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "2": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "3": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "4": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "5": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "6": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "7": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "8": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "9": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        }
+    },
     "settings": {
         "canvas": {
             "grid": 25,
             "height": 500,
             "snaptogrid": true,
-            "width": 1675
+            "width": 1800
         },
         "general": {
             "automation": true,
-            "editmode": true,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/automation_colour_light_example.sig",
-            "info": "This layout is a development of the basic interlocking example to demonstrate signalling automation\n(note that the application needs to be in 'run' mode for all automation features to function).\n\nTrack sensors (such as those from TrainTech, Heathcote Electronics, DCC Concepts etc) can be located \nwith each signal and connected in to the R-Pi's GPIO ports (via appropriate opto isolator circuits).\nEach GPIO port can then be mapped to a signal to generate 'signal passed' events - In 'edit' mode,\nclick on a signal and select the 'automation' tab to view the configuration. 'Signal passed' events\ncan also be triggered by clicking on the small button at the base of each signal (as an aid to \ndevelopment and testing of signalling schemes before going 'live' with the R-Pi).\n\nTrack sections can be added to the schematic to provide a mimic display of track occupancy (when a\ntrain passes a signal (signal must be 'off') it gets passed from the section behind to the section ahead.\nThe required behavior is configured via the 'automation' tab of each signal. For example, signal 1\ncontrols two 'routes' so when passed, section 2 will be cleared and either section 12 or 3 will be set \nto occupied, depending on which route the signal is cleared for.\n\nAll main signals are configured to be 'overridden' if the track section ahead is occupied. This means\nthat each signal will automatically change to 'on' when passed (section ahead is occupied) and then\nrevert to'off' as soon as the section ahead is cleared. The actual aspect displayed when 'off' will \ndepend on the aspect of the signal ahead (specified via the 'interlocking tab'). This means that any\nsignals on the layout that don't need a level of manual control can be 'fully automated' (no buttons).\n\nTo simulate prototypical aspect changes for trains going off scene, the 'exit' signals (signals 4 and\n11 in this example) can be configured as 'timed signals'. Once passed they are overriden to 'on' (as\nper the other signals on the layout) but then cycle back through the aspects back to 'proceed'.\n\nTrack sensors can also positioned slightly before the signal and mapped to generate 'signal approached'\nevents to simulate 'approach control'. In this example, signal 1 is configured for 'release on yellow'\napproach control for the diverging route (in the case of the diverging route having a speed restriction).\nThis means the signal (when 'off') will initially display a yellow aspect (with the signals behind \ndisplaying flashing yellow and flashing double yellow). When the train approaches the signal (having\nslowed down for the diverging route) it will automatically change to green.\n\nTo demonstrate all the above in action, set 'run' mode and reset the layout to set all signals, points\nand track sections back to their default states. unlock, switch and re-lock points 2 and 3 for the\ndiverging loop line and set signals 8, 1, 2 and 4 to 'off'. Right click the far left track section and\nenter a train designation code of your choice (this sets the section to 'occupied'. Now, move the train\nthrough the schematic, clicking the 'signal passed' button at the base of each signal along the route\nin turn (don't forget to click the 'signal approached' button ahead of signal 1 if you want to see\napproach control working). When you get to signal 4, the train will disappear 'off scene' and the signal\nwill cycle back through the aspects (with a short delay between aspects) until it gets back to green.\n\nAlternatively, if running on a Raspberry pi, the track sensors can be triggered directly via the Ri-Pi's \nGPIO ports (momentarily connect the appropriate GPIO pin to one of the R-Pi's 0V DC pins). Select \n'Settings' =>'Sensors' from the Menubar to view the configuration. In this example the Track Sensor IDs\nhave been mapped to the GPIO port number, but any numbering scheme can be used (e.g. allocate the same ID \nfor the sensor as the signal ID it is triggering). \n\nThe layout is fully configured to support all possible train movements (including shunting movements)\nso have a play - but note that signals can only be 'passed' when 'off' for the track occupancy\nchanges to work correctly (the application currently doesn't support any form of SPAD functionality)\n\n\n\n",
-            "version": "Version 4.1.0"
+            "editmode": false,
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/automation_semaphore_example.sig",
+            "info": "This layout is a development of the basic interlocking example to demonstrate signalling automation\n(note that the application needs to be in 'run' mode for all automation features to function).\n\nTrack sensors (such as those from TrainTech, Heathcote Electronics, DCC Concepts etc) can be located \nwith each signal and connected in to the R-Pi's GPIO ports (via appropriate opto-isolator circuits).\nEach GPIO port can then be mapped to a signal to generate 'signal passed' events - In 'edit' mode,\nclick on a signal and select the 'automation' tab to view the configuration (note that external\nGPIO sensors haven't been configured for this particular example layout). 'Signal passed' events\ncan also be triggered by clicking on the small button at the base of each signal (as an aid to \ndevelopment and testing of signalling schemes before going 'live' with the R-Pi).\n\nTrack sections can be added to the schematic to provide a mimic display of track occupancy (when a\ntrain passes a signal (signal must be 'off') it gets passed from the section behind to the section ahead.\nThe required behavior is configured via the 'automation' tab of each signal. For example, signal 1\ncontrols two 'routes' so when passed, section 2 will be cleared and either section 12 or 3 will be set \nto occupied, depending on which route the signal is cleared for.\n\nAll main signals are configured to be 'overridden' if the track section ahead is occupied. This means\nthat each signal will automatically change to 'on' when passed (section ahead is occupied) and then\nrevert to 'off' as soon as the section ahead is cleared. Note that some of the signals in this example \nhave been configured as 'fully automatic' (without a control button). This means that they will be 'off'\nby default and controlled entirely by whether the track section ahead is occupied or not.\n\nTo simulate prototypical aspect changes for trains going off scene, the 'exit' signals (signals 4 and\n11 in this example) can be configured as 'timed signals'. Once passed (when 'off') they are overriden \nto 'on' (as per the other signals on the layout) but then revert to 'off' after the specified delay.\n\nTrack sensors can also be positioned slightly before the signal and mapped to generate 'signal \napproached' events to simulate 'approach control'. In this example, all non-fully-automatic home signals \nare configured for 'release on red based on the signals ahead'. This means that if any home signals ahead\nare showing danger then the home signal will also be overridden to 'on' by default.As the train approaches\nthe signal (at a slow speed as the signal is against it) then the signal will be released to 'off' to\nallow the train to pass and then revert back to the overidden 'on' state when the signal is passed.\nSignal 1 is also configured for 'release on red' for the diverging (low-speed) route. In this case it\nwill be overridden to 'on' even if all home signals ahead are 'off', only released as the train approaches.\n\nTo demonstrate all the above in action, set 'run' mode and reset the layout to set all signals, points\nand track sections back to their default states. Right click the far left track section and enter a train\ndesignation code of your choice (this sets the section to 'occupied'). Set signals 8, 1 and 3 to 'off' (note\nthat they will remail overridden to 'on' as home signal ahead 4 is still showing 'on'. Now, move the train\nthrough the schematic, clicking the 'signal passed' button at the base of each signal along the route\nin turn (don't forget to click the 'signal approached' button ahead of each signal if you want to see\napproach control working). When the train reaches signal 4, set the signal to 'off' and trigger the signal\npassed event. The track section before the signal will be cleared and the signal overridden to 'on' as part\nof the timed sequence. After a short delay it will revert to 'off' and when it does, all home signals behind\nwill also revert to 'off' (as they will no longer be overridden on a home signal ahead).\n\nThe layout is fully configured to support all possible train movements (including shunting movements)\nso have a play - but note that signals can only be 'passed' when 'off' for the track occupancy\nchanges to work correctly (the application currently doesn't support any form of SPAD functionality)\n\n",
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
-            "portmappings": [
-                [
-                    4,
-                    4
-                ],
-                [
-                    5,
-                    5
-                ],
-                [
-                    6,
-                    6
-                ],
-                [
-                    12,
-                    12
-                ],
-                [
-                    13,
-                    13
-                ],
-                [
-                    18,
-                    18
-                ],
-                [
-                    19,
-                    19
-                ],
-                [
-                    20,
-                    20
-                ],
-                [
-                    21,
-                    21
-                ],
-                [
-                    22,
-                    22
-                ],
-                [
-                    23,
-                    23
-                ],
-                [
-                    24,
-                    24
-                ],
-                [
-                    25,
-                    25
-                ],
-                [
-                    26,
-                    26
-                ],
-                [
-                    27,
-                    27
-                ]
-            ],
+            "portmappings": [],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
             "level": 2
         },
         "mqtt": {
@@ -21297,15 +21186,15 @@
             "power": false,
             "startup": false
         }
     },
     "signals": {
         "1": {
             "override": false,
-            "releaseonred": false,
+            "releaseonred": true,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
@@ -21328,14 +21217,25 @@
             "routeset": 1,
             "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
+        "116": {
+            "override": false,
+            "releaseonred": false,
+            "releaseonyel": false,
+            "routeset": 1,
+            "sigclear": true,
+            "siglocked": false,
+            "subclear": false,
+            "sublocked": false,
+            "theatretext": "NONE"
+        },
         "12": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
@@ -21429,15 +21329,15 @@
             "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "3": {
             "override": false,
-            "releaseonred": false,
+            "releaseonred": true,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
@@ -21484,15 +21384,15 @@
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": null
         },
         "8": {
             "override": false,
-            "releaseonred": false,
+            "releaseonred": true,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/automation_semaphore_example.sig` & `model_railway_signals-4.2.0/configuration_examples/interlocking_semaphore_example.sig`

 * *Files 8% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.8914114539044785%*

 * *Differences: {"'objects'": "{'02febfbf-ee80-4c08-b52d-84b72fa9c23b': {'approachcontrol': {insert: [(0, 0)], "*

 * *              "delete: [0]}, 'approachsensor': {insert: [(0, False)], delete: [0]}, 'bbox': 3369, "*

 * *              "'overridesignal': False, 'siginterlock': {1: {2: {1: {insert: [(3, True)], delete: "*

 * *              "[0]}, insert: [(0, 13)], delete: [0]}}}, 'tracksections': {1: {0: {insert: [(0, "*

 * *              '0)], delete: [0]}, 1: {insert: [(0, 0)], delete: [0]}}, insert: [(0, 0)], delete: '*

 * *              "[0]} […]*

```diff
@@ -1,24 +1,24 @@
 {
     "information": "Model Railway Signalling Configuration File",
     "instruments": {},
     "objects": {
-        "02febfbf-ee80-4c08-b52d-84b72fa9c23b": {
+        "0236fd2e-b21c-4565-ad76-ddf1c7e74ef6": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 750,
+            "bbox": 3339,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -515,33 +515,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 2,
+            "itemid": 11,
             "itemsubtype": 1,
             "itemtype": 3,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
-                            true
+                            0,
+                            false
                         ],
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -553,21 +553,21 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "4",
+                    "",
                     0
                 ],
                 [
                     [
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -677,39 +677,39 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1175,
-            "posy": 175,
+            "posx": 200,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
-                        20
+                        0
                     ],
                     [
-                        true,
-                        22
+                        false,
+                        0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
                     ],
                     [
-                        true,
-                        21
+                        false,
+                        0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
@@ -754,20 +754,20 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
                             false,
                             false,
                             false,
-                            true,
+                            false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -796,17 +796,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        7,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -971,25 +971,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                true,
-                true,
+                false,
+                false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal2",
+            "tags": "signal11",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -1043,23 +1043,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                12,
+                0,
                 [
                     [
-                        4,
+                        0,
                         0,
                         0
                     ],
                     [
-                        13,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -1073,27 +1073,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "0664c58f-923d-4de0-b1fa-0ced0da953a5": {
+        "02febfbf-ee80-4c08-b52d-84b72fa9c23b": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 778,
+            "bbox": 3369,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1587,36 +1587,36 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 17,
+            "itemid": 2,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            3,
+                            true
                         ],
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -1628,21 +1628,21 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "16",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -1752,39 +1752,39 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 150,
-            "posy": 225,
+            "posx": 1175,
+            "posy": 175,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        20
                     ],
                     [
-                        false,
-                        0
+                        true,
+                        22
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
                     ],
                     [
-                        false,
-                        0
+                        true,
+                        21
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
@@ -1829,20 +1829,20 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -1871,17 +1871,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        7,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -1891,20 +1891,20 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -2046,25 +2046,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
-                false,
+                true,
+                true,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal17",
+            "tags": "signal2",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -2118,18 +2118,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                10,
+                0,
                 [
                     [
-                        5,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -2155,42 +2155,42 @@
         "146287d7-4772-46bc-8952-89c98ff36bb0": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 784,
+            "bbox": 3375,
             "colour": "black",
-            "end1": 780,
-            "end2": 781,
+            "end1": 3900,
+            "end2": 3901,
             "endx": 1275,
             "endy": 225,
             "item": "line",
             "itemid": 1,
-            "line": 779,
+            "line": 3899,
             "posx": 975,
             "posy": 225,
-            "stop1": 782,
-            "stop2": 783,
+            "stop1": 3902,
+            "stop2": 3903,
             "tags": "line1"
         },
-        "16c59187-f382-4e52-9d40-41856f8c57e9": {
+        "19df44d6-4976-4925-a159-ad9e515da21c": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 812,
+            "bbox": 3403,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2684,23 +2684,23 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
             "itemid": 19,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -3215,18 +3215,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                14,
+                0,
                 [
                     [
-                        15,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -3245,53 +3245,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "1b3f1dca-d687-4ec6-98e3-cc017d9f844a": {
-            "bbox": 814,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 11,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 750,
-            "posy": 175,
-            "state": false,
-            "tags": "section11"
-        },
-        "23ef06a2-5597-4aba-920c-ca15828a7733": {
-            "bbox": 816,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 9,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 750,
-            "posy": 275,
-            "state": false,
-            "tags": "section9"
-        },
         "2af3fecc-b104-4832-bc02-aadedb0177e9": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 844,
+            "bbox": 3431,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -3793,15 +3767,15 @@
             "interlockahead": false,
             "item": "signal",
             "itemid": 12,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -4316,18 +4290,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                7,
+                0,
                 [
                     [
-                        8,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -4348,25 +4322,25 @@
                         0
                     ]
                 ]
             ]
         },
         "2b5d8e22-47be-4105-b392-ab96eebc8b22": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 872,
+            "bbox": 3459,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4868,15 +4842,15 @@
             "interlockahead": false,
             "item": "signal",
             "itemid": 8,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -5391,18 +5365,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                1,
+                0,
                 [
                     [
-                        2,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -5433,15 +5407,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 900,
+            "bbox": 3487,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5935,23 +5909,23 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": true,
             "item": "signal",
             "itemid": 9,
             "itemsubtype": 2,
             "itemtype": 3,
             "orientation": 180,
-            "overrideahead": true,
-            "overridesignal": true,
+            "overrideahead": false,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -6466,18 +6440,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                6,
+                0,
                 [
                     [
-                        7,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -6496,75 +6470,49 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "3c5565ee-45f3-4298-a7da-5c1c52ebf2d2": {
-            "bbox": 902,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 13,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1550,
-            "posy": 175,
-            "state": false,
-            "tags": "section13"
-        },
         "3f11b41e-b356-402c-b59e-b314963b3723": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 908,
+            "bbox": 3493,
             "colour": "black",
-            "end1": 904,
-            "end2": 905,
+            "end1": 4013,
+            "end2": 4014,
             "endx": 1375,
             "endy": 225,
             "item": "line",
             "itemid": 2,
-            "line": 903,
+            "line": 4012,
             "posx": 1800,
             "posy": 225,
-            "stop1": 906,
-            "stop2": 907,
+            "stop1": 4015,
+            "stop2": 4016,
             "tags": "line2"
         },
-        "40da50ad-40cf-4f2f-a86f-eef794d41ace": {
-            "bbox": 910,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 2,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 750,
-            "posy": 225,
-            "state": false,
-            "tags": "section2"
-        },
         "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 919,
+            "bbox": 3502,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -7589,23 +7537,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                12,
+                0,
                 [
                     [
-                        11,
+                        0,
                         0,
                         0
                     ],
                     [
-                        2,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -7619,40 +7567,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "49436626-93f4-4b47-b9ae-5221c9d27577": {
-            "bbox": 921,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 7,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1550,
-            "posy": 275,
-            "state": false,
-            "tags": "section7"
-        },
-        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
+        "5241b328-27b1-40b1-a96d-1f14b482d961": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 949,
+            "bbox": 3530,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8149,33 +8084,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 3,
+            "itemid": 17,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -8187,15 +8122,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "4",
+                    "16",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -8311,24 +8246,24 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1175,
+            "posx": 150,
             "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        30
+                        0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
@@ -8388,17 +8323,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -8605,25 +8540,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                true,
+                false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal3",
+            "tags": "signal17",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -8677,18 +8612,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                3,
+                0,
                 [
                     [
-                        4,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -8707,49 +8642,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "56b15939-53f4-4ba0-8e3f-7bbef0a19165": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 955,
-            "colour": "black",
-            "end1": 951,
-            "end2": 952,
-            "endx": 1375,
-            "endy": 275,
-            "item": "line",
-            "itemid": 3,
-            "line": 950,
-            "posx": 1800,
-            "posy": 275,
-            "stop1": 953,
-            "stop2": 954,
-            "tags": "line3"
-        },
-        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
+        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1008,
+            "bbox": 3558,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -9235,44 +9148,44 @@
                         [
                             0,
                             false
                         ]
                     ]
                 ]
             ],
-            "distautomatic": true,
+            "distautomatic": false,
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
-            "interlockahead": true,
+            "fullyautomatic": false,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 16,
+            "itemid": 3,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": true,
+            "overrideahead": false,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -9284,15 +9197,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "8",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -9408,28 +9321,28 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 375,
+            "posx": 1175,
             "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        80
+                        30
                     ],
                     [
-                        false,
+                        true,
                         0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -9485,17 +9398,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -9702,25 +9615,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
+                true,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal16",
+            "tags": "signal3",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -9774,18 +9687,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                5,
+                0,
                 [
                     [
-                        1,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -9804,27 +9717,49 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "65b221aa-9d3c-4a9d-bbfe-1e61331d3811": {
+        "56b15939-53f4-4ba0-8e3f-7bbef0a19165": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 3564,
+            "colour": "black",
+            "end1": 4080,
+            "end2": 4081,
+            "endx": 1375,
+            "endy": 275,
+            "item": "line",
+            "itemid": 3,
+            "line": 4079,
+            "posx": 1800,
+            "posy": 275,
+            "stop1": 4082,
+            "stop2": 4083,
+            "tags": "line3"
+        },
+        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1017,
+            "bbox": 3617,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -10319,31 +10254,31 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 15,
+            "itemid": 16,
             "itemsubtype": 1,
-            "itemtype": 4,
-            "orientation": 180,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -10359,15 +10294,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "8",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -10483,28 +10418,28 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1000,
+            "posx": 375,
             "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
-                        0
+                        80
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        false,
+                        true,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -10560,17 +10495,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -10580,17 +10515,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        8,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -10787,15 +10722,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal15",
+            "tags": "signal16",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -10849,18 +10784,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                3,
+                0,
                 [
                     [
-                        2,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -10879,86 +10814,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
-            "alsoswitch": 4,
-            "automatic": false,
-            "bbox": 1024,
-            "colour": "black",
-            "dccaddress": 101,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 3,
-            "itemtype": 1,
-            "orientation": 0,
-            "posx": 1300,
-            "posy": 175,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    2,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    7,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
-                        true,
-                        false,
-                        false,
-                        true,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point3"
-        },
-        "71e6fad1-a16e-4a4a-be41-a40a63a0f006": {
+        "5b5097ee-99af-452b-ba74-d9ad8a69b2c8": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1052,
+            "bbox": 3645,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -11453,22 +11329,22 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 4,
-            "itemsubtype": 1,
+            "itemid": 18,
+            "itemsubtype": 2,
             "itemtype": 3,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -11493,15 +11369,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "19",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -11617,16 +11493,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1625,
-            "posy": 225,
+            "posx": 675,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -11921,22 +11797,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal4",
+            "tags": "signal18",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    true,
-                    4,
+                    false,
+                    0,
                     0,
-                    3
+                    0
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -11983,15 +11859,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                4,
+                0,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -12013,62 +11889,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "85d79875-69a8-4f48-b990-56add64e268d": {
-            "bbox": 1054,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 1,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 525,
-            "posy": 225,
-            "state": false,
-            "tags": "section1"
-        },
-        "8efa0c5d-19c3-4826-a797-34453446bb67": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 1060,
-            "colour": "black",
-            "end1": 1056,
-            "end2": 1057,
-            "endx": 1275,
-            "endy": 175,
-            "item": "line",
-            "itemid": 4,
-            "line": 1055,
-            "posx": 975,
-            "posy": 175,
-            "stop1": 1058,
-            "stop2": 1059,
-            "tags": "line4"
-        },
-        "902284fd-0dc0-4ded-96b6-e94ba78a1cf4": {
+        "65b221aa-9d3c-4a9d-bbfe-1e61331d3811": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1069,
+            "bbox": 3654,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -12565,30 +12406,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 14,
+            "itemid": 15,
             "itemsubtype": 1,
             "itemtype": 4,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            2,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -12727,16 +12568,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1300,
-            "posy": 275,
+            "posx": 1000,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12804,37 +12645,37 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        1,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -13031,15 +12872,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal14",
+            "tags": "signal15",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -13093,18 +12934,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                0,
                 [
                     [
-                        4,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -13123,40 +12964,86 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "94fd8cf6-a410-4f67-9da5-c985edcbf688": {
-            "bbox": 1071,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
+        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
+            "alsoswitch": 4,
+            "automatic": false,
+            "bbox": 3661,
+            "colour": "black",
+            "dccaddress": 101,
+            "dccreversed": false,
+            "hasfpl": true,
+            "item": "point",
             "itemid": 3,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1075,
-            "posy": 225,
-            "state": false,
-            "tags": "section3"
+            "itemtype": 1,
+            "orientation": 0,
+            "posx": 1300,
+            "posy": 175,
+            "reverse": false,
+            "siginterlock": [
+                [
+                    2,
+                    [
+                        true,
+                        true,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    3,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    7,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    13,
+                    [
+                        true,
+                        false,
+                        false,
+                        true,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point3"
         },
-        "98387fe9-9a77-4b97-92e3-0df8c2a21c2f": {
+        "71e6fad1-a16e-4a4a-be41-a40a63a0f006": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1099,
+            "bbox": 3689,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -13650,23 +13537,23 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
-            "interlockahead": true,
+            "fullyautomatic": false,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 18,
-            "itemsubtype": 2,
+            "itemid": 4,
+            "itemsubtype": 1,
             "itemtype": 3,
-            "orientation": 180,
-            "overrideahead": true,
-            "overridesignal": true,
+            "orientation": 0,
+            "overrideahead": false,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -13691,15 +13578,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "19",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -13815,16 +13702,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 675,
-            "posy": 275,
+            "posx": 1625,
+            "posy": 225,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14119,15 +14006,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal18",
+            "tags": "signal4",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -14181,18 +14068,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                9,
+                0,
                 [
                     [
-                        14,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -14211,84 +14098,49 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "9c4be7ee-4780-4e8b-92a2-08e95a11d339": {
+        "8efa0c5d-19c3-4826-a797-34453446bb67": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1105,
+            "bbox": 3695,
             "colour": "black",
-            "end1": 1101,
-            "end2": 1102,
-            "endx": 0,
-            "endy": 275,
-            "item": "line",
-            "itemid": 5,
-            "line": 1100,
-            "posx": 1325,
-            "posy": 275,
-            "stop1": 1103,
-            "stop2": 1104,
-            "tags": "line5"
-        },
-        "a6e56e82-869d-4a63-b9fe-649476f59a62": {
-            "bbox": 1107,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 12,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1075,
-            "posy": 175,
-            "state": false,
-            "tags": "section12"
-        },
-        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
-            "arrowends": 1,
-            "arrowtype": [
-                1,
-                1,
-                1
-            ],
-            "bbox": 1113,
-            "colour": "black",
-            "end1": 1109,
-            "end2": 1110,
-            "endx": 1325,
+            "end1": 4205,
+            "end2": 4206,
+            "endx": 1275,
             "endy": 175,
             "item": "line",
-            "itemid": 6,
-            "line": 1108,
-            "posx": 1600,
+            "itemid": 4,
+            "line": 4204,
+            "posx": 975,
             "posy": 175,
-            "stop1": 1111,
-            "stop2": 1112,
-            "tags": "line6"
+            "stop1": 4207,
+            "stop2": 4208,
+            "tags": "line4"
         },
-        "aa07d0f4-841d-40c9-87ef-cf9ec08a9239": {
+        "902284fd-0dc0-4ded-96b6-e94ba78a1cf4": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1141,
+            "bbox": 3704,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -14782,33 +14634,33 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 11,
+            "itemid": 14,
             "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 180,
+            "itemtype": 4,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            5,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -14947,15 +14799,15 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 200,
+            "posx": 1300,
             "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
@@ -15024,18 +14876,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -15251,22 +15103,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal11",
+            "tags": "signal14",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    true,
-                    11,
+                    false,
+                    0,
                     0,
-                    3
+                    0
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -15313,15 +15165,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                15,
+                0,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -15343,71 +15195,89 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "af408a69-7a43-4f8e-9453-728ec2747514": {
-            "bbox": 1143,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 6,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1750,
+        "9c4be7ee-4780-4e8b-92a2-08e95a11d339": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 3710,
+            "colour": "black",
+            "end1": 4218,
+            "end2": 4219,
+            "endx": 0,
+            "endy": 275,
+            "item": "line",
+            "itemid": 5,
+            "line": 4217,
+            "posx": 1325,
             "posy": 275,
-            "state": false,
-            "tags": "section6"
+            "stop1": 4220,
+            "stop2": 4221,
+            "tags": "line5"
+        },
+        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
+            "arrowends": 1,
+            "arrowtype": [
+                1,
+                1,
+                1
+            ],
+            "bbox": 3716,
+            "colour": "black",
+            "end1": 4223,
+            "end2": 4224,
+            "endx": 1325,
+            "endy": 175,
+            "item": "line",
+            "itemid": 6,
+            "line": 4222,
+            "posx": 1575,
+            "posy": 175,
+            "stop1": 4225,
+            "stop2": 4226,
+            "tags": "line6"
         },
         "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1150,
+            "bbox": 3721,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 4,
             "itemtype": 1,
             "orientation": 180,
             "posx": 1300,
             "posy": 225,
             "reverse": false,
             "siginterlock": [],
             "tags": "point4"
         },
-        "bd8c0b62-add0-4714-b49a-7bbae0da4124": {
-            "bbox": 1152,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 8,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1075,
-            "posy": 275,
-            "state": false,
-            "tags": "section8"
-        },
         "bef3b222-f3c5-427d-b34c-cd5d283a00fa": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1180,
+            "bbox": 3749,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -15901,23 +15771,23 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
             "itemid": 10,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -15942,15 +15812,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "18",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -16432,18 +16302,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                0,
                 [
                     [
-                        9,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -16469,33 +16339,33 @@
         "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1186,
+            "bbox": 3755,
             "colour": "black",
-            "end1": 1182,
-            "end2": 1183,
+            "end1": 4259,
+            "end2": 4260,
             "endx": 0,
             "endy": 225,
             "item": "line",
             "itemid": 7,
-            "line": 1181,
+            "line": 4258,
             "posx": 925,
             "posy": 225,
-            "stop1": 1184,
-            "stop2": 1185,
+            "stop1": 4261,
+            "stop2": 4262,
             "tags": "line7"
         },
         "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
             "alsoswitch": 1,
             "automatic": false,
-            "bbox": 1193,
+            "bbox": 3762,
             "colour": "black",
             "dccaddress": 100,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 2,
             "itemtype": 2,
@@ -16550,55 +16420,42 @@
         "c8564be9-6891-48f3-999a-53472f24c85f": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 1199,
+            "bbox": 3768,
             "colour": "black",
-            "end1": 1195,
-            "end2": 1196,
-            "endx": 675,
+            "end1": 4270,
+            "end2": 4271,
+            "endx": 725,
             "endy": 175,
             "item": "line",
             "itemid": 8,
-            "line": 1194,
+            "line": 4269,
             "posx": 925,
             "posy": 175,
-            "stop1": 1197,
-            "stop2": 1198,
+            "stop1": 4272,
+            "stop2": 4273,
             "tags": "line8"
         },
-        "c88a11f5-d1b0-4a02-869e-f53d2c930635": {
-            "bbox": 1201,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 5,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 275,
-            "posy": 225,
-            "state": false,
-            "tags": "section5"
-        },
         "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1210,
+            "bbox": 3777,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -17623,18 +17480,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                11,
+                0,
                 [
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -17653,31 +17510,18 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "d5bac97c-de07-407d-966d-83ea0ae26a83": {
-            "bbox": 1212,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 10,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 50,
-            "posy": 225,
-            "state": false,
-            "tags": "section10"
-        },
         "d9840a46-28fd-40dd-a059-df46b9a762e2": {
             "alsoswitch": 6,
             "automatic": false,
-            "bbox": 1219,
+            "bbox": 3783,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 5,
             "itemtype": 2,
@@ -17735,71 +17579,45 @@
                         true,
                         false
                     ]
                 ]
             ],
             "tags": "point5"
         },
-        "dcf7ea0d-cd58-45bf-842e-d4e6e87c9a2a": {
-            "bbox": 1221,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 15,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 275,
-            "posy": 275,
-            "state": false,
-            "tags": "section15"
-        },
         "df337c59-d6c8-420a-9165-628b58e8be08": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1228,
+            "bbox": 3788,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
             "orientation": 180,
             "posx": 950,
             "posy": 175,
             "reverse": false,
             "siginterlock": [],
             "tags": "point1"
         },
-        "e0705584-fbf0-47f0-a695-810489e4d5d4": {
-            "bbox": 1230,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 4,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1550,
-            "posy": 225,
-            "state": false,
-            "tags": "section4"
-        },
         "ed8d646c-60cc-4a5a-b8f0-cbd337263db8": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1239,
+            "bbox": 3797,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -18824,18 +18642,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                13,
+                0,
                 [
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -18857,15 +18675,15 @@
                     ]
                 ]
             ]
         },
         "f14ef6e8-7b7b-4568-b0e6-c105889caf10": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1246,
+            "bbox": 3802,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 6,
             "itemtype": 2,
@@ -18884,15 +18702,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1255,
+            "bbox": 3811,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -19917,57 +19735,57 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                4,
+                0,
                 [
                     [
-                        3,
+                        0,
                         0,
                         0
                     ],
                     [
-                        8,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
         "f7e885c9-faa7-4ee6-87df-9c035c5dadeb": {
             "approachcontrol": [
-                3,
-                1,
+                0,
+                0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 1286,
+            "bbox": 3842,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -20469,15 +20287,15 @@
             "interlockahead": false,
             "item": "signal",
             "itemid": 1,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
@@ -20992,23 +20810,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                2,
+                0,
                 [
                     [
-                        3,
+                        0,
                         0,
                         0
                     ],
                     [
-                        12,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -21021,27 +20839,14 @@
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
-        },
-        "fc4b8a11-3862-417f-ba09-493456b59064": {
-            "bbox": 1288,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 14,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 525,
-            "posy": 275,
-            "state": false,
-            "tags": "section14"
         }
     },
     "points": {
         "1": {
             "fpllock": false,
             "locked": false,
             "switched": false
@@ -21068,89 +20873,29 @@
         },
         "6": {
             "fpllock": false,
             "locked": false,
             "switched": false
         }
     },
-    "sections": {
-        "1": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "10": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "11": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "12": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "13": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "14": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "15": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "2": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "3": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "4": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "5": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "6": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "7": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "8": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "9": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        }
-    },
+    "sections": {},
     "settings": {
         "canvas": {
             "grid": 25,
             "height": 500,
             "snaptogrid": true,
             "width": 1800
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/automation_semaphore_example.sig",
-            "info": "This layout is a development of the basic interlocking example to demonstrate signalling automation\n(note that the application needs to be in 'run' mode for all automation features to function).\n\nTrack sensors (such as those from TrainTech, Heathcote Electronics, DCC Concepts etc) can be located \nwith each signal and connected in to the R-Pi's GPIO ports (via appropriate opto-isolator circuits).\nEach GPIO port can then be mapped to a signal to generate 'signal passed' events - In 'edit' mode,\nclick on a signal and select the 'automation' tab to view the configuration (note that external\nGPIO sensors haven't been configured for this particular example layout). 'Signal passed' events\ncan also be triggered by clicking on the small button at the base of each signal (as an aid to \ndevelopment and testing of signalling schemes before going 'live' with the R-Pi).\n\nTrack sections can be added to the schematic to provide a mimic display of track occupancy (when a\ntrain passes a signal (signal must be 'off') it gets passed from the section behind to the section ahead.\nThe required behavior is configured via the 'automation' tab of each signal. For example, signal 1\ncontrols two 'routes' so when passed, section 2 will be cleared and either section 12 or 3 will be set \nto occupied, depending on which route the signal is cleared for.\n\nAll main signals are configured to be 'overridden' if the track section ahead is occupied. This means\nthat each signal will automatically change to 'on' when passed (section ahead is occupied) and then\nrevert to 'off' as soon as the section ahead is cleared. Note that some of the signals in this example \nhave been configured as 'fully automatic' (without a control button). This means that they will be 'off'\nby default and controlled entirely by whether the track section ahead is occupied or not.\n\nTo simulate prototypical aspect changes for trains going off scene, the 'exit' signals (signals 4 and\n11 in this example) can be configured as 'timed signals'. Once passed (when 'off') they are overriden \nto 'on' (as per the other signals on the layout) but then revert to 'off' after the specified delay.\n\nTrack sensors can also be positioned slightly before the signal and mapped to generate 'signal \napproached' events to simulate 'approach control'. In this example, all non-fully-automatic home signals \nare configured for 'release on red based on the signals ahead'. This means that if any home signals ahead\nare showing danger then the home signal will also be overridden to 'on' by default.As the train approaches\nthe signal (at a slow speed as the signal is against it) then the signal will be released to 'off' to\nallow the train to pass and then revert back to the overidden 'on' state when the signal is passed.\nSignal 1 is also configured for 'release on red' for the diverging (low-speed) route. In this case it\nwill be overridden to 'on' even if all home signals ahead are 'off', only released as the train approaches.\n\nTo demonstrate all the above in action, set 'run' mode and reset the layout to set all signals, points\nand track sections back to their default states. Right click the far left track section and enter a train\ndesignation code of your choice (this sets the section to 'occupied'). Set signals 8, 1 and 3 to 'off' (note\nthat they will remail overridden to 'on' as home signal ahead 4 is still showing 'on'. Now, move the train\nthrough the schematic, clicking the 'signal passed' button at the base of each signal along the route\nin turn (don't forget to click the 'signal approached' button ahead of each signal if you want to see\napproach control working). When the train reaches signal 4, set the signal to 'off' and trigger the signal\npassed event. The track section before the signal will be cleared and the signal overridden to 'on' as part\nof the timed sequence. After a short delay it will revert to 'off' and when it does, all home signals behind\nwill also revert to 'off' (as they will no longer be overridden on a home signal ahead).\n\nThe layout is fully configured to support all possible train movements (including shunting movements)\nso have a play - but note that signals can only be 'passed' when 'off' for the track occupancy\nchanges to work correctly (the application currently doesn't support any form of SPAD functionality)\n\n",
-            "version": "Version 4.1.0"
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/interlocking_semaphore_example.sig",
+            "info": "This is a basic example of a layout without track sensors (and the associated signal automation).\n\nThe layout is signalled with a combination of semaphore home and distant signals. Note that\nSignal 16 is a home signal with a secondary distant arm (controled by the 'D' button). \n\nThe signals and points are interlocked together - and the signals interlocked with opposing signals\n(in 'edit' mode, double click on a signal or point and select the 'interlocking' tab to edit/view).\n\nIn this example, signal 1 is interlocked with point 2 so can only be cleared if the facing point \nlock (the 'L' button) is active. When the main signal is cleared, the appropriate route arm will \nbe cleared. Note that the associated subsidary signal (controlled by the 'S' button) is similarly\ninterlocked with point 2. When cleared, the appropriate subsidary arm will be cleared.\n\nSignal 1 is also interlocked with any opposing signals that could allow a train onto the same\nsection of track - in this example, the signal is interlocked with ground signals 15, 13, 7 and 6\n(dependant on whether the route 'cleared' by these signals conflicts with the route for Signal 1).\n\nNote that the distant signals are also configured to be interlocked with all home signals ahead. \nThis means that the signal cannot be cleared unless all home signals (up to the next distant signal)\nhave also been cleared (note that they can be returned to Caution at any time).\n\nAll point interlocking is automatically configured via the signal interlocking so, for example\npoint 2 is locked if signal 1 (main or subsidary) is cleared for a train movement.\n\nNote that not all signals are configured for all possible routes - the only 'valid' shunting\nmovement allowed from signal 14 is via the crossover back onto the other main line. \n\nSome of the signals and points are configured with DCC Addresses, with a single DCC address used\nfor each main or subsidary route arm. \n\nThis level of configuration is ideal if you want to be the signal man/woman for your layout. Other\nexamples add track sensors to allow semi-automation of the signalling scheme so the signals will \nchange automatically as you watch the trains go round.\n",
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
@@ -21185,52 +20930,52 @@
             "power": false,
             "startup": false
         }
     },
     "signals": {
         "1": {
             "override": false,
-            "releaseonred": true,
+            "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "10": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "11": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "116": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
-            "siglocked": false,
+            "sigclear": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "12": {
             "override": false,
             "releaseonred": false,
@@ -21276,48 +21021,48 @@
             "theatretext": null
         },
         "16": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "17": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "18": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
-            "siglocked": false,
+            "sigclear": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "19": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "2": {
             "override": false,
@@ -21328,15 +21073,15 @@
             "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "3": {
             "override": false,
-            "releaseonred": true,
+            "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
@@ -21383,29 +21128,29 @@
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": null
         },
         "8": {
             "override": false,
-            "releaseonred": true,
+            "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "9": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
-            "siglocked": false,
+            "sigclear": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         }
     }
 }
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/interlocking_colour_light_example.sig` & `model_railway_signals-4.2.0/configuration_examples/interlocking_colour_light_example.sig`

 * *Files 1% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9958682810245308%*

 * *Differences: {"'objects'": "{'02febfbf-ee80-4c08-b52d-84b72fa9c23b': {'bbox': 2461}, "*

 * *              "'146287d7-4772-46bc-8952-89c98ff36bb0': {'bbox': 2467, 'end1': 2867, 'end2': 2868, "*

 * *              "'line': 2866, 'stop1': 2869, 'stop2': 2870}, "*

 * *              "'350ab106-55fd-4920-800f-606a103c9392': {'bbox': 2473, 'end1': 2872, 'end2': 2873, "*

 * *              "'line': 2871, 'stop1': 2874, 'stop2': 2875}, "*

 * *              "'36c92467-cd2d-4608-bd3d-1ae2fe2fb9b0': {'bbox': 2479}, "*

 * *              "'37852e20-d54e-4fce-92ce-1 […]*

```diff
@@ -10,15 +10,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1401,
+            "bbox": 2461,
             "dccaspects": [
                 [
                     [
                         20,
                         true
                     ],
                     [
@@ -1080,55 +1080,55 @@
         "146287d7-4772-46bc-8952-89c98ff36bb0": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1407,
+            "bbox": 2467,
             "colour": "black",
-            "end1": 1403,
-            "end2": 1404,
+            "end1": 2867,
+            "end2": 2868,
             "endx": 1800,
             "endy": 275,
             "item": "line",
             "itemid": 1,
-            "line": 1402,
+            "line": 2866,
             "posx": 1375,
             "posy": 275,
-            "stop1": 1405,
-            "stop2": 1406,
+            "stop1": 2869,
+            "stop2": 2870,
             "tags": "line1"
         },
         "350ab106-55fd-4920-800f-606a103c9392": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1413,
+            "bbox": 2473,
             "colour": "black",
-            "end1": 1409,
-            "end2": 1410,
+            "end1": 2872,
+            "end2": 2873,
             "endx": 0,
             "endy": 275,
             "item": "line",
             "itemid": 2,
-            "line": 1408,
+            "line": 2871,
             "posx": 1325,
             "posy": 275,
-            "stop1": 1411,
-            "stop2": 1412,
+            "stop1": 2874,
+            "stop2": 2875,
             "tags": "line2"
         },
         "36c92467-cd2d-4608-bd3d-1ae2fe2fb9b0": {
             "alsoswitch": 6,
             "automatic": false,
-            "bbox": 1420,
+            "bbox": 2479,
             "colour": "black",
             "dccaddress": 1005,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 5,
             "itemtype": 2,
@@ -1198,15 +1198,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1439,
+            "bbox": 2498,
             "dccaspects": [
                 [
                     [
                         110,
                         true
                     ],
                     [
@@ -2273,15 +2273,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1458,
+            "bbox": 2517,
             "dccaspects": [
                 [
                     [
                         180,
                         true
                     ],
                     [
@@ -3343,42 +3343,42 @@
         "3f11b41e-b356-402c-b59e-b314963b3723": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1464,
+            "bbox": 2523,
             "colour": "black",
-            "end1": 1460,
-            "end2": 1461,
+            "end1": 2918,
+            "end2": 2919,
             "endx": 1375,
             "endy": 225,
             "item": "line",
             "itemid": 3,
-            "line": 1459,
+            "line": 2917,
             "posx": 1800,
             "posy": 225,
-            "stop1": 1462,
-            "stop2": 1463,
+            "stop1": 2920,
+            "stop2": 2921,
             "tags": "line3"
         },
         "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1476,
+            "bbox": 2535,
             "dccaspects": [
                 [
                     [
                         60,
                         true
                     ],
                     [
@@ -4445,15 +4445,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1496,
+            "bbox": 2555,
             "dccaspects": [
                 [
                     [
                         30,
                         true
                     ],
                     [
@@ -5520,15 +5520,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1515,
+            "bbox": 2574,
             "dccaspects": [
                 [
                     [
                         90,
                         false
                     ],
                     [
@@ -6595,15 +6595,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1534,
+            "bbox": 2593,
             "dccaspects": [
                 [
                     [
                         80,
                         true
                     ],
                     [
@@ -7670,15 +7670,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1553,
+            "bbox": 2612,
             "dccaspects": [
                 [
                     [
                         160,
                         true
                     ],
                     [
@@ -8745,15 +8745,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1565,
+            "bbox": 2624,
             "dccaspects": [
                 [
                     [
                         150,
                         false
                     ],
                     [
@@ -9811,15 +9811,15 @@
                     ]
                 ]
             ]
         },
         "6c28ce24-e08c-4845-8e06-b21f418911eb": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1572,
+            "bbox": 2629,
             "colour": "black",
             "dccaddress": 101,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 4,
             "itemtype": 1,
@@ -9833,42 +9833,42 @@
         "8232da6f-9aeb-45bd-8519-039297c6d3b9": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1578,
+            "bbox": 2635,
             "colour": "black",
-            "end1": 1574,
-            "end2": 1575,
+            "end1": 3022,
+            "end2": 3023,
             "endx": 975,
             "endy": 225,
             "item": "line",
             "itemid": 4,
-            "line": 1573,
+            "line": 3021,
             "posx": 1275,
             "posy": 225,
-            "stop1": 1576,
-            "stop2": 1577,
+            "stop1": 3024,
+            "stop2": 3025,
             "tags": "line4"
         },
         "82685c46-2db9-4145-a0f8-7111098f16ec": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1590,
+            "bbox": 2647,
             "dccaspects": [
                 [
                     [
                         140,
                         true
                     ],
                     [
@@ -10930,42 +10930,42 @@
         "8efa0c5d-19c3-4826-a797-34453446bb67": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1596,
+            "bbox": 2653,
             "colour": "black",
-            "end1": 1592,
-            "end2": 1593,
+            "end1": 3038,
+            "end2": 3039,
             "endx": 1275,
             "endy": 175,
             "item": "line",
             "itemid": 5,
-            "line": 1591,
+            "line": 3037,
             "posx": 975,
             "posy": 175,
-            "stop1": 1594,
-            "stop2": 1595,
+            "stop1": 3040,
+            "stop2": 3041,
             "tags": "line5"
         },
         "9cb94db8-bb0b-47ef-b4bd-0616d3dd597f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1615,
+            "bbox": 2672,
             "dccaspects": [
                 [
                     [
                         170,
                         true
                     ],
                     [
@@ -12032,15 +12032,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1634,
+            "bbox": 2691,
             "dccaspects": [
                 [
                     [
                         190,
                         true
                     ],
                     [
@@ -13107,15 +13107,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1653,
+            "bbox": 2710,
             "dccaspects": [
                 [
                     [
                         100,
                         false
                     ],
                     [
@@ -14177,42 +14177,42 @@
         "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 1659,
+            "bbox": 2716,
             "colour": "black",
-            "end1": 1655,
-            "end2": 1656,
+            "end1": 3097,
+            "end2": 3098,
             "endx": 1325,
             "endy": 175,
             "item": "line",
             "itemid": 6,
-            "line": 1654,
+            "line": 3096,
             "posx": 1550,
             "posy": 175,
-            "stop1": 1657,
-            "stop2": 1658,
+            "stop1": 3099,
+            "stop2": 3100,
             "tags": "line6"
         },
         "ac294bf3-a8ee-473e-877b-24db735b8d76": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1678,
+            "bbox": 2735,
             "dccaspects": [
                 [
                     [
                         40,
                         true
                     ],
                     [
@@ -15279,15 +15279,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1697,
+            "bbox": 2754,
             "dccaspects": [
                 [
                     [
                         120,
                         false
                     ],
                     [
@@ -16345,15 +16345,15 @@
                     ]
                 ]
             ]
         },
         "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
             "alsoswitch": 4,
             "automatic": false,
-            "bbox": 1704,
+            "bbox": 2761,
             "colour": "black",
             "dccaddress": 1003,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 3,
             "itemtype": 1,
@@ -16408,33 +16408,33 @@
         "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 1710,
+            "bbox": 2767,
             "colour": "black",
-            "end1": 1706,
-            "end2": 1707,
+            "end1": 3144,
+            "end2": 3145,
             "endx": 0,
             "endy": 225,
             "item": "line",
             "itemid": 7,
-            "line": 1705,
+            "line": 3143,
             "posx": 925,
             "posy": 225,
-            "stop1": 1708,
-            "stop2": 1709,
+            "stop1": 3146,
+            "stop2": 3147,
             "tags": "line7"
         },
         "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
             "alsoswitch": 1,
             "automatic": false,
-            "bbox": 1717,
+            "bbox": 2774,
             "colour": "black",
             "dccaddress": 1002,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 2,
             "itemtype": 2,
@@ -16489,42 +16489,42 @@
         "c8564be9-6891-48f3-999a-53472f24c85f": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 1723,
+            "bbox": 2780,
             "colour": "black",
-            "end1": 1719,
-            "end2": 1720,
+            "end1": 3155,
+            "end2": 3156,
             "endx": 725,
             "endy": 175,
             "item": "line",
             "itemid": 8,
-            "line": 1718,
+            "line": 3154,
             "posx": 925,
             "posy": 175,
-            "stop1": 1721,
-            "stop2": 1722,
+            "stop1": 3157,
+            "stop2": 3158,
             "tags": "line8"
         },
         "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1735,
+            "bbox": 2792,
             "dccaspects": [
                 [
                     [
                         50,
                         true
                     ],
                     [
@@ -17582,15 +17582,15 @@
                     ]
                 ]
             ]
         },
         "df337c59-d6c8-420a-9165-628b58e8be08": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1742,
+            "bbox": 2797,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -17609,15 +17609,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1754,
+            "bbox": 2809,
             "dccaspects": [
                 [
                     [
                         70,
                         true
                     ],
                     [
@@ -18684,15 +18684,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1766,
+            "bbox": 2821,
             "dccaspects": [
                 [
                     [
                         130,
                         true
                     ],
                     [
@@ -19750,15 +19750,15 @@
                     ]
                 ]
             ]
         },
         "f2b7d2d9-eb4d-4e55-859f-100131262fe2": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 1773,
+            "bbox": 2826,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 6,
             "itemtype": 2,
@@ -19777,15 +19777,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1793,
+            "bbox": 2846,
             "dccaspects": [
                 [
                     [
                         10,
                         true
                     ],
                     [
@@ -20884,17 +20884,18 @@
             "height": 500,
             "snaptogrid": true,
             "width": 1800
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/interlocking_colour_light_example.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/interlocking_colour_light_example.sig",
             "info": "This is a basic example of a layout without track sensors (and the associated signal automation).\n\nThe layout is signalled with a combination of 2-aspect home and distant signals, with the signals\nand points interlocked together - and the signals interlocked with opposing signals. \n\nFor example, signal 1 is interlocked with point 1 so can only be cleared if the facing point lock \n(the 'L' button) is active. When the main signal is cleared, it will show the appropriate route \nindication (a left-hand feather for the diverging loop and no feather for the main line). Note that\nin this example, the associated subsidary signal (controlled by the 'S' button) is similarly\ninterlocked, and can be cleared for either route (as it is a subsidary signal, it can control\nmultiple routes so no route indications are displayed).\n\nSignal 1 is also interlocked with any opposing signals that could allow a train onto the same\nsection of track - in this example, the signal is interlocked with ground signals 15, 13, 7 and 6\n(dependant on whether the route 'cleared' by these signals conflicts with the route for Signal 1).\n\nAll point interlocking is automatically configured for you via the signal interlocking, so in this\nexample, point 2 is locked if signal 1 (main or subsidary) is cleared for a train movement.\n\nNote that not all signals are configured for all possible routes - the only 'valid' shunting\nmovement allowed from signal 14 is via the crossover back onto the other main line. In 'edit' mode,\nclick on each signal or point and select the 'interlocking' tab to view the configuration.\n\nMost of the signals and points are configured with DCC Addresses. Signal 1 uses a single DCC address\nfor swiching the signal between 'danger' and 'proceed'. The single feather route indication uses\nuses a single DCC address to turn the route display on/off. Note that a DCC command is specified\nfor the 'dark' aspect - this is to turn off the route indication when the signal is at 'danger'. \nSimilarly, the subsidary aspect is controlled by a single DCC address.\n\nThis level of configuration is ideal if you want to be the signal man/woman for your layout. Other\nexamples add (semi) automation to this signalling scheme so the signals change automatically as\nyou watch the trains go round.\n\n",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/interlocking_semaphore_example.sig` & `model_railway_signals-4.2.0/system_tests/test_mqtt_networking.sig`

 * *Files 16% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.6826198107448107%*

 * *Differences: {"'instruments'": "{replace: OrderedDict([('1', OrderedDict([('repeaterstate', None), "*

 * *                  "('sectionstate', None)])), ('2', OrderedDict([('repeaterstate', None), "*

 * *                  "('sectionstate', None)])), ('Box1-1', OrderedDict([('repeaterstate', None), "*

 * *                  "('sectionstate', None)])), ('Box1-2', OrderedDict([('repeaterstate', None), "*

 * *                  "('sectionstate', None)]))])}",*

 * * "'objects'": "{replace: OrderedDict([('07ac0721-6451-43db-b2a4-b114a516d0e5', "*

 * *        […]*

```diff
@@ -1,2196 +1,190 @@
 {
     "information": "Model Railway Signalling Configuration File",
-    "instruments": {},
+    "instruments": {
+        "1": {
+            "repeaterstate": null,
+            "sectionstate": null
+        },
+        "2": {
+            "repeaterstate": null,
+            "sectionstate": null
+        },
+        "Box1-1": {
+            "repeaterstate": null,
+            "sectionstate": null
+        },
+        "Box1-2": {
+            "repeaterstate": null,
+            "sectionstate": null
+        }
+    },
     "objects": {
-        "0236fd2e-b21c-4565-ad76-ddf1c7e74ef6": {
-            "approachcontrol": [
-                0,
-                0,
+        "07ac0721-6451-43db-b2a4-b114a516d0e5": {
+            "bbox": 6099,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 7,
+            "label": "1",
+            "mirror": "",
+            "posx": 450.0,
+            "posy": 475.0,
+            "state": false,
+            "tags": "section7"
+        },
+        "0fadffdc-012f-4d63-aa88-3964c28850b5": {
+            "arrowends": 0,
+            "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 1914,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
-            "itemid": 11,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 180,
-            "overrideahead": false,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 200,
-            "posy": 275,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal11",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
+            "bbox": 6105,
+            "colour": "black",
+            "end1": 6101,
+            "end2": 6102,
+            "endx": 850.0,
+            "endy": 475.0,
+            "item": "line",
+            "itemid": 6,
+            "line": 6100,
+            "posx": 50.0,
+            "posy": 475.0,
+            "stop1": 6103,
+            "stop2": 6104,
+            "tags": "line6"
+        },
+        "14c21c57-208a-4bdb-bc9e-b59169b5cd0e": {
+            "arrowends": 2,
+            "arrowtype": [
+                16,
+                20,
+                5
             ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
+            "bbox": 6111,
+            "colour": "black",
+            "end1": 6107,
+            "end2": 6108,
+            "endx": 350.0,
+            "endy": 200.0,
+            "item": "line",
+            "itemid": 25,
+            "line": 6106,
+            "posx": 275.0,
+            "posy": 200.0,
+            "stop1": 6109,
+            "stop2": 6110,
+            "tags": "line25"
+        },
+        "1c90954a-0075-404e-9c0a-911b924d0d9a": {
+            "arrowends": 2,
+            "arrowtype": [
+                16,
+                20,
+                5
             ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
+            "bbox": 6117,
+            "colour": "black",
+            "end1": 6113,
+            "end2": 6114,
+            "endx": 350.0,
+            "endy": 75.0,
+            "item": "line",
+            "itemid": 8,
+            "line": 6112,
+            "posx": 50.0,
+            "posy": 75.0,
+            "stop1": 6115,
+            "stop2": 6116,
+            "tags": "line8"
         },
-        "02febfbf-ee80-4c08-b52d-84b72fa9c23b": {
-            "approachcontrol": [
-                0,
-                0,
+        "26d9993d-7068-47ae-8021-a6b2a2069f88": {
+            "arrowends": 0,
+            "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 1944,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
+            "bbox": 6123,
+            "colour": "black",
+            "end1": 6119,
+            "end2": 6120,
+            "endx": 575.0,
+            "endy": 150.0,
+            "item": "line",
+            "itemid": 28,
+            "line": 6118,
+            "posx": 350.0,
+            "posy": 150.0,
+            "stop1": 6121,
+            "stop2": 6122,
+            "tags": "line28"
+        },
+        "27f5b927-ee11-4e85-b555-08e086cc5799": {
+            "bbox": 6125,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
             "itemid": 2,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
-            "overrideahead": false,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            3,
-                            true
-                        ],
-                        [
-                            5,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "4",
-                    0
-                ],
-                [
-                    [
-                        [
-                            3,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 1175,
-            "posy": 175,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        20
-                    ],
-                    [
-                        true,
-                        22
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        true,
-                        21
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        13,
-                        [
-                            false,
-                            false,
-                            false,
-                            true,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        7,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        13,
-                        [
-                            false,
-                            false,
-                            false,
-                            true,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                true,
-                true,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal2",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
+            "label": "XXXXX",
+            "mirror": "Box1-1",
+            "posx": 875.0,
+            "posy": 275.0,
+            "state": false,
+            "tags": "section2"
+        },
+        "2c567416-9c96-4f83-93e4-6071250044f3": {
+            "bbox": 6127,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 8,
+            "label": "1",
+            "mirror": "",
+            "posx": 625.0,
+            "posy": 475.0,
+            "state": false,
+            "tags": "section8"
         },
-        "146287d7-4772-46bc-8952-89c98ff36bb0": {
-            "arrowends": 0,
+        "353be14a-3f85-4327-a228-9f07929ea61a": {
+            "arrowends": 1,
             "arrowtype": [
-                0,
-                0,
-                0
+                16,
+                20,
+                5
             ],
-            "bbox": 1950,
+            "bbox": 6133,
             "colour": "black",
-            "end1": 1946,
-            "end2": 1947,
-            "endx": 1275,
-            "endy": 225,
+            "end1": 6129,
+            "end2": 6130,
+            "endx": 575.0,
+            "endy": 400.0,
             "item": "line",
-            "itemid": 1,
-            "line": 1945,
-            "posx": 975,
-            "posy": 225,
-            "stop1": 1948,
-            "stop2": 1949,
-            "tags": "line1"
+            "itemid": 5,
+            "line": 6128,
+            "posx": 375.0,
+            "posy": 400.0,
+            "stop1": 6131,
+            "stop2": 6132,
+            "tags": "line5"
         },
-        "19df44d6-4976-4925-a159-ad9e515da21c": {
+        "35b3babc-89d0-4ca0-b9c9-a7a3e8318daa": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1978,
+            "bbox": 6161,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2685,21 +679,21 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 19,
-            "itemsubtype": 1,
+            "itemid": 2,
+            "itemsubtype": 2,
             "itemtype": 3,
-            "orientation": 180,
-            "overrideahead": false,
+            "orientation": 0,
+            "overrideahead": true,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
@@ -2725,15 +719,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "11",
+                    "3",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -2849,16 +843,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 425,
-            "posy": 275,
+            "posx": 125.0,
+            "posy": 300.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -3153,15 +1147,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal19",
+            "tags": "signal2",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -3245,32 +1239,76 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "2af3fecc-b104-4832-bc02-aadedb0177e9": {
+        "3832db83-6623-4211-8c07-a9faf26955f1": {
+            "arrowends": 1,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6167,
+            "colour": "black",
+            "end1": 6163,
+            "end2": 6164,
+            "endx": 575.0,
+            "endy": 200.0,
+            "item": "line",
+            "itemid": 1,
+            "line": 6162,
+            "posx": 375.0,
+            "posy": 200.0,
+            "stop1": 6165,
+            "stop2": 6166,
+            "tags": "line1"
+        },
+        "4569a848-bc65-487d-a60a-039fa6fb7606": {
+            "arrowends": 1,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6173,
+            "colour": "black",
+            "end1": 6169,
+            "end2": 6170,
+            "endx": 575.0,
+            "endy": 75.0,
+            "item": "line",
+            "itemid": 7,
+            "line": 6168,
+            "posx": 375.0,
+            "posy": 75.0,
+            "stop1": 6171,
+            "stop2": 6172,
+            "tags": "line7"
+        },
+        "479c5943-f0e7-4a7d-84f5-6a21e9f93142": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2006,
+            "bbox": 6192,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        103,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3287,15 +1325,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        103,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -3762,29 +1800,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 12,
+            "itemid": 9,
             "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 180,
+            "itemtype": 1,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "Box1-7"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -3800,15 +1838,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "10",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -3924,16 +1962,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1450,
-            "posy": 275,
+            "posx": 700.0,
+            "posy": 475.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -4228,15 +2266,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal12",
+            "tags": "signal9",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -4290,18 +2328,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                8,
                 [
                     [
-                        0,
+                        9,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -4320,27 +2358,40 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "2b5d8e22-47be-4105-b392-ab96eebc8b22": {
+        "5976fd88-31f9-49df-af5b-6b6e7758be00": {
+            "bbox": 6194,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 9,
+            "label": "1",
+            "mirror": "",
+            "posx": 800.0,
+            "posy": 475.0,
+            "state": true,
+            "tags": "section9"
+        },
+        "5be33ccf-2f0e-4f01-8cd7-074da843b121": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2034,
+            "bbox": 6213,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4834,20 +2885,20 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 8,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 16,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
@@ -4875,15 +2926,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "1",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -4999,16 +3050,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 625,
-            "posy": 225,
+            "posx": 475.0,
+            "posy": 75.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -5076,18 +3127,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        6,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -5096,17 +3147,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        15,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -5303,22 +3354,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal8",
+            "tags": "signal16",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    16,
                     0,
-                    0
+                    1
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -5395,27 +3446,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "3ae53dd4-7b7e-4912-9dd8-f9cd9daf875b": {
+        "618e3df3-2195-4b66-8bab-81e962a66f92": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2062,
+            "bbox": 6232,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5909,21 +3960,21 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": true,
+            "fullyautomatic": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 9,
-            "itemsubtype": 2,
-            "itemtype": 3,
-            "orientation": 180,
+            "itemid": 6,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
@@ -5950,15 +4001,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "12",
+                    "Box1-16",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -6074,16 +4125,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1675,
-            "posy": 275,
+            "posx": 250.0,
+            "posy": 75.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -6378,1111 +4429,14 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal9",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
-        },
-        "3f11b41e-b356-402c-b59e-b314963b3723": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2068,
-            "colour": "black",
-            "end1": 2064,
-            "end2": 2065,
-            "endx": 1375,
-            "endy": 225,
-            "item": "line",
-            "itemid": 2,
-            "line": 2063,
-            "posx": 1800,
-            "posy": 225,
-            "stop1": 2066,
-            "stop2": 2067,
-            "tags": "line2"
-        },
-        "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 2077,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
-            "itemid": 6,
-            "itemsubtype": 1,
-            "itemtype": 4,
-            "orientation": 180,
-            "overrideahead": false,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            2,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            2,
-                            true
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 1000,
-            "posy": 175,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        60
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        5,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        1,
-                        [
-                            false,
-                            true,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        8,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                true,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
             "tags": "signal6",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
@@ -7567,32 +4521,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "5241b328-27b1-40b1-a96d-1f14b482d961": {
+        "6290ec64-a00c-43d0-8300-39384b943e84": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2105,
+            "bbox": 6251,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        102,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -7609,15 +4563,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        102,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -8084,23 +5038,23 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 17,
+            "itemid": 8,
             "itemsubtype": 1,
-            "itemtype": 3,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "Box1-6"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -8122,15 +5076,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "16",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -8246,16 +5200,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 150,
-            "posy": 225,
+            "posx": 525.0,
+            "posy": 475.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -8550,15 +5504,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal17",
+            "tags": "signal8",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -8612,18 +5566,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                7,
                 [
                     [
-                        0,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -8642,27 +5596,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
+        "6c791787-8ce0-4db7-9308-7c5144fe412f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2133,
+            "bbox": 6307,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -9148,44 +6102,44 @@
                         [
                             0,
                             false
                         ]
                     ]
                 ]
             ],
-            "distautomatic": false,
+            "distautomatic": true,
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 3,
+            "itemid": 1,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
-            "overrideahead": false,
+            "overrideahead": true,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
+                            1,
                             false
                         ],
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -9197,22 +6151,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "4",
+                    "Box1-12",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            1,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -9227,15 +6181,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "Box1-11",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -9321,42 +6275,42 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1175,
-            "posy": 225,
+            "posx": 125.0,
+            "posy": 200.0,
             "sigarms": [
                 [
                     [
                         true,
-                        30
+                        0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ],
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
-                        false,
+                        true,
                         0
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        false,
+                        true,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -9398,17 +6352,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -9609,31 +6563,31 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                true,
+                false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal3",
+            "tags": "signal1",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -9717,49 +6671,61 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "56b15939-53f4-4ba0-8e3f-7bbef0a19165": {
+        "6f4c3d24-b18c-4857-8161-03913dcca4bf": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2139,
+            "bbox": 6313,
             "colour": "black",
-            "end1": 2135,
-            "end2": 2136,
-            "endx": 1375,
-            "endy": 275,
+            "end1": 6309,
+            "end2": 6310,
+            "endx": 225.0,
+            "endy": 200.0,
             "item": "line",
-            "itemid": 3,
-            "line": 2134,
-            "posx": 1800,
-            "posy": 275,
-            "stop1": 2137,
-            "stop2": 2138,
-            "tags": "line3"
+            "itemid": 26,
+            "line": 6308,
+            "posx": 50.0,
+            "posy": 200.0,
+            "stop1": 6311,
+            "stop2": 6312,
+            "tags": "line26"
+        },
+        "70fc3e04-4419-42d9-83fe-295ca1e55b72": {
+            "bbox": 6328,
+            "bellsound": "bell-ring-01.wav",
+            "item": "instrument",
+            "itemid": 2,
+            "itemtype": 1,
+            "keysound": "telegraph-key-01.wav",
+            "linkedto": "Box1-1",
+            "posx": 875.0,
+            "posy": 50.0,
+            "tags": "instrument2"
         },
-        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
+        "7394a5cb-e0ee-43ea-908b-82dc4b86a80e": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2192,
+            "bbox": 6356,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -10254,17 +7220,17 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 16,
+            "itemid": 14,
             "itemsubtype": 1,
             "itemtype": 3,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
@@ -10294,44 +7260,14 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "8",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
                     "",
                     0
                 ],
                 [
                     [
                         [
                             0,
@@ -10416,1059 +7352,14 @@
                         [
                             0,
                             false
                         ]
                     ],
                     "",
                     0
-                ]
-            ],
-            "posx": 375,
-            "posy": 225,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        80
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        true,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal16",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
-        },
-        "5b5097ee-99af-452b-ba74-d9ad8a69b2c8": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 2220,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": true,
-            "item": "signal",
-            "itemid": 18,
-            "itemsubtype": 2,
-            "itemtype": 3,
-            "orientation": 180,
-            "overrideahead": false,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "19",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
                 ],
                 [
                     [
                         [
                             0,
                             false
                         ],
@@ -11493,16 +7384,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 675,
-            "posy": 275,
+            "posx": 475.0,
+            "posy": 400.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -11797,15 +7688,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal18",
+            "tags": "signal14",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -11889,32 +7780,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "65b221aa-9d3c-4a9d-bbfe-1e61331d3811": {
+        "7d2ed32b-b1f5-43a3-880b-368f5defb8f1": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2229,
+            "bbox": 6375,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        101,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -11931,15 +7822,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        101,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12406,29 +8297,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 15,
+            "itemid": 7,
             "itemsubtype": 1,
-            "itemtype": 4,
-            "orientation": 180,
+            "itemtype": 1,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "Box1-5"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -12568,16 +8459,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1000,
-            "posy": 225,
+            "posx": 350.0,
+            "posy": 475.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12645,17 +8536,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -12665,17 +8556,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        8,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -12872,15 +8763,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal15",
+            "tags": "signal7",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -12934,18 +8825,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                6,
                 [
                     [
-                        0,
+                        7,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -12964,86 +8855,104 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
-            "alsoswitch": 4,
+        "85be3b55-420f-4776-952c-d1472c4f897b": {
+            "bbox": 6377,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 4,
+            "label": "XXXXX",
+            "mirror": "2",
+            "posx": 875.0,
+            "posy": 325.0,
+            "state": false,
+            "tags": "section4"
+        },
+        "93063a54-5b09-4045-985b-7ba45650ff68": {
+            "alsoswitch": 0,
             "automatic": false,
-            "bbox": 2236,
+            "bbox": 6383,
             "colour": "black",
-            "dccaddress": 101,
+            "dccaddress": 0,
             "dccreversed": false,
-            "hasfpl": true,
+            "hasfpl": false,
             "item": "point",
-            "itemid": 3,
-            "itemtype": 1,
+            "itemid": 1,
+            "itemtype": 2,
             "orientation": 0,
-            "posx": 1300,
-            "posy": 175,
+            "posx": 250.0,
+            "posy": 200.0,
             "reverse": false,
             "siginterlock": [
                 [
-                    2,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    7,
+                    1,
                     [
                         true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
                         true,
                         false,
                         false,
-                        true,
                         false
                     ]
                 ]
             ],
-            "tags": "point3"
+            "tags": "point1"
         },
-        "71e6fad1-a16e-4a4a-be41-a40a63a0f006": {
+        "9a0ce7c0-d387-449f-90b7-ec13375d981a": {
+            "bbox": 6385,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 3,
+            "label": "XXXXX",
+            "mirror": "1",
+            "posx": 700.0,
+            "posy": 325.0,
+            "state": false,
+            "tags": "section3"
+        },
+        "a74abb20-3626-4896-8771-bf3068f125ce": {
+            "arrowends": 2,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6391,
+            "colour": "black",
+            "end1": 6387,
+            "end2": 6388,
+            "endx": 350.0,
+            "endy": 300.0,
+            "item": "line",
+            "itemid": 2,
+            "line": 6386,
+            "posx": 50.0,
+            "posy": 300.0,
+            "stop1": 6389,
+            "stop2": 6390,
+            "tags": "line2"
+        },
+        "a994fe0e-a4e6-48c3-bd42-b865c18f6624": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2264,
+            "bbox": 6419,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -13538,21 +9447,21 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 4,
-            "itemsubtype": 1,
+            "itemid": 12,
+            "itemsubtype": 2,
             "itemtype": 3,
             "orientation": 0,
-            "overrideahead": false,
+            "overrideahead": true,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
@@ -13702,16 +9611,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1625,
-            "posy": 225,
+            "posx": 475.0,
+            "posy": 200.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14006,15 +9915,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal4",
+            "tags": "signal12",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -14098,54 +10007,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "8efa0c5d-19c3-4826-a797-34453446bb67": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2270,
-            "colour": "black",
-            "end1": 2266,
-            "end2": 2267,
-            "endx": 1275,
-            "endy": 175,
-            "item": "line",
-            "itemid": 4,
-            "line": 2265,
-            "posx": 975,
-            "posy": 175,
-            "stop1": 2268,
-            "stop2": 2269,
-            "tags": "line4"
-        },
-        "902284fd-0dc0-4ded-96b6-e94ba78a1cf4": {
+        "af23443f-815c-4c1b-a272-b9acea6e8dab": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2279,
+            "bbox": 6438,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        100,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14162,15 +10049,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        100,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -14637,30 +10524,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 14,
+            "itemid": 5,
             "itemsubtype": 1,
-            "itemtype": 4,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "Box1-4"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -14799,16 +10686,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1300,
-            "posy": 275,
+            "posx": 175.0,
+            "posy": 475.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14876,18 +10763,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        13,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -15103,15 +10990,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal14",
+            "tags": "signal5",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -15165,18 +11052,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                5,
                 [
                     [
-                        0,
+                        6,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -15195,89 +11082,49 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "9c4be7ee-4780-4e8b-92a2-08e95a11d339": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2285,
-            "colour": "black",
-            "end1": 2281,
-            "end2": 2282,
-            "endx": 0,
-            "endy": 275,
-            "item": "line",
-            "itemid": 5,
-            "line": 2280,
-            "posx": 1325,
-            "posy": 275,
-            "stop1": 2283,
-            "stop2": 2284,
-            "tags": "line5"
-        },
-        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
-            "arrowends": 1,
+        "bc1c1e57-d938-4721-a8f1-4009975fc3fd": {
+            "arrowends": 2,
             "arrowtype": [
-                1,
-                1,
-                1
+                16,
+                20,
+                5
             ],
-            "bbox": 2291,
+            "bbox": 6444,
             "colour": "black",
-            "end1": 2287,
-            "end2": 2288,
-            "endx": 1325,
-            "endy": 175,
+            "end1": 6440,
+            "end2": 6441,
+            "endx": 275.0,
+            "endy": 150.0,
             "item": "line",
-            "itemid": 6,
-            "line": 2286,
-            "posx": 1575,
-            "posy": 175,
-            "stop1": 2289,
-            "stop2": 2290,
-            "tags": "line6"
-        },
-        "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
-            "alsoswitch": 0,
-            "automatic": true,
-            "bbox": 2298,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 4,
-            "itemtype": 1,
-            "orientation": 180,
-            "posx": 1300,
-            "posy": 225,
-            "reverse": false,
-            "siginterlock": [],
-            "tags": "point4"
+            "itemid": 27,
+            "line": 6439,
+            "posx": 250.0,
+            "posy": 175.0,
+            "stop1": 6442,
+            "stop2": 6443,
+            "tags": "line27"
         },
-        "bef3b222-f3c5-427d-b34c-cd5d283a00fa": {
+        "c2ef4745-5a5d-4d66-a661-473816576771": {
             "approachcontrol": [
-                0,
+                3,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
+                true,
                 ""
             ],
-            "bbox": 2326,
+            "bbox": 6472,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -15774,18 +11621,18 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 10,
+            "itemid": 3,
             "itemsubtype": 1,
             "itemtype": 3,
-            "orientation": 180,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
@@ -15812,15 +11659,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "Box1-13",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -15936,16 +11783,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 900,
-            "posy": 275,
+            "posx": 250.0,
+            "posy": 300.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -16240,15 +12087,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal10",
+            "tags": "signal3",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -16332,130 +12179,27 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2332,
-            "colour": "black",
-            "end1": 2328,
-            "end2": 2329,
-            "endx": 0,
-            "endy": 225,
-            "item": "line",
-            "itemid": 7,
-            "line": 2327,
-            "posx": 925,
-            "posy": 225,
-            "stop1": 2330,
-            "stop2": 2331,
-            "tags": "line7"
-        },
-        "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
-            "alsoswitch": 1,
-            "automatic": false,
-            "bbox": 2339,
-            "colour": "black",
-            "dccaddress": 100,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 2,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 950,
-            "posy": 225,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    6,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    15,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    5,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    1,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point2"
-        },
-        "c8564be9-6891-48f3-999a-53472f24c85f": {
-            "arrowends": 2,
-            "arrowtype": [
-                1,
-                1,
-                1
-            ],
-            "bbox": 2345,
-            "colour": "black",
-            "end1": 2341,
-            "end2": 2342,
-            "endx": 725,
-            "endy": 175,
-            "item": "line",
-            "itemid": 8,
-            "line": 2340,
-            "posx": 925,
-            "posy": 175,
-            "stop1": 2343,
-            "stop2": 2344,
-            "tags": "line8"
-        },
-        "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
+        "c4501acb-6274-4b11-9678-f8f2e5add613": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2354,
+            "bbox": 6500,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -16950,31 +12694,31 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": false,
+            "interlockahead": true,
             "item": "signal",
-            "itemid": 5,
-            "itemsubtype": 1,
-            "itemtype": 4,
+            "itemid": 4,
+            "itemsubtype": 2,
+            "itemtype": 3,
             "orientation": 0,
-            "overrideahead": false,
+            "overrideahead": true,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -16990,15 +12734,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "Box1-14",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -17114,21 +12858,21 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925,
-            "posy": 175,
+            "posx": 250.0,
+            "posy": 400.0,
             "sigarms": [
                 [
                     [
                         true,
-                        50
+                        0
                     ],
                     [
                         false,
                         0
                     ],
                     [
                         false,
@@ -17191,37 +12935,37 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        6,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        13,
+                        0,
                         [
                             false,
                             false,
                             false,
-                            true,
+                            false,
                             false
                         ]
                     ],
                     [
-                        7,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -17418,15 +13162,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal5",
+            "tags": "signal4",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -17510,114 +13254,39 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "d9840a46-28fd-40dd-a059-df46b9a762e2": {
-            "alsoswitch": 6,
-            "automatic": false,
-            "bbox": 2361,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 5,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 1350,
-            "posy": 275,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    2,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    12,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    14,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
-                        true,
-                        true,
-                        false,
-                        true,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point5"
-        },
-        "df337c59-d6c8-420a-9165-628b58e8be08": {
-            "alsoswitch": 0,
-            "automatic": true,
-            "bbox": 2368,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
+        "c488e27b-7a77-49dc-8045-066fb3109702": {
+            "bbox": 6515,
+            "bellsound": "bell-ring-01.wav",
+            "item": "instrument",
             "itemid": 1,
-            "itemtype": 2,
-            "orientation": 180,
-            "posx": 950,
-            "posy": 175,
-            "reverse": false,
-            "siginterlock": [],
-            "tags": "point1"
+            "itemtype": 1,
+            "keysound": "telegraph-key-01.wav",
+            "linkedto": "Box1-2",
+            "posx": 700.0,
+            "posy": 50.0,
+            "tags": "instrument1"
         },
-        "ed8d646c-60cc-4a5a-b8f0-cbd337263db8": {
+        "c842b5f7-9fba-4ef2-a7bc-c9464af920b2": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2377,
+            "bbox": 6543,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -18114,29 +13783,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 7,
+            "itemid": 13,
             "itemsubtype": 1,
-            "itemtype": 4,
-            "orientation": 180,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -18276,21 +13945,21 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1350,
-            "posy": 175,
+            "posx": 475.0,
+            "posy": 300.0,
             "sigarms": [
                 [
                     [
                         true,
-                        70
+                        0
                     ],
                     [
                         false,
                         0
                     ],
                     [
                         false,
@@ -18353,37 +14022,37 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        2,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        1,
+                        0,
                         [
                             false,
-                            true,
+                            false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        5,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -18580,15 +14249,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal7",
+            "tags": "signal13",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -18672,45 +14341,62 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "f14ef6e8-7b7b-4568-b0e6-c105889caf10": {
-            "alsoswitch": 0,
-            "automatic": true,
-            "bbox": 2384,
+        "c8b72001-7d62-44e6-aac0-44ad9f41c124": {
+            "arrowends": 2,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6549,
             "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 6,
-            "itemtype": 2,
-            "orientation": 180,
-            "posx": 1350,
-            "posy": 225,
-            "reverse": false,
-            "siginterlock": [],
-            "tags": "point6"
+            "end1": 6545,
+            "end2": 6546,
+            "endx": 300.0,
+            "endy": 150.0,
+            "item": "line",
+            "itemid": 29,
+            "line": 6544,
+            "posx": 350.0,
+            "posy": 150.0,
+            "stop1": 6547,
+            "stop2": 6548,
+            "tags": "line29"
+        },
+        "ce73144a-7678-497d-ba28-a42c4c314f86": {
+            "bbox": 6551,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 5,
+            "label": "1",
+            "mirror": "",
+            "posx": 100.0,
+            "posy": 475.0,
+            "state": false,
+            "tags": "section5"
         },
-        "f455f78a-6e63-453c-b335-28b389182cbb": {
+        "d41f0e5f-13e5-4a7f-bc3e-3388254d6b8c": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2393,
+            "bbox": 6579,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -19207,33 +14893,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 13,
-            "itemsubtype": 1,
-            "itemtype": 4,
-            "orientation": 180,
+            "itemid": 11,
+            "itemsubtype": 2,
+            "itemtype": 3,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
                 ""
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -19251,16 +14937,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -19311,20 +14997,20 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            5,
+                            0,
                             false
                         ],
                         [
-                            3,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -19369,16 +15055,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 1400,
-            "posy": 225,
+            "posx": 375.0,
+            "posy": 150.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -19446,66 +15132,24 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        3,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
                         0,
                         [
                             false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        1,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        14,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
                         0,
                         [
                             false,
                             false,
                             false,
                             false,
                             false
@@ -19572,1047 +15216,14 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        2,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        1,
-                        [
-                            false,
-                            true,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        5,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                true,
-                false,
-                true,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal13",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
-        },
-        "f7e885c9-faa7-4ee6-87df-9c035c5dadeb": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 2424,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
-            "itemid": 1,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
-            "overrideahead": false,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            2,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "3",
-                    0
-                ],
-                [
-                    [
-                        [
-                            2,
-                            true
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "2",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 850,
-            "posy": 225,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        10
-                    ],
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        true,
-                        11
-                    ],
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        15,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        13,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        6,
-                        [
-                            false,
-                            true,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        13,
-                        [
-                            false,
-                            false,
-                            false,
-                            true,
-                            false
-                        ]
-                    ],
-                    [
-                        7,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
                         0,
                         [
                             false,
                             false,
                             false,
                             false,
                             false
@@ -20732,31 +15343,31 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                true,
+                false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                true,
-                true,
+                false,
+                false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal1",
+            "tags": "signal11",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -20839,95 +15450,239 @@
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
+        },
+        "d538187e-fba1-4825-9cad-3d7df730bbf3": {
+            "bbox": 6581,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 6,
+            "label": "1",
+            "mirror": "",
+            "posx": 275.0,
+            "posy": 475.0,
+            "state": false,
+            "tags": "section6"
+        },
+        "dad0ea03-0e05-4585-9484-9141a32f8ff7": {
+            "arrowends": 2,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6587,
+            "colour": "black",
+            "end1": 6583,
+            "end2": 6584,
+            "endx": 350.0,
+            "endy": 400.0,
+            "item": "line",
+            "itemid": 4,
+            "line": 6582,
+            "posx": 50.0,
+            "posy": 400.0,
+            "stop1": 6585,
+            "stop2": 6586,
+            "tags": "line4"
+        },
+        "f0f1cab2-b2f3-4e9e-9a89-b916314c5315": {
+            "arrowends": 1,
+            "arrowtype": [
+                16,
+                20,
+                5
+            ],
+            "bbox": 6593,
+            "colour": "black",
+            "end1": 6589,
+            "end2": 6590,
+            "endx": 575.0,
+            "endy": 300.0,
+            "item": "line",
+            "itemid": 3,
+            "line": 6588,
+            "posx": 375.0,
+            "posy": 300.0,
+            "stop1": 6591,
+            "stop2": 6592,
+            "tags": "line3"
+        },
+        "f498f46c-3819-447e-ac88-2ebe032b0b3d": {
+            "bbox": 6595,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 1,
+            "label": "XXXXX",
+            "mirror": "Box1-2",
+            "posx": 700.0,
+            "posy": 275.0,
+            "state": false,
+            "tags": "section1"
         }
     },
     "points": {
         "1": {
             "fpllock": false,
             "locked": false,
             "switched": false
+        }
+    },
+    "sections": {
+        "1": {
+            "labeltext": "XXXXX",
+            "occupied": false
         },
         "2": {
-            "fpllock": true,
-            "locked": false,
-            "switched": false
+            "labeltext": "XXXXX",
+            "occupied": false
         },
         "3": {
-            "fpllock": true,
-            "locked": false,
-            "switched": false
+            "labeltext": "XXXXX",
+            "occupied": false
         },
         "4": {
-            "fpllock": false,
-            "locked": false,
-            "switched": false
+            "labeltext": "XXXXX",
+            "occupied": false
         },
         "5": {
-            "fpllock": false,
-            "locked": false,
-            "switched": false
+            "labeltext": "1",
+            "occupied": false
         },
         "6": {
-            "fpllock": false,
-            "locked": false,
-            "switched": false
+            "labeltext": "1",
+            "occupied": false
+        },
+        "7": {
+            "labeltext": "1",
+            "occupied": false
+        },
+        "8": {
+            "labeltext": "1",
+            "occupied": false
+        },
+        "9": {
+            "labeltext": "1",
+            "occupied": false
+        },
+        "Box1-1": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "Box1-2": {
+            "labeltext": "XXXXX",
+            "occupied": false
         }
     },
-    "sections": {},
     "settings": {
         "canvas": {
             "grid": 25,
-            "height": 500,
+            "height": 550,
             "snaptogrid": true,
-            "width": 1800
+            "width": 1000
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/interlocking_semaphore_example.sig",
-            "info": "This is a basic example of a layout without track sensors (and the associated signal automation).\n\nThe layout is signalled with a combination of semaphore home and distant signals. Note that\nSignal 16 is a home signal with a secondary distant arm (controled by the 'D' button). \n\nThe signals and points are interlocked together - and the signals interlocked with opposing signals\n(in 'edit' mode, double click on a signal or point and select the 'interlocking' tab to edit/view).\n\nIn this example, signal 1 is interlocked with point 2 so can only be cleared if the facing point \nlock (the 'L' button) is active. When the main signal is cleared, the appropriate route arm will \nbe cleared. Note that the associated subsidary signal (controlled by the 'S' button) is similarly\ninterlocked with point 2. When cleared, the appropriate subsidary arm will be cleared.\n\nSignal 1 is also interlocked with any opposing signals that could allow a train onto the same\nsection of track - in this example, the signal is interlocked with ground signals 15, 13, 7 and 6\n(dependant on whether the route 'cleared' by these signals conflicts with the route for Signal 1).\n\nNote that the distant signals are also configured to be interlocked with all home signals ahead. \nThis means that the signal cannot be cleared unless all home signals (up to the next distant signal)\nhave also been cleared (note that they can be returned to Caution at any time).\n\nAll point interlocking is automatically configured via the signal interlocking so, for example\npoint 2 is locked if signal 1 (main or subsidary) is cleared for a train movement.\n\nNote that not all signals are configured for all possible routes - the only 'valid' shunting\nmovement allowed from signal 14 is via the crossover back onto the other main line. \n\nSome of the signals and points are configured with DCC Addresses, with a single DCC address used\nfor each main or subsidary route arm. \n\nThis level of configuration is ideal if you want to be the signal man/woman for your layout. Other\nexamples add track sensors to allow semi-automation of the signalling scheme so the signals will \nchange automatically as you watch the trains go round.\n",
-            "version": "Version 4.1.0"
+            "filename": "/home/pi/Software/model-railway-signalling/system_tests/test_mqtt_networking.sig",
+            "info": "Document your layout here",
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
-            "portmappings": [],
-            "timeoutperiod": 1.0,
+            "portmappings": [
+                [
+                    4,
+                    4
+                ],
+                [
+                    5,
+                    5
+                ],
+                [
+                    6,
+                    6
+                ],
+                [
+                    7,
+                    7
+                ]
+            ],
+            "timeoutperiod": 0.1,
             "triggerdelay": 0.001
         },
         "logging": {
             "level": 2
         },
         "mqtt": {
-            "debug": false,
-            "network": "",
-            "node": "",
-            "password": "",
+            "debug": true,
+            "network": "network1",
+            "node": "Box1",
+            "password": "Password1234",
             "port": 1883,
-            "pubdcc": false,
-            "pubinstruments": [],
-            "pubsections": [],
-            "pubsensors": [],
+            "pubdcc": true,
+            "pubinstruments": [
+                1,
+                2
+            ],
+            "pubsections": [
+                1,
+                2
+            ],
+            "pubsensors": [
+                4,
+                5,
+                6,
+                7
+            ],
             "pubshutdown": false,
-            "pubsignals": [],
-            "startup": false,
-            "subdccnodes": [],
-            "subinstruments": [],
-            "subsections": [],
-            "subsensors": [],
+            "pubsignals": [
+                11,
+                12,
+                13,
+                14,
+                16
+            ],
+            "startup": true,
+            "subdccnodes": [
+                "Box1"
+            ],
+            "subinstruments": [
+                "Box1-1",
+                "Box1-2"
+            ],
+            "subsections": [
+                "Box1-1",
+                "Box1-2"
+            ],
+            "subsensors": [
+                "Box1-4",
+                "Box1-5",
+                "Box1-6",
+                "Box1-7"
+            ],
             "subshutdown": false,
-            "subsignals": [],
-            "url": "",
-            "username": ""
+            "subsignals": [
+                "Box1-11",
+                "Box1-12",
+                "Box1-13",
+                "Box1-14",
+                "Box1-16"
+            ],
+            "url": "localhost",
+            "username": "test_user"
         },
         "sprog": {
-            "baud": 460800,
+            "baud": 115200,
             "debug": false,
             "port": "/dev/serial0",
             "power": false,
             "startup": false
         }
     },
     "signals": {
@@ -20938,20 +15693,20 @@
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "10": {
+        "101": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "11": {
             "override": false,
@@ -20960,118 +15715,63 @@
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "116": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
         "12": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "13": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": null
-        },
-        "14": {
-            "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": null
-        },
-        "15": {
-            "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": null
-        },
-        "16": {
-            "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "17": {
+        "14": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "18": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "19": {
+        "16": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "2": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
-            "routeset": 2,
+            "routeset": 1,
             "sigclear": false,
             "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "3": {
@@ -21094,44 +15794,44 @@
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "5": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
+            "releaseonred": false,
+            "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": null
+            "theatretext": "NONE"
         },
         "6": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
+            "releaseonred": false,
+            "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": null
+            "theatretext": "NONE"
         },
         "7": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
+            "releaseonred": false,
+            "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": null
+            "theatretext": "NONE"
         },
         "8": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
@@ -21142,14 +15842,69 @@
         },
         "9": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
+        },
+        "Box1-11": {
+            "override": null,
+            "releaseonred": null,
+            "releaseonyel": null,
+            "routeset": 0,
+            "sigclear": null,
+            "siglocked": null,
+            "subclear": null,
+            "sublocked": null,
+            "theatretext": null
+        },
+        "Box1-12": {
+            "override": null,
+            "releaseonred": null,
+            "releaseonyel": null,
+            "routeset": 0,
+            "sigclear": null,
+            "siglocked": null,
+            "subclear": null,
+            "sublocked": null,
+            "theatretext": null
+        },
+        "Box1-13": {
+            "override": null,
+            "releaseonred": null,
+            "releaseonyel": null,
+            "routeset": 0,
+            "sigclear": null,
+            "siglocked": null,
+            "subclear": null,
+            "sublocked": null,
+            "theatretext": null
+        },
+        "Box1-14": {
+            "override": null,
+            "releaseonred": null,
+            "releaseonyel": null,
+            "routeset": 0,
+            "sigclear": null,
+            "siglocked": null,
+            "subclear": null,
+            "sublocked": null,
+            "theatretext": null
+        },
+        "Box1-16": {
+            "override": null,
+            "releaseonred": null,
+            "releaseonyel": null,
+            "routeset": 0,
+            "sigclear": null,
+            "siglocked": null,
+            "subclear": null,
+            "sublocked": null,
+            "theatretext": null
         }
     }
 }
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/mqtt_networked_example.sig` & `model_railway_signals-4.2.0/configuration_examples/mqtt_networked_example.sig`

 * *Files 3% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9893144615800866%*

 * *Differences: {"'objects'": "{'0765f23d-cc89-4648-8965-98c37a803fb6': {'bbox': 4424}, "*

 * *              "'0d59ec07-733a-4190-b533-f8b866881f12': {'bbox': 4443}, "*

 * *              "'13da3a2d-77af-4de3-989d-b64f7412bed4': {'bbox': 4445}, "*

 * *              "'1475631e-282e-48cf-b6f4-9dea1a53e7c2': {'bbox': 4451, 'end1': 4852, 'end2': 4853, "*

 * *              "'line': 4851, 'stop1': 4854, 'stop2': 4855}, "*

 * *              "'1532df05-6cdd-40de-88bd-3019fc65e87b': {'bbox': 4457, 'end1': 4857, 'end2': 4858, "*

 * *              "'line': 4856, ' […]*

```diff
@@ -27,15 +27,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2508,
+            "bbox": 4424,
             "dccaspects": [
                 [
                     [
                         302,
                         false
                     ],
                     [
@@ -1102,15 +1102,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2527,
+            "bbox": 4443,
             "dccaspects": [
                 [
                     [
                         202,
                         false
                     ],
                     [
@@ -2166,15 +2166,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "13da3a2d-77af-4de3-989d-b64f7412bed4": {
-            "bbox": 2529,
+            "bbox": 4445,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 21,
             "label": "XXXXX",
             "mirror": "Box1-33",
             "posx": 300.0,
@@ -2185,78 +2185,78 @@
         "1475631e-282e-48cf-b6f4-9dea1a53e7c2": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 2535,
+            "bbox": 4451,
             "colour": "black",
-            "end1": 2531,
-            "end2": 2532,
+            "end1": 4852,
+            "end2": 4853,
             "endx": 725.0,
             "endy": 300.0,
             "item": "line",
             "itemid": 7,
-            "line": 2530,
+            "line": 4851,
             "posx": 925.0,
             "posy": 300.0,
-            "stop1": 2533,
-            "stop2": 2534,
+            "stop1": 4854,
+            "stop2": 4855,
             "tags": "line7"
         },
         "1532df05-6cdd-40de-88bd-3019fc65e87b": {
             "arrowends": 2,
             "arrowtype": [
                 16,
                 20,
                 5
             ],
-            "bbox": 2541,
+            "bbox": 4457,
             "colour": "black",
-            "end1": 2537,
-            "end2": 2538,
+            "end1": 4857,
+            "end2": 4858,
             "endx": 225.0,
             "endy": 475.0,
             "item": "line",
             "itemid": 15,
-            "line": 2536,
+            "line": 4856,
             "posx": 225.0,
             "posy": 500.0,
-            "stop1": 2539,
-            "stop2": 2540,
+            "stop1": 4859,
+            "stop2": 4860,
             "tags": "line15"
         },
         "1673df65-f654-47c4-bfd6-4bfd169de38c": {
-            "bbox": 2556,
+            "bbox": 4472,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 11,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "Box1-1",
             "posx": 100.0,
             "posy": 225.0,
             "tags": "instrument11"
         },
         "17b8ab25-9197-49d6-b624-54f7696202c5": {
-            "bbox": 2558,
+            "bbox": 4474,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 31,
             "label": "XXXXX",
             "mirror": "Box1-23",
             "posx": 700.0,
             "posy": 525.0,
             "state": false,
             "tags": "section31"
         },
         "19329487-2174-4d77-8f22-093a94fd6aa9": {
-            "bbox": 2560,
+            "bbox": 4476,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 4,
             "label": "XXXXX",
             "mirror": "Box1-14",
             "posx": 650.0,
@@ -2267,42 +2267,42 @@
         "19bff2c5-b0e7-4b16-87f8-4ff97250a383": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2566,
+            "bbox": 4482,
             "colour": "black",
-            "end1": 2562,
-            "end2": 2563,
+            "end1": 4878,
+            "end2": 4879,
             "endx": 775.0,
             "endy": 475.0,
             "item": "line",
             "itemid": 18,
-            "line": 2561,
+            "line": 4877,
             "posx": 775.0,
             "posy": 500.0,
-            "stop1": 2564,
-            "stop2": 2565,
+            "stop1": 4880,
+            "stop2": 4881,
             "tags": "line18"
         },
         "1e7ffbff-9cc9-489c-9101-608415be7a07": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2585,
+            "bbox": 4501,
             "dccaspects": [
                 [
                     [
                         112,
                         false
                     ],
                     [
@@ -3369,15 +3369,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2604,
+            "bbox": 4520,
             "dccaspects": [
                 [
                     [
                         141,
                         false
                     ],
                     [
@@ -4444,15 +4444,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2623,
+            "bbox": 4539,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5510,15 +5510,15 @@
                     ]
                 ]
             ]
         },
         "42bd0f07-f00e-4db9-98c0-1b1bf2254d6d": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 2630,
+            "bbox": 4546,
             "colour": "black",
             "dccaddress": 1011,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 11,
             "itemtype": 1,
@@ -5567,15 +5567,15 @@
                         false
                     ]
                 ]
             ],
             "tags": "point11"
         },
         "46a4dcc4-7246-4ea4-8f1f-5e939ed7c6f8": {
-            "bbox": 2632,
+            "bbox": 4548,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 11,
             "label": "XXXXX",
             "mirror": "",
             "posx": 875.0,
@@ -5591,15 +5591,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2651,
+            "bbox": 4567,
             "dccaspects": [
                 [
                     [
                         401,
                         false
                     ],
                     [
@@ -6666,15 +6666,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2670,
+            "bbox": 4586,
             "dccaspects": [
                 [
                     [
                         132,
                         false
                     ],
                     [
@@ -7730,15 +7730,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "4b175fed-abf6-4577-93bf-4f9d3e9e75c0": {
-            "bbox": 2672,
+            "bbox": 4588,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 1,
             "label": "XXXXX",
             "mirror": "",
             "posx": 100.0,
@@ -7754,15 +7754,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2691,
+            "bbox": 4607,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8824,64 +8824,64 @@
         "5aa54047-df19-4df0-b267-186db970a872": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2697,
+            "bbox": 4613,
             "colour": "black",
-            "end1": 2693,
-            "end2": 2694,
+            "end1": 4999,
+            "end2": 5000,
             "endx": 750.0,
             "endy": 400.0,
             "item": "line",
             "itemid": 13,
-            "line": 2692,
+            "line": 4998,
             "posx": 775.0,
             "posy": 425.0,
-            "stop1": 2695,
-            "stop2": 2696,
+            "stop1": 5001,
+            "stop2": 5002,
             "tags": "line13"
         },
         "5c55ec41-7fd1-4759-b511-cf965c76aca7": {
             "arrowends": 2,
             "arrowtype": [
                 16,
                 20,
                 5
             ],
-            "bbox": 2703,
+            "bbox": 4619,
             "colour": "black",
-            "end1": 2699,
-            "end2": 2700,
+            "end1": 5004,
+            "end2": 5005,
             "endx": 775.0,
             "endy": 450.0,
             "item": "line",
             "itemid": 16,
-            "line": 2698,
+            "line": 5003,
             "posx": 775.0,
             "posy": 425.0,
-            "stop1": 2701,
-            "stop2": 2702,
+            "stop1": 5006,
+            "stop2": 5007,
             "tags": "line16"
         },
         "613257c1-3550-4e2e-8c4c-b2f40cdb8375": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2722,
+            "bbox": 4638,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -9937,28 +9937,28 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "69f67a39-c5b3-45bb-a6a0-d4b833292158": {
-            "bbox": 2724,
+            "bbox": 4640,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 23,
             "label": "XXXXX",
             "mirror": "Box1-31",
             "posx": 700.0,
             "posy": 400.0,
             "state": false,
             "tags": "section23"
         },
         "6aedd8b7-fc51-4c13-a564-4b0e34a6f036": {
-            "bbox": 2726,
+            "bbox": 4642,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 13,
             "label": "XXXXX",
             "mirror": "",
             "posx": 500.0,
@@ -9969,31 +9969,31 @@
         "7643e4d6-4192-4493-8291-254a8b5d476f": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 2732,
+            "bbox": 4648,
             "colour": "black",
-            "end1": 2728,
-            "end2": 2729,
+            "end1": 5029,
+            "end2": 5030,
             "endx": 250.0,
             "endy": 125.0,
             "item": "line",
             "itemid": 6,
-            "line": 2727,
+            "line": 5028,
             "posx": 50.0,
             "posy": 125.0,
-            "stop1": 2730,
-            "stop2": 2731,
+            "stop1": 5031,
+            "stop2": 5032,
             "tags": "line6"
         },
         "76e53459-d4c9-4116-8d77-03fdba76cbaf": {
-            "bbox": 2734,
+            "bbox": 4650,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 32,
             "label": "XXXXX",
             "mirror": "",
             "posx": 500.0,
@@ -10004,31 +10004,31 @@
         "7b50728b-e022-4eb1-bf0f-37c9e41de899": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2740,
+            "bbox": 4656,
             "colour": "black",
-            "end1": 2736,
-            "end2": 2737,
+            "end1": 5035,
+            "end2": 5036,
             "endx": 750.0,
             "endy": 525.0,
             "item": "line",
             "itemid": 10,
-            "line": 2735,
+            "line": 5034,
             "posx": 250.0,
             "posy": 525.0,
-            "stop1": 2738,
-            "stop2": 2739,
+            "stop1": 5037,
+            "stop2": 5038,
             "tags": "line10"
         },
         "905280e4-a705-45d6-bb9d-c7fd3b26236c": {
-            "bbox": 2742,
+            "bbox": 4658,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 33,
             "label": "XXXXX",
             "mirror": "Box1-21",
             "posx": 300.0,
@@ -10044,15 +10044,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2761,
+            "bbox": 4677,
             "dccaspects": [
                 [
                     [
                         102,
                         false
                     ],
                     [
@@ -11114,42 +11114,42 @@
         "a0109fcf-084d-40f8-94ca-c052772558c4": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2767,
+            "bbox": 4683,
             "colour": "black",
-            "end1": 2763,
-            "end2": 2764,
+            "end1": 5059,
+            "end2": 5060,
             "endx": 725.0,
             "endy": 300.0,
             "item": "line",
             "itemid": 8,
-            "line": 2762,
+            "line": 5058,
             "posx": 700.0,
             "posy": 275.0,
-            "stop1": 2765,
-            "stop2": 2766,
+            "stop1": 5061,
+            "stop2": 5062,
             "tags": "line8"
         },
         "a4e9de06-1dab-4ba2-971f-ddf8a8c9b8fe": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2786,
+            "bbox": 4702,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -12211,75 +12211,75 @@
         "a7f5a821-6d8a-48b8-8d40-6c6ddd79a43b": {
             "arrowends": 1,
             "arrowtype": [
                 16,
                 20,
                 5
             ],
-            "bbox": 2792,
+            "bbox": 4708,
             "colour": "black",
-            "end1": 2788,
-            "end2": 2789,
+            "end1": 5082,
+            "end2": 5083,
             "endx": 300.0,
             "endy": 75.0,
             "item": "line",
             "itemid": 2,
-            "line": 2787,
+            "line": 5081,
             "posx": 750.0,
             "posy": 75.0,
-            "stop1": 2790,
-            "stop2": 2791,
+            "stop1": 5084,
+            "stop2": 5085,
             "tags": "line2"
         },
         "abb71b13-0c6d-4fe6-bc32-73e78643732a": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 2798,
+            "bbox": 4714,
             "colour": "black",
-            "end1": 2794,
-            "end2": 2795,
+            "end1": 5087,
+            "end2": 5088,
             "endx": 725.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 3,
-            "line": 2793,
+            "line": 5086,
             "posx": 925.0,
             "posy": 250.0,
-            "stop1": 2796,
-            "stop2": 2797,
+            "stop1": 5089,
+            "stop2": 5090,
             "tags": "line3"
         },
         "acc8b92c-9f42-479a-bfa7-5582029f3fbc": {
             "arrowends": 1,
             "arrowtype": [
                 16,
                 20,
                 5
             ],
-            "bbox": 2804,
+            "bbox": 4720,
             "colour": "black",
-            "end1": 2800,
-            "end2": 2801,
+            "end1": 5092,
+            "end2": 5093,
             "endx": 675.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 4,
-            "line": 2799,
+            "line": 5091,
             "posx": 200.0,
             "posy": 250.0,
-            "stop1": 2802,
-            "stop2": 2803,
+            "stop1": 5094,
+            "stop2": 5095,
             "tags": "line4"
         },
         "b0f49fb4-18ad-4ab7-96c7-389aa0620a9b": {
-            "bbox": 2806,
+            "bbox": 4722,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 22,
             "label": "XXXXX",
             "mirror": "",
             "posx": 500.0,
@@ -12290,42 +12290,42 @@
         "b2e6c654-7f2b-4b11-a9bd-dcb45b0043ad": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 2812,
+            "bbox": 4728,
             "colour": "black",
-            "end1": 2808,
-            "end2": 2809,
+            "end1": 5098,
+            "end2": 5099,
             "endx": 250.0,
             "endy": 75.0,
             "item": "line",
             "itemid": 1,
-            "line": 2807,
+            "line": 5097,
             "posx": 50.0,
             "posy": 75.0,
-            "stop1": 2810,
-            "stop2": 2811,
+            "stop1": 5100,
+            "stop2": 5101,
             "tags": "line1"
         },
         "bd18d335-9806-4317-924d-e08a41e11e79": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2831,
+            "bbox": 4747,
             "dccaspects": [
                 [
                     [
                         122,
                         false
                     ],
                     [
@@ -13387,57 +13387,57 @@
         "bdf03629-8bd6-44f9-92de-e4c5e4f36a35": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2837,
+            "bbox": 4753,
             "colour": "black",
-            "end1": 2833,
-            "end2": 2834,
+            "end1": 5121,
+            "end2": 5122,
             "endx": 750.0,
             "endy": 400.0,
             "item": "line",
             "itemid": 9,
-            "line": 2832,
+            "line": 5120,
             "posx": 250.0,
             "posy": 400.0,
-            "stop1": 2835,
-            "stop2": 2836,
+            "stop1": 5123,
+            "stop2": 5124,
             "tags": "line9"
         },
         "bfed75b7-c5a8-4359-884e-64d60a15d756": {
-            "bbox": 2839,
+            "bbox": 4755,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 2,
             "label": "XXXXX",
             "mirror": "",
             "posx": 100.0,
             "posy": 125.0,
             "state": false,
             "tags": "section2"
         },
         "d0582275-d5f9-4560-8d34-3a7b41144ba3": {
-            "bbox": 2841,
+            "bbox": 4757,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 14,
             "label": "XXXXX",
             "mirror": "Box1-4",
             "posx": 300.0,
             "posy": 250.0,
             "state": false,
             "tags": "section14"
         },
         "d9e945b5-0996-45af-8f99-d685cf9b7b37": {
-            "bbox": 2843,
+            "bbox": 4759,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 12,
             "label": "XXXXX",
             "mirror": "",
             "posx": 875.0,
@@ -13448,53 +13448,53 @@
         "da5e3fbd-410a-400d-b00a-4dbbb9170dde": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2849,
+            "bbox": 4765,
             "colour": "black",
-            "end1": 2845,
-            "end2": 2846,
+            "end1": 5129,
+            "end2": 5130,
             "endx": 750.0,
             "endy": 525.0,
             "item": "line",
             "itemid": 14,
-            "line": 2844,
+            "line": 5128,
             "posx": 775.0,
             "posy": 500.0,
-            "stop1": 2847,
-            "stop2": 2848,
+            "stop1": 5131,
+            "stop2": 5132,
             "tags": "line14"
         },
         "dd8c28d8-9ddc-40a8-9bdc-fe34295b379a": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2855,
+            "bbox": 4771,
             "colour": "black",
-            "end1": 2851,
-            "end2": 2852,
+            "end1": 5134,
+            "end2": 5135,
             "endx": 225.0,
             "endy": 500.0,
             "item": "line",
             "itemid": 12,
-            "line": 2850,
+            "line": 5133,
             "posx": 250.0,
             "posy": 525.0,
-            "stop1": 2853,
-            "stop2": 2854,
+            "stop1": 5136,
+            "stop2": 5137,
             "tags": "line12"
         },
         "e122f2ea-41d1-451a-9429-83086e3fb36d": {
-            "bbox": 2857,
+            "bbox": 4773,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 3,
             "label": "XXXXX",
             "mirror": "",
             "posx": 450.0,
@@ -13505,45 +13505,45 @@
         "eab1efff-67fd-4664-b032-9a26357a0940": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2863,
+            "bbox": 4779,
             "colour": "black",
-            "end1": 2859,
-            "end2": 2860,
+            "end1": 5140,
+            "end2": 5141,
             "endx": 250.0,
             "endy": 400.0,
             "item": "line",
             "itemid": 11,
-            "line": 2858,
+            "line": 5139,
             "posx": 225.0,
             "posy": 425.0,
-            "stop1": 2861,
-            "stop2": 2862,
+            "stop1": 5142,
+            "stop2": 5143,
             "tags": "line11"
         },
         "ee36a4a7-221f-4528-9a14-67fd5c0fde1a": {
-            "bbox": 2878,
+            "bbox": 4794,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 1,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "Box1-11",
             "posx": 850.0,
             "posy": 50.0,
             "tags": "instrument1"
         },
         "f174c280-de2b-400c-96cb-9e6dd664a0d1": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 2885,
+            "bbox": 4801,
             "colour": "black",
             "dccaddress": 1001,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -13598,49 +13598,49 @@
         "f4e94d3c-d0e7-4d06-b718-6fcb54f4a581": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2891,
+            "bbox": 4807,
             "colour": "black",
-            "end1": 2887,
-            "end2": 2888,
+            "end1": 5165,
+            "end2": 5166,
             "endx": 225.0,
             "endy": 425.0,
             "item": "line",
             "itemid": 17,
-            "line": 2886,
+            "line": 5164,
             "posx": 225.0,
             "posy": 450.0,
-            "stop1": 2889,
-            "stop2": 2890,
+            "stop1": 5167,
+            "stop2": 5168,
             "tags": "line17"
         },
         "f7ca5f10-dcf7-4ef7-a072-f9b8a5c49cd4": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 2897,
+            "bbox": 4813,
             "colour": "black",
-            "end1": 2893,
-            "end2": 2894,
+            "end1": 5170,
+            "end2": 5171,
             "endx": 275.0,
             "endy": 100.0,
             "item": "line",
             "itemid": 5,
-            "line": 2892,
+            "line": 5169,
             "posx": 250.0,
             "posy": 125.0,
-            "stop1": 2895,
-            "stop2": 2896,
+            "stop1": 5172,
+            "stop2": 5173,
             "tags": "line5"
         }
     },
     "points": {
         "1": {
             "fpllock": true,
             "locked": false,
@@ -13650,35 +13650,35 @@
             "fpllock": true,
             "locked": false,
             "switched": false
         }
     },
     "sections": {
         "1": {
-            "labeltext": "3",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "11": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "12": {
-            "labeltext": "3",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "13": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "14": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "2": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "21": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "22": {
@@ -13686,15 +13686,15 @@
             "occupied": false
         },
         "23": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "3": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "31": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "32": {
@@ -13702,19 +13702,19 @@
             "occupied": false
         },
         "33": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "4": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "Box1-14": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         },
         "Box1-21": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "Box1-23": {
@@ -13726,31 +13726,32 @@
             "occupied": false
         },
         "Box1-33": {
             "labeltext": "XXXXX",
             "occupied": false
         },
         "Box1-4": {
-            "labeltext": "2",
+            "labeltext": "XXXXX",
             "occupied": false
         }
     },
     "settings": {
         "canvas": {
             "grid": 25,
             "height": 600,
             "snaptogrid": true,
             "width": 1000
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/mqtt_networked_example.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/mqtt_networked_example.sig",
             "info": "This example includes two 'layouts', where each layout is split into two signalling areas with MQTT \nnetworking configured to provide the communication between each area. To run this example you will need\nto either stand up your own MQTT broker (I installed a broker on the local machine with basic username \nand password authentication) or use a third-party broker (there are free-to-use test brokers out there).\n\nAlthough all the signalling areas appear on the same schematic, all communication between the two \n'halves' of each layout is via the MQTT broker. Select 'Settings' => 'MQTT' from the menubar to view\nthe broker configuration and list of published and subscribed signals, sensors, sections and instruments.\n\nThe top layout is an example of a single line between two 'block sections', with the points and signals \nin in each block section interlocked - e.g. signal 1 is interlocked with point 1 and opposing signals 3 \nand 4. The distant signals are configured as 'fixed distants' (see the signal's 'interlocking' tab for\ndetails of how this has been configured). The only communication between each block section is via MQTT \nnetworking - in this case linking the two block instruments and 'mirroring' track sections 4 and 14 \n(i.e. section 4 on the top half of the layout represents section 14 on the bottom half of the layout).\n\nThe block instruments are used to coordinate train movements between the two block sections and allow \ncommunication via bell codes. In this example, the 'starter' signals for each block section have been \ninterlocked with their respective instruments (and the instruments linked together via the MQTT network)\nThis means signals 1/2 can only be cleared when instrument 2 (on the bottom) has been set to 'line clear' \nand signals 11/12 can only be cleared when instrument 1 (on the top) has been set to 'line clear'.\n\nTrack sections have been included on the schematic to provide a mimic display of track occupancy (when\na train passes a signal (signal is 'off') it gets passed from the section behind to the section ahead).\nThe desired behavior is again configured via the 'automation' tab of each signal. For example, signal 3\ncontrols two 'routes' so when passed, section 3 will be cleared and either section 1 or 2 will be set \nto occupied, depending on which route the signal is cleared for. As sections 4 and 14 are 'mirrored' \nvia the MQTT network, trains are seamlessly passed between each each half of the layout\n\nThe bottom layout represents a simple oval of track, but split into two signalling areas. Here, MQTT\nnetworking is used to track the displayed aspect of the 'signal ahead' (in the next signalling area)\nto ensure all signals display the correct aspects as the train moves around the track. MQTT networking\nis also used to 'mirror' the track sections across signalling area boundaries to seamlessly pass trains\nfrom one half of the layout to the other (section 21 mirrors 33 and section 23 mirrors 31).\n\nTo see how the layout functions in its entirity, set all signals (21, 22, 31, 31) to 'off' and right-\nclick the top-middle track section to enter a train code of your choice (this will set the section to\n'occupied'. Then, pass the train around the loop by clicking the small button at the base of each \nsignal in turn (22 => 31 => 32 => 21 etc).\n\nAlternatively, if you are running on a Raspberry Pi, you can trigger the 'signal passed' events via\nthe GPIO ports. GPIO ports 4,5,6 and 7 have been allocated to \"track sensors\" 1,2,3 and 4 (Select \n'Settings' => 'Sensors' from the menubar to view the track sensor configuration). To trigger, simply\nmomentarily connect the appropriate GPIO pin to one of the R-Pi's 0V DC supply pins. \n\nFor this example, the track sensors are published (and subscribed back to) via the MQTT broker (select \n'Settings' => 'MQTT' from the menubar to see the configuration) with the signal configured to trigger \nthe 'signal passed' events from on the subscribed sensors. The DCC command feed is also published (and\nsubscribed back to) via the MQTT broker. This demonstrates how multiple application instances can be \nconfigured to use a single R-Pi acting as the interface to the layout.\n",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [
                 [
                     1,
                     4
                 ],
@@ -13763,15 +13764,15 @@
                     6
                 ],
                 [
                     4,
                     12
                 ]
             ],
-            "timeoutperiod": 1.0,
+            "timeoutperiod": 0.1,
             "triggerdelay": 0.001
         },
         "logging": {
             "level": 2
         },
         "mqtt": {
             "debug": false,
```

### Comparing `model_railway_signals-4.1.0/configuration_examples/signalist_sc1.cvc` & `model_railway_signals-4.2.0/configuration_examples/signalist_sc1.cvc`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/configuration_examples/single_line_semaphore_example.sig` & `model_railway_signals-4.2.0/configuration_examples/single_line_semaphore_example.sig`

 * *Files 2% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9943889443889444%*

 * *Differences: {"'objects'": "{'0079d36f-ae69-44e6-877c-cda6a98cb952': {'bbox': 5278}, "*

 * *              "'09a8e5eb-8294-4d10-b885-8548efb49112': {'bbox': 5306}, "*

 * *              "'0b251a10-3b3a-44be-89e2-f6954d641b29': {'bbox': 5308}, "*

 * *              "'2b66f6d7-6933-4a46-ab41-21c28db825be': {'bbox': 5339}, "*

 * *              "'3177e9a8-c505-4778-bf86-f6eaba449a86': {'bbox': 5367}, "*

 * *              "'3f83610c-414b-4f63-9548-806850436ece': {'bbox': 5398}, "*

 * *              "'481a82c5-681a-4ff7-b12c-0ad629dc267d': {'bbox': 5429}, "*

 * * […]*

```diff
@@ -19,15 +19,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3002,
+            "bbox": 5278,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1094,15 +1094,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3030,
+            "bbox": 5306,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2158,15 +2158,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "0b251a10-3b3a-44be-89e2-f6954d641b29": {
-            "bbox": 3032,
+            "bbox": 5308,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 7,
             "label": "XXXXX",
             "mirror": "",
             "posx": 1350,
@@ -2182,15 +2182,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3063,
+            "bbox": 5339,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -3257,15 +3257,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3091,
+            "bbox": 5367,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4332,15 +4332,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3122,
+            "bbox": 5398,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5407,15 +5407,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3153,
+            "bbox": 5429,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -6482,15 +6482,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3181,
+            "bbox": 5457,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -7552,44 +7552,44 @@
         "7cdb3379-67d2-4ce0-8242-6eae43d2fda3": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3187,
+            "bbox": 5463,
             "colour": "black",
-            "end1": 3183,
-            "end2": 3184,
+            "end1": 5787,
+            "end2": 5788,
             "endx": 1400,
             "endy": 100,
             "item": "line",
             "itemid": 1,
-            "line": 3182,
+            "line": 5786,
             "posx": 1200,
             "posy": 100,
-            "stop1": 3185,
-            "stop2": 3186,
+            "stop1": 5789,
+            "stop2": 5790,
             "tags": "line1"
         },
         "8b2daea0-c49c-4dc2-880e-73ec00bb4a7d": {
-            "bbox": 3189,
+            "bbox": 5465,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 3,
             "label": "XXXXX",
             "mirror": "",
             "posx": 425,
             "posy": 150,
             "state": false,
             "tags": "section3"
         },
         "8cd209c0-9f73-42bd-ac04-e555e25372e5": {
-            "bbox": 3204,
+            "bbox": 5480,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 1,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "2",
             "posx": 325,
@@ -7599,42 +7599,42 @@
         "992c22ab-c948-4ea6-ba91-448212894ffd": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3210,
+            "bbox": 5486,
             "colour": "black",
-            "end1": 3206,
-            "end2": 3207,
+            "end1": 5807,
+            "end2": 5808,
             "endx": 200,
             "endy": 150,
             "item": "line",
             "itemid": 2,
-            "line": 3205,
+            "line": 5806,
             "posx": 0,
             "posy": 150,
-            "stop1": 3208,
-            "stop2": 3209,
+            "stop1": 5809,
+            "stop2": 5810,
             "tags": "line2"
         },
         "99a82c21-0fb5-493a-a165-4e580ca22b53": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3241,
+            "bbox": 5517,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8690,42 +8690,42 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "9f0084b0-536d-4ba4-8429-d507dfe749f3": {
-            "bbox": 3256,
+            "bbox": 5532,
             "bellsound": "bell-ring-04.wav",
             "item": "instrument",
             "itemid": 2,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "1",
             "posx": 1000,
             "posy": 225,
             "tags": "instrument2"
         },
         "a00e5871-328c-4d71-a1df-a464efe5cce4": {
-            "bbox": 3258,
+            "bbox": 5534,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 4,
             "label": "XXXXX",
             "mirror": "",
             "posx": 700,
             "posy": 150,
             "state": false,
             "tags": "section4"
         },
         "a26a7440-68cc-4d3a-8186-dda77da27e7a": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3265,
+            "bbox": 5541,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -8774,15 +8774,15 @@
                         false
                     ]
                 ]
             ],
             "tags": "point1"
         },
         "a6aaaf9c-ad0e-40dc-adda-60b9daabc3a9": {
-            "bbox": 3267,
+            "bbox": 5543,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 2,
             "label": "XXXXX",
             "mirror": "",
             "posx": 50,
@@ -8793,31 +8793,31 @@
         "a7128070-34c3-4828-81f5-8d6842b33d7c": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3273,
+            "bbox": 5549,
             "colour": "black",
-            "end1": 3269,
-            "end2": 3270,
+            "end1": 5864,
+            "end2": 5865,
             "endx": 1200,
             "endy": 100,
             "item": "line",
             "itemid": 3,
-            "line": 3268,
+            "line": 5863,
             "posx": 1175,
             "posy": 125,
-            "stop1": 3271,
-            "stop2": 3272,
+            "stop1": 5866,
+            "stop2": 5867,
             "tags": "line3"
         },
         "b9d8ab0e-cd28-4590-ba49-36393b716aee": {
-            "bbox": 3275,
+            "bbox": 5551,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 1,
             "label": "XXXXX",
             "mirror": "",
             "posx": 50,
@@ -8828,90 +8828,90 @@
         "baec41e1-06eb-4fc0-b799-1d4b78d4f2ac": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3281,
+            "bbox": 5557,
             "colour": "black",
-            "end1": 3277,
-            "end2": 3278,
+            "end1": 5870,
+            "end2": 5871,
             "endx": 200,
             "endy": 100,
             "item": "line",
             "itemid": 4,
-            "line": 3276,
+            "line": 5869,
             "posx": 0,
             "posy": 100,
-            "stop1": 3279,
-            "stop2": 3280,
+            "stop1": 5872,
+            "stop2": 5873,
             "tags": "line4"
         },
         "c3fc3d01-76e5-4626-a536-ac7e18d5aab1": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3287,
+            "bbox": 5563,
             "colour": "black",
-            "end1": 3283,
-            "end2": 3284,
+            "end1": 5875,
+            "end2": 5876,
             "endx": 225,
             "endy": 125,
             "item": "line",
             "itemid": 5,
-            "line": 3282,
+            "line": 5874,
             "posx": 200,
             "posy": 100,
-            "stop1": 3285,
-            "stop2": 3286,
+            "stop1": 5877,
+            "stop2": 5878,
             "tags": "line5"
         },
         "ccc40157-3a05-43e0-90a3-bfa0441f9d7f": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3293,
+            "bbox": 5569,
             "colour": "black",
-            "end1": 3289,
-            "end2": 3290,
+            "end1": 5880,
+            "end2": 5881,
             "endx": 1400,
             "endy": 150,
             "item": "line",
             "itemid": 6,
-            "line": 3288,
+            "line": 5879,
             "posx": 1200,
             "posy": 150,
-            "stop1": 3291,
-            "stop2": 3292,
+            "stop1": 5882,
+            "stop2": 5883,
             "tags": "line6"
         },
         "cd47274b-172c-4b41-b8be-6c3d73d17084": {
-            "bbox": 3295,
+            "bbox": 5571,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 6,
             "label": "XXXXX",
             "mirror": "",
             "posx": 1350,
             "posy": 100,
             "state": false,
             "tags": "section6"
         },
         "d79d5363-5db2-49c7-bb7a-197d8f798b69": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3302,
+            "bbox": 5578,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 2,
             "itemtype": 1,
@@ -8960,15 +8960,15 @@
                         false
                     ]
                 ]
             ],
             "tags": "point2"
         },
         "e1580065-8556-4f74-924e-9a88db52729d": {
-            "bbox": 3304,
+            "bbox": 5580,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 5,
             "label": "XXXXX",
             "mirror": "",
             "posx": 975,
@@ -8979,27 +8979,27 @@
         "f56ac765-15c1-4b20-ba68-eca8e916e867": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 3310,
+            "bbox": 5586,
             "colour": "black",
-            "end1": 3306,
-            "end2": 3307,
+            "end1": 5893,
+            "end2": 5894,
             "endx": 1150,
             "endy": 150,
             "item": "line",
             "itemid": 7,
-            "line": 3305,
+            "line": 5892,
             "posx": 250,
             "posy": 150,
-            "stop1": 3308,
-            "stop2": 3309,
+            "stop1": 5895,
+            "stop2": 5896,
             "tags": "line7"
         }
     },
     "points": {
         "1": {
             "fpllock": true,
             "locked": false,
@@ -9047,21 +9047,22 @@
             "height": 500,
             "snaptogrid": true,
             "width": 1400
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/configuration_examples/single_line_semaphore_example.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/single_line_semaphore_example.sig",
             "info": "This layout is an example of a single line between two 'block sections', with the points and signals in\nin each block section interlocked - e.g. signal 1 is interlocked with point 2 and opposing signals 3 & 4.\nThe distant signals are also interlocked with the home signals ahead - e.g. signal 4 can only be cleared\nif signal 3 has already been cleared - note it can be returned to 'on' at any time.\n\nBlock instruments are used to coordinate train movements between the two block sections and allow \ncommunication via bell codes (right click on the 'Telegraph' button to bring up a list of common bell \ncodes). In this example, the 'starter' signals for each block section have been interlocked with their \nrespective instruments (and the instruments linked together) - so signals 1/2 can only be cleared when\ninstrument 2 (on the right hand side) has been set to 'line clear' and signals 5/6 can only be cleared \nwhen instrument 1 (on the left hand side) has been set to 'line clear'.\n\nTrack sensors (such as those from TrainTech, Heathcote Electronics, DCC Concepts etc) can be located \nwith each signal and connected in to the R-Pi's GPIO ports (via appropriate opto isolator circuits).\nEach GPIO port can then be mapped to a signal to generate 'signal passed' events - In 'edit' mode,\nclick on a signal and select the 'automation' tab to view the configuration. 'Signal passed' events\ncan also be triggered by clicking on the small button at the base of each signal (as an aid to \ndevelopment and testing of signalling schemes before going 'live' on the layout).\n\nTrack sections have bene included on the schematic to provide a mimic display of track occupancy (when\na train passes a signal (signal is 'off') it gets passed from the section behind to the section ahead).\nThe desired behavior is again configured via the 'automation' tab of each signal. For example, signal 3\ncontrols two 'routes' so when passed, section 3 will be cleared and either section 1 or 2 will be set \nto occupied, depending on which route the signal is cleared for.\n\nAll main signals are configured to be 'overridden' if the track section ahead is occupied. This means\nthat each signal will automatically change from 'off' to 'on' when passed (section ahead is occupied) \nand then revert to'off' as soon as the section ahead is cleared.\n\nTo demonstrate all the above in action, set 'run' mode and reset the layout to set all signals, points\nand track sections back to their default states. \n\nSignalman 1 - Right click the top left track section and enter a train designation code of your choice \n(this sets the track section to 'occupied'). Unlock, switch and re-lock point 2. On the LH instrument,\nuse the telegraph key to call attention and ask if the line is clear (just for a bit of fun). \n\nSignalman 2 - Set the RH instrument to 'clear' (this will finally unlock signal 1), set signal 7 to \n'off' and then set signal 8 to 'off' to set the route through the block section \n\nSignalman 1 - Set Signal 1 to 'off' and move the train through the schematic, clicking the 'signal \npassed' button at the base of each signal along the route in turn (don't forget to telegraph 'train \nentering section' so signalman 2 knows they need to set their instrument to 'occupied'). \n\nSignalman 2 - When the train has cleared the home signal, telegraph 'train arrived' and revert the \nRH instrument back to 'line blocked, in readiness for the next movement.\n\nThe use of block instruments in this example may seem like overkill (this is only a single application\nwith a single user after all) but with MQTT networking you can create and configure any number of linked\napplication instances. Only the application instance acting as the DCC command station needs to be run\nup on the R-Pi (other instances can be run up on Windows, iOS, linux or any other platform / operating\nsystem combiination that supports python). This provides the potential for splitting large layouts into \ndifferent signalling areas each with a signalman responsible for their area\nDocument your layout here\n\n",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [],
-            "timeoutperiod": 1.0,
+            "timeoutperiod": 0.1,
             "triggerdelay": 0.001
         },
         "logging": {
             "level": 2
         },
         "mqtt": {
             "debug": false,
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/__init__.py` & `model_railway_signals-4.2.0/model_railway_signals/__init__.py`

 * *Files 12% similar despite different names*

```diff
@@ -51,67 +51,72 @@
 from .library.track_sections import section_occupied
 from .library.track_sections import section_label
 from .library.track_sections import set_section_occupied
 from .library.track_sections import clear_section_occupied
 from .library.track_sections import subscribe_to_remote_section
 from .library.track_sections import set_sections_to_publish_state
 
-from .library.track_sensors import track_sensor_callback_type
-from .library.track_sensors import create_track_sensor
-from .library.track_sensors import track_sensor_active 
-from .library.track_sensors import subscribe_to_remote_sensor
-from .library.track_sensors import set_sensors_to_publish_state
+from .library.gpio_sensors import create_gpio_sensor
+from .library.gpio_sensors import subscribe_to_remote_gpio_sensor
+from .library.gpio_sensors import set_gpio_sensors_to_publish_state
 
 from .library.pi_sprog_interface import sprog_connect
 from .library.pi_sprog_interface import service_mode_write_cv
 from .library.pi_sprog_interface import request_dcc_power_on
 from .library.pi_sprog_interface import request_dcc_power_off
 
 from .library.dcc_control import map_dcc_signal
 from .library.dcc_control import map_semaphore_signal
-from .library.dcc_control import map_traintech_signal
 from .library.dcc_control import map_dcc_point
 from .library.dcc_control import subscribe_to_dcc_command_feed
 from .library.dcc_control import set_node_to_publish_dcc_commands
 
 from .library.mqtt_interface import configure_mqtt_client
 from .library.mqtt_interface import mqtt_broker_connect
 
-from .library.file_interface import load_layout_state
-
 from .library.block_instruments import instrument_type
 from .library.block_instruments import block_callback_type
-from .library.block_instruments import create_block_instrument
+from .library.block_instruments import create_instrument
 from .library.block_instruments import block_section_ahead_clear
 from .library.block_instruments import set_instruments_to_publish_state
 from .library.block_instruments import subscribe_to_remote_instrument
 
+from .library.file_interface import load_schematic
+from .library.file_interface import save_schematic
+
+from .library.track_sensors import track_sensor_callback_type
+from .library.track_sensors import create_track_sensor
+
+from .library.common import set_root_window
+from .library.common import shutdown
+
 from .editor.editor import run_editor
 
 __all__ = [
-      # Public point types
+      # Public common functions
+        'set_root_window',
+        'shutdown',
+      # Public point types/functions
         'point_type',
         'point_callback_type',
-      # Public point functions
         'create_point',
         'lock_point',
         'unlock_point',
         'point_switched',
         'fpl_active',
         'toggle_point',
         'toggle_fpl',
-      # Public signal types
+      # Public signal types/functions
         'route_type',
         'signal_sub_type',
         'semaphore_sub_type',
         'ground_pos_sub_type',
         'ground_disc_sub_type',
         'sig_callback_type',
         'signal_state_type',
-      # Public signal functions
         'create_colour_light_signal',
         'create_semaphore_signal',
         'create_ground_position_signal',
         'create_ground_disc_signal',
         'set_route',
         'update_signal',
         'lock_signal',
@@ -128,52 +133,50 @@
         'set_signal_override_caution',
         'clear_signal_override_caution',
         'set_approach_control',
         'clear_approach_control',
         'trigger_timed_signal',
         'subscribe_to_remote_signal',
         'set_signals_to_publish_state',
-      # Public track_section types
+      # Public track_section types/functions
         'section_callback_type',
-      # Public track_section functions
         'create_section',
         'section_occupied',
         'section_label',
         'set_section_occupied',
         'clear_section_occupied',
         'subscribe_to_remote_section',
         'set_sections_to_publish_state', 
-      # public track_sensor types
-        'track_sensor_callback_type',
-      # public track_sensor functions
-        'create_track_sensor',
-        'track_sensor_active',
-        'subscribe_to_remote_sensor',
-        'set_sensors_to_publish_state',
+      # public gpio sensor functions
+        'create_gpio_sensor',
+        'subscribe_to_remote_gpio_sensor',
+        'set_gpio_sensors_to_publish_state',
       # Public DCC control functions
         'sprog_connect',
         'service_mode_write_cv',
         'request_dcc_power_on',
         'request_dcc_power_off',
         'map_dcc_signal',
-        'map_traintech_signal',
         'map_semaphore_signal',
         'map_dcc_point',
         'subscribe_to_dcc_command_feed',
         'set_node_to_publish_dcc_commands',
       # Public networking functions
         'configure_mqtt_client',
         'mqtt_broker_connect',
-      # Public File load/save functions
-        'load_layout_state',
-      # public block instrument types
+      # public block instrument types/functions
         'block_callback_type',
         'instrument_type',
-      # Public block instrument functions
-        'create_block_instrument',
+        'create_instrument',
         'block_section_ahead_clear',
         'subscribe_to_remote_instrument',
         'set_instruments_to_publish_state',
+      # public track sensor types/functions
+        'track_sensor_callback_type',
+        'create_track_sensor',
+      # Public file interface functions
+        'save_schematic',
+        'load_schematic',
       # Public function to run editor
         'run_editor'
            ]
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/common.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/common.py`

 * *Files 5% similar despite different names*

```diff
@@ -6,22 +6,24 @@
 #    check_box(Tk.Checkbutton)
 #    state_box(Tk.Checkbutton)
 #    entry_box(Tk.Entry)
 #    integer_entry_box(entry_box)
 #    dcc_entry_box(integer_entry_box)
 #    int_item_id_entry_box (integer_entry_box)
 #    str_item_id_entry_box(entry_box)
+#    int_str_item_id_entry_box(entry_box)
 #    scrollable_text_frame(Tk.Frame)
 #
 # Provides the following 'compound' UI elements for the application
 #    object_id_selection(Tk.integer_entry_box)
+#    point_interlocking_entry() - combines int_item_id_entry_box and state_box
 #    dcc_command_entry() - combines dcc_entry_box and state_box
 #    signal_route_selections() - combines int_item_id_entry_box and 5 state_boxes
 #    signal_route_frame() - read only list of signal_route_selections()
-#    selection_buttons() - combines 5 RadioButtons
+#    selection_buttons() - combines up to 5 RadioButtons
 #    colour_selection() - Allows the colour of an item to be changed
 #    window_controls() - apply/ok/reset/cancel
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 from tkinter import colorchooser
 
@@ -82,20 +84,24 @@
         self.tw= None
         if tw: tw.destroy()
 
 #------------------------------------------------------------------------------------
 # Base class for a generic check_box - Builds on the tkinter checkbutton class.
 # Note the responsibility of the instantiating func/class to 'pack' the check_box.
 #
-# Additional class methods provided are:
+# Public class methods provided are:
 #    "set_value" - will set the check_box state (bool)
 #    "get_value" - will return the state (False if disabled) (bool)
 #    "disable/disable1/disable2" - disables/blanks the check_box
 #    "enable/enable1/enable2"  enables/loads the check_box (with the last state)
 #
+# Class methods/objects intended for use by child classes that inherit:
+#    "TT.text" - The tooltip for the check_box (to change the tooltip text)
+#    "state" - is the current check_box value
+#
 # Note that check_box is created as 'enabled' - the individual functions provide
 # an AND function where all three flags need to be 'enabled' to enable the 
 # check_box. Any of the 3 flags can be 'disabled' to disable the check_box.
 #------------------------------------------------------------------------------------
 
 class check_box(Tk.Checkbutton):
     def __init__(self, parent_frame, label:str, tool_tip:str, width:int=None, callback=None):
@@ -166,20 +172,24 @@
         return (self.selection.get())
 
 #------------------------------------------------------------------------------------
 # Base class for a generic state_box (like a check box but with labels for off/on 
 # and blank when disabled) - Builds on the tkinter checkbutton class.
 # Note the responsibility of the instantiating func/class to 'pack' the state_box.
 #
-# Additional class methods provided are:
+# Public class methods provided are:
 #    "set_value" - will set the state_box state (bool)
 #    "get_value" - will return the current state (False if disabled) (bool)
 #    "disable/disable1/disable2" - disables/blanks the state_box
 #    "enable/enable1/enable2"  enables/loads the state_box (with the last state)
 #
+# Class methods/objects intended for use by child classes that inherit:
+#    "TT.text" - The tooltip for the check_box (to change the tooltip text)
+#    "state" - is the current check_box value
+#
 # Note that state_box is created as 'enabled' - the individual functions provide
 # an AND function where all three flags need to be 'enabled' to enable the 
 # state_box. Any of the 3 flags can be 'disabled' to disable the state_box.
 #------------------------------------------------------------------------------------
 
 class state_box(Tk.Checkbutton):
     def __init__(self, parent_frame, label_off:str, label_on:str, tool_tip:str,
@@ -264,45 +274,42 @@
         return (self.selection.get())
 
 #------------------------------------------------------------------------------------
 # Common Base Class for a generic entry_box - Builds on the tkinter Entry class.
 # This will accept any string value to be entered/displayed with no validation.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
-# Additional class methods provided are:
+# Public class methods provided are:
 #    "set_value" - set the initial value of the entry_box (string) 
 #    "get_value" - get the last "validated" value of the entry_box (string) 
-#    "get_initial_value" - get the initial value of the entry_box (string)
 #    "validate" - This gets overridden by the child class function
 #    "disable/disable1/disable2" - disables/blanks the entry_box
-#    "enable/enable1/enable2"  enables/loads the entry_box (with the last state)
-#
-# Note that entry_box is created as 'enabled' - the individual functions provide
-# an AND function where all three flags need to be 'enabled' to enable the 
-# entry_box. Any of the 3 flags can be 'disabled' to disable the entry_box.
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
 # Class methods/objects intended for use by child classes that inherit:
 #    "set_validation_status" - to be called following external validation
 #    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
 #    "entry" - is the current entry_box value (may or may not be valid)
-#    "value" - is the last validated value of the entry_box
+#
+# Note that entry_box is created as 'enabled' - the individual functions provide
+# an AND function where all three flags need to be 'enabled' to enable the 
+# entry_box. Any of the 3 flags can be 'disabled' to disable the entry_box.
 #------------------------------------------------------------------------------------
 
 class entry_box(Tk.Entry):
     def __init__(self, parent_frame, width:int, tool_tip:str, callback=None):
         # Create the local instance configuration variables
         # 'entry' is the current EB value and 'value' is the last entered value
-        # 'enabled' is the flag to track whether the checkbox is enabled or not
+        # 'enabled' is the flag to track whether the rmtry box is enabled or not
         # 'tooltip' is the default tooltip text(if no validation errors are present)
         self.parent_frame = parent_frame
         self.callback = callback
         self.tool_tip = tool_tip
         self.entry = Tk.StringVar(self.parent_frame, "")
         self.value = ""
-        self.initial_value = ""
         self.enabled0 =  True
         self.enabled1 =  True
         self.enabled2 =  True
         # Create the entry box, event bindings and associated default tooltip
         super().__init__(self.parent_frame, width=width, textvariable=self.entry, justify='center')
         self.bind('<Return>', self.entry_box_updated)
         self.bind('<Escape>', self.entry_box_cancel)
@@ -366,49 +373,43 @@
 
     def disable2(self):
         self.enabled2 = False
         self.enable_disable_entrybox()
         
     def set_value(self, value:str):
         self.value = value
-        self.initial_value = value
         self.entry.set(value)
         self.validate()
 
     def get_value(self):
         if self.enabled0 and self.enabled1 and self.enabled2: return(self.value)
         else: return("")
 
-    def get_initial_value(self):
-        return(self.initial_value)
-
 #------------------------------------------------------------------------------------
 # Common Class for an integer_entry_box - builds on the entry_box class (above).
 # This will only allow valid integers (within the defined range) to be entered.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods inherited from the base Entry Box class are:
 #    "disable/disable1/disable2" - disables/blanks the entry_box
-#    "enable/enable1/enable2"  enables/loads the entry_box (with the last state)
-#
-# Note that entry_box is created as 'enabled' - the individual functions provide
-# an AND function where all three flags need to be 'enabled' to enable the 
-# entry_box. Any of the 3 flags can be 'disabled' to disable the entry_box.
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
-# Public class instance methods overridden by this class are
+# Public class instance methods provided/overridden by this class are
 #    "set_value" - set the initial value of the entry_box (int) 
 #    "get_value" - get the last "validated" value of the entry_box (int) 
-#    "get_initial_value" - get the initial value of the entry_box (int) 
 #    "validate" - Validates an integer, within range and whether empty
 #
-# Class methods/objects intended for use by child classes that inherit:
+# Inherited class methods/objects intended for use by child classes that inherit:
 #    "set_validation_status" - to be called following external validation
 #    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
 #    "entry" - is the current entry_box value (may or may not be valid)
-#    "value" - is the last validated value of the entry_box
+#
+# Note that entry_box is created as 'enabled' - the individual functions provide
+# an AND function where all three flags need to be 'enabled' to enable the 
+# entry_box. Any of the 3 flags can be 'disabled' to disable the entry_box.
 #------------------------------------------------------------------------------------
 
 class integer_entry_box(entry_box):
     def __init__(self, parent_frame, width:int, min_value:int, max_value:int,
             tool_tip:str, callback=None, allow_empty:bool=True, empty_equals_zero:bool=True):
         # Store the local instance configuration variables
         self.empty_equals_zero = empty_equals_zero
@@ -445,127 +446,142 @@
     
     def set_value(self, value:int):
         if self.empty_allowed and (value==None or (value==0 and self.empty_equals_zero)) :
             super().set_value("")
         elif value==None: super().set_value(str(0))
         else: super().set_value(str(value))
 
-
     def get_value(self):
         if super().get_value() == "" or super().get_value() == "#":
             if self.empty_equals_zero: return(0)
             else: return(None)
         else: return(int(super().get_value()))
 
-    def get_initial_value(self):
-        if self.empty_allowed and super().get_initial_value() == "":
-            if self.empty_equals_zero: return(0)
-            else: return(None)
-        else: return(int(super().get_initial_value()))
-
 #------------------------------------------------------------------------------------
 # Common class for a DCC address entry box - builds on the integer_entry_box class
 # Adds additional validation to ensure the DCC Address is within the valid range.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods inherited from the base entry_box class are:
-#    "disable" - disables/blanks the entry_box 
-#    "enable"  enables/loads the entry_box (with the last value)
 #    "set_value" - set the initial value of the entry_box (int) 
 #    "get_value" - get the last "validated" value of the entry_box (int) 
 #    "validate" - Validates an integer, within range and whether empty 
+#    "disable/disable1/disable2" - disables/blanks the entry_box
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
+#
+# Inherited class methods/objects intended for use by child classes that inherit:
+#    "set_validation_status" - to be called following external validation
+#    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
+#    "entry" - is the current entry_box value (may or may not be valid)
 #------------------------------------------------------------------------------------
 
-class dcc_entry_box (integer_entry_box):
+class dcc_entry_box(integer_entry_box):
     def __init__(self, parent_frame, callback=None,
             tool_tip:str="Enter a DCC address (1-2047) or leave blank"):
         # Call the common base class init function to create the EB
         super().__init__(parent_frame, width=4 , min_value=1, max_value=2047,
                             tool_tip=tool_tip, callback=callback)
 
 #------------------------------------------------------------------------------------
 # Common class for an int_item_id_entry_box - builds on the integer_entry_box
 # These classes are for entering local signal/point/instrument/section IDs (integers)
 # They do not accept remote Signal or Instrument IDs (where the ID can be an int or str)
 # The class uses the 'exists_function' to check that the item exists on the schematic
-# If a 'current_id_function' is specified then this function is also used to validate
-# that the entered ID is not the same as the current ID of the item.
+# If the the current item ID is specified (via the set_item_id function) then the class
+# also validates the entered value is not the same as the current item ID.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods inherited from the base integer_entry_box are:
-#    "disable" - disables/blanks the entry_box 
-#    "enable"  enables/loads the entry_box (with the last value)
-#    "set_value" - set the initial value of the entry_box (int) 
 #    "get_value" - get the last "validated" value of the entry_box (int)
+#    "disable/disable1/disable2" - disables/blanks the entry_box
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
-# Public class instance methods overridden by this class are
+# Public class instance methods provided/overridden by this class are
 #    "validate" - Validation as described above 
+#    "set_value" - set the initial value of the entry_box (int) - Also takes the
+#               optional current item ID (int) for validation purposes (default=0)
+#
+# Inherited class methods/objects intended for use by child classes that inherit:
+#    "set_validation_status" - to be called following external validation
+#    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
+#    "entry" - is the current entry_box value (may or may not be valid)
+#    "current_item_id" - for any additional validation that may be required
 #------------------------------------------------------------------------------------
 
-class int_item_id_entry_box (integer_entry_box):
-    def __init__(self, parent_frame, tool_tip:str, width:int=3, callback=None, allow_empty=True,
-                            exists_function=None, current_id_function=None):
-        # These are the function calls used for validation
+class int_item_id_entry_box(integer_entry_box):
+    def __init__(self, parent_frame, tool_tip:str, width:int=3,
+              callback=None, allow_empty=True, exists_function=None):
+        # We need to know the current item ID for validation purposes
+        self.current_item_id = 0
+        # The exists_function is the function we need to call to see if an item exists
         self.exists_function = exists_function
-        self.current_id_function = current_id_function
         # Call the common base class init function to create the EB
         super().__init__(parent_frame, width=width , min_value=1, max_value=99,
                 allow_empty=allow_empty, tool_tip=tool_tip, callback=callback)
 
     def validate(self, update_validation_status=True):
         # Do the basic integer validation (integer, in range)
         valid = super().validate(update_validation_status=False)
         # Now do the additional validation
         if valid:
             if self.exists_function is not None:
-                if self.entry.get() != "" and not self.exists_function(self.entry.get()):
+                if self.entry.get() != "" and not self.exists_function(int(self.entry.get())):
                     self.TT.text = "Specified ID does not exist"
                     valid = False
-            if self.current_id_function is not None:
-                if self.entry.get() == str(self.current_id_function()):
+            if self.current_item_id > 0:
+                if self.entry.get() == str(self.current_item_id):
                     self.TT.text = "Entered ID is the same as the current Item ID"
                     valid = False
         if update_validation_status: self.set_validation_status(valid)
         return(valid)
 
+    def set_value(self, value:int, item_id:int=0):
+        self.current_item_id = item_id
+        super().set_value(value)
+        
 #------------------------------------------------------------------------------------
 # Common class for a str_item_id_entry_box - builds on the common entry_box class.
 # This class is for REMOTE item IDs (subscribed to via MQTT networking) where the ID
 # is a str in the format 'NODE-ID'. If the 'exists_function' is specified then the 
 # validation function checks that the item exists (i.e. has been subscribed to).
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods inherited from the base entry_box class are:
-#    "disable" - disables/blanks the entry_box 
-#    "enable"  enables/loads the entry_box (with the last value)
 #    "set_value" - set the initial value of the entry_box (str) 
 #    "get_value" - get the last "validated" value of the entry_box (str)
+#    "disable/disable1/disable2" - disables/blanks the entry_box
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
-# Public class instance methods overridden by this class are
-#    "validate" - Validation as described above 
+# Public class instance methods provided/overridden by this class are
+#    "validate" - Validation as described above
+#
+# Inherited class methods/objects intended for use by child classes that inherit:
+#    "set_validation_status" - to be called following external validation
+#    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
+#    "entry" - is the current entry_box value (may or may not be valid)
 #------------------------------------------------------------------------------------
 
-class str_item_id_entry_box (entry_box):
-    def __init__(self, parent_frame, tool_tip:str, width:int=8, callback=None, exists_function = None):
-        # This the function calls used for validation
+class str_item_id_entry_box(entry_box):
+    def __init__(self, parent_frame, tool_tip:str, width:int=8, callback=None, exists_function=None):
+        # The exists_function is the function we need to call to see if an item exists
         self.exists_function = exists_function
         # Call the common base class init function to create the EB
         super().__init__(parent_frame, width=width, tool_tip=tool_tip, callback=callback)
 
     def validate(self, update_validation_status=True):
         # Validate that the entry is in the correct format for a remote Item (<NODE>-<ID>)
         # where the NODE element can be any non-on zero length string but the ID element
         # must be a valid integer between 1 and 99
         entered_value = self.entry.get()
         node_id = entered_value.rpartition("-")[0]
         item_id = entered_value.rpartition("-")[2]
         if entered_value == "":
             # Entered value is blank - this is valid
             valid = True
-        elif node_id !="" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 99:
+        elif node_id !="" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 100:
             # We know that the entered value is a valid remote item identifier so now we need to
             # do the optional validation that the item exists (i.e. has been subscribed to)
             if self.exists_function is not None and not self.exists_function(entered_value):
                 # An exists_function has been specified and the item does not exist - therefore invalid
                 valid = False
                 self.TT.text = "Specified ID has not been subscribed to via MQTT networking"
             else:
@@ -581,83 +597,95 @@
 
 #------------------------------------------------------------------------------------
 # Common class for an int_str_item_id_entry_box - builds on the str_item_id_entry_box class.
 # This class is for LOCAL IDs (on the current schematic) where the entered ID is a number
 # between 1 and 99), or REMOTE item IDs (subscribed to via MQTT networking) where the ID
 # is a str in the format 'NODE-ID'. If the 'exists_function' is specified then the 
 # validation function checks that the item exists (i.e. has been subscribed to).
-# If the 'current_id_function' is specified then this function is also used
-# to validate that the entered ID is not the same as the current ID of the item.
+# If the the current item ID is specified (via the set_item_id function) then the class
+# also validates the entered value is not the same as the current item ID.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods inherited from the base entry_box class are:
-#    "disable" - disables/blanks the entry_box 
-#    "enable"  enables/loads the entry_box (with the last value)
-#    "set_value" - set the initial value of the entry_box (str) 
 #    "get_value" - get the last "validated" value of the entry_box (str)
+#    "disable/disable1/disable2" - disables/blanks the entry_box
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
-# Public class instance methods overridden by this class are
+# Public class instance methods provided/overridden by this class are
 #    "validate" - Validation as described above 
+#    "set_value" - set the initial value of the entry_box (str) - Also takes the
+#               optional current item ID (int) for validation purposes (default=0)
+#
+# Inherited class methods/objects intended for use by child classes that inherit:
+#    "set_validation_status" - to be called following external validation
+#    "TT.text" - The tooltip for the entry_box (to change the tooltip text)
+#    "entry" - is the current entry_box value (may or may not be valid)
+#    "current_item_id" - for any additional validation that may be required
 #------------------------------------------------------------------------------------
 
 class str_int_item_id_entry_box (entry_box):
-
-    def __init__(self, parent_frame, tool_tip:str, width:int=8, callback=None,
-                       exists_function = None, current_id_function=None):
-        # These are the additionalfunction calls used for validation
-        self.current_id_function = current_id_function
+    def __init__(self, parent_frame, tool_tip:str, width:int=8, callback=None, exists_function=None):
+        # We need to know the current item ID for validation purposes
+        self.current_item_id = 0
+        # The exists_function is the function we need to call to see if an item exists
         self.exists_function = exists_function
         # Call the common base class init function to create the EB
         super().__init__(parent_frame, width=width, tool_tip=tool_tip, callback=callback)
 
     def validate(self, update_validation_status=True):
         # Validate that the entry is in the correct format for a local item id (integer range 1-99)
         # or a remote item id (string in the form 'NODE-ID' where the NODE element can be any 
         # non-zero length string but the ID element must be a valid integer between 1 and 99)
         entered_value = self.entry.get()
         node_id = entered_value.rpartition("-")[0]
         item_id = entered_value.rpartition("-")[2]
         if entered_value == "":
             # Entered value is blank - this is valid
             valid = True
-        elif ( (entered_value.isdigit() and int(entered_value) > 0 and int(entered_value) < 99) or
-               (node_id !="" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 99) ):
+        elif ( (entered_value.isdigit() and int(entered_value) > 0 and int(entered_value) < 100) or
+               (node_id !="" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 100) ):
             # The entered value is a valid local or remote item identifier. but we still need to perform
             # the optional validation that the item exists on the schematic (or has been subscribed to)
             if self.exists_function is not None and not self.exists_function(entered_value):
                 # An exists_function has been specified but the item does not exist - therefore invalid
                 valid = False
                 self.TT.text = ("Specified ID does not exist on the schematic "+
                                 "(or has not been subscribed to via MQTT networking)")
             # So far, so good, but we still need to perform the optional validation that the item id
             # is not the same item id as the id of the item we are currently editing 
-            elif self.current_id_function is not None and entered_value == str(self.current_id_function()):
+            elif self.current_item_id > 0 and entered_value == str(self.current_item_id):
                 # An current_id_function and the entered id is the same as the current id - therefore invalid
                 valid = False
                 self.TT.text = "Entered ID is the same as the current Item ID"
             else:
                 valid = True
         else:
             valid = False
             self.TT.text = ("Invalid ID - must be a local ID (integer between 1 and 99) or a remote item ID "+
                         "of the form 'node-ID' (with the 'ID' element an integer between 1 and 99 ")        
         if update_validation_status: self.set_validation_status(valid)
         return(valid)
-    
+
+    def set_value(self, value:str, item_id:int=0):
+        self.current_item_id = item_id
+        super().set_value(value)
+
 #------------------------------------------------------------------------------------
 # Class for a scrollable_text_frame - can be editable (e.g. entering layout info)
 # or non-editable (e.g. displaying a list of warnings)- can also be configured
 # to re-size automatically (within the specified limits) as text is entered.
 # The text box will 'fit' to the content unless max or min dimentions are
 # specified for the width and/or height - then the scrollbars can be used.
 # Note the responsibility of the instantiating func/class to 'pack' the entry_box.
 #
 # Public class instance methods provided by this class are
 #    "set_value" - will set the current value (str)
 #    "get_value" - will return the current value (str)
+#    "set_justification" - set justification (int - 1=left, 2=center, 3=right)
+#    "set_font" -  set the font (font:str, font_size:int, font_style:str)
 #------------------------------------------------------------------------------------
 
 class scrollable_text_frame(Tk.Frame):
     def __init__(self, parent_window, max_height:int=None, min_height:int=None, editable:bool=False,
                  max_width:int=None, min_width:int=None, auto_resize:bool=False):
         # Store the parameters we need
         self.min_height = min_height
@@ -745,27 +773,28 @@
 #------------------------------------------------------------------------------------
 # Compound UI element for an object_id_selection LabelFrame - uses the integer_entry_box.
 # This is used across all object windows for displaying / changing the item ID.
 # Note the responsibility of the instantiating func/class to 'pack' the Frame of
 # the UI element - i.e. '<class_instance>.frame.pack()'
 #
 # Public class instance methods inherited from the base integer_entry_box are:
-#    "disable" - disables/blanks the entry_box 
-#    "enable"  enables/loads the entry_box (with the last value)
-#    "set_value" - set the initial value of the entry_box (int) 
 #    "get_value" - get the last "validated" value of the entry_box (int) 
-#    "get_initial_value" - get the initial value of the entry_box (int)
+#    "disable/disable1/disable2" - disables/blanks the entry_box
+#    "enable/enable1/enable2"  enables/loads the entry_box (with the last value)
 #
-# Public class instance methods overridden by this class are
+# Public class instance methods provided/overridden by this class are
+#    "set_value" - set the initial value of the entry_box (int)
 #    "validate" - Validates that the entered Item ID is "free" (and can therefore be
 #               assigned to this item) or is being changed back to the initial value.
 #------------------------------------------------------------------------------------
 
 class object_id_selection(integer_entry_box):
     def __init__(self, parent_frame, label:str, exists_function):
+        # We need to know the current Item ID for validation purposes
+        self.current_item_id = 0
         # This is the function to call to see if the object already exists
         self.exists_function = exists_function
         # Create a Label Frame for the UI element
         self.frame = Tk.LabelFrame(parent_frame, text=label)
         # Call the common base class init function to create the EB
         tool_tip = ("Enter new ID (1-99) \n" + "Once saved/applied any references "+
                     "to this object will be updated in other objects")
@@ -775,99 +804,98 @@
         self.pack()
         
     def validate(self):
         # Do the basic integer validation first (integer, in range, not empty)
         valid = super().validate(update_validation_status=False)
         if valid:
             # Validate that the entered ID is not assigned to another item
-            current_id = self.get_initial_value()
-            new_id = int(self.entry.get())
-            if self.exists_function(new_id) and new_id != current_id:
+            # Ignoring the initial value set at load time (which is the current ID)
+            entered_item_id = int(self.entry.get())
+            if self.exists_function(entered_item_id) and entered_item_id != self.current_item_id:
                 self.TT.text = "ID already assigned"
                 valid = False
         self.set_validation_status(valid)
         return(valid)
-
-#------------------------------------------------------------------------------------
-# Compound UI element for a dcc_command_entry (address + command logic).
-# Uses the common dcc_entry_box and state_box classes. Note that the state_box
-# is only enabled when a valid DCC address has been entered into the entry_box.
-# This is used across all object windows for displaying / changing the item ID.
-# Note the responsibility of the instantiating func/class to 'pack' the Frame of
-# the UI element - i.e. '<class_instance>.frame.pack()'
-#
-# Public class instance methods provided by this class are
-#    "validate" - validate the current entry_box value and return True/false
-#    "set_value" - will set the current value [address:int, state:bool]
-#    "get_value" - will return the last "valid" value [address:int, state:bool]
-#    "disable" - disables/blanks the entry_box (and associated state button)
-#    "enable"  enables/loads the entry_box (and associated state button)
+    
+    def set_value(self, value:int):
+        self.current_item_id = value
+        super().set_value(value)
+        
 #------------------------------------------------------------------------------------
-
-class dcc_command_entry():
-    def __init__(self, parent_frame):
-        # create a frame to pack the two elements into
-        self.frame = Tk.Frame(parent_frame)
-        # Create the address entry box and the associated dcc state box
-        self.EB = dcc_entry_box(self.frame, callback=self.eb_updated)
+# Class for a point interlocking entry element (point_id + point_state)
+# Uses the common int_item_id_entry_box and state_box classes
+# Public class instance methods provided are:
+#    "validate" - validate the current entry box value and return True/false
+#    "set_value" - will set the current value [point_id:int, state:bool]
+#    "get_value" - will return the last "valid" value [point_id:int, state:bool]
+#    "disable" - disables/blanks the entry box (and associated state button)
+#    "enable"  enables/loads the entry box (and associated state button)
+#------------------------------------------------------------------------------------
+
+class point_interlocking_entry():
+    def __init__(self, parent_frame, point_exists_function, tool_tip:str):
+        # Create the point ID entry box and associated state box (packed in the parent frame)
+        self.EB = int_item_id_entry_box(parent_frame, exists_function=point_exists_function,
+                                    tool_tip = tool_tip, callback=self.eb_updated)
         self.EB.pack(side=Tk.LEFT)
-        self.CB = state_box(self.frame, label_off="OFF", label_on="ON",
-                    width=4, tool_tip="Set the DCC logic for the command")
+        self.CB = state_box(parent_frame, label_off=u"\u2192", label_on="\u2191", width=2,
+                    tool_tip="Select the required state for the point (normal or switched)")
         self.CB.pack(side=Tk.LEFT)
-    
+
     def eb_updated(self):
         if self.EB.entry.get() == "":
             self.CB.disable()
         else: self.CB.enable()
 
     def validate(self):
         return (self.EB.validate())
 
     def enable(self):
         self.EB.enable()
         self.eb_updated()
-        
+
     def disable(self):
         self.EB.disable()
         self.eb_updated()
-        
-    def set_value(self, dcc_command:[int, bool]):
-        # A DCC Command comprises a 2 element list of [DCC_Address, DCC_State]
-        self.EB.set_value(dcc_command[0])
-        self.CB.set_value(dcc_command[1])
+
+    def set_value(self, point:[int, bool]):
+        # A Point comprises a 2 element list of [Point_id, Point_state]
+        self.EB.set_value(point[0])
+        self.CB.set_value(point[1])
         self.eb_updated()
 
     def get_value(self):
-        # Returns a 2 element list of [DCC_Address, DCC_State]
-        # When disabled (or empty) will always return [0, False]
-        # When invalid will return [last valid address, current state]
+        # Returns a 2 element list of [Point_id, Point_state]
         return([self.EB.get_value(), self.CB.get_value()])
 
 #------------------------------------------------------------------------------------
 # Compound UI Element for a signal route selections (Sig ID EB + route selection CBs)
 # Note the responsibility of the instantiating func/class to 'pack' the Frame of
 # the UI element - i.e. '<class_instance>.frame.pack()'
 #
 # Public class instance methods provided by this class are
 #    "validate" - Checks whether the entry is a valid Item Id 
-#    "set_values" - Sets the EB value and all route selection CBs 
+#    "set_values" - Sets the EB value and all route selection CBs- Also takes the
+#               optional current item ID (int) for validation purposes (default=0) 
 #    "get_values" - Gets the EB value and all route selection CBs 
 #    "enable" - Enables/loads the EB value and all route selection CBs 
-#    "disable" - Disables/blanks EB value and all route selection CBs 
+#    "disable" - Disables/blanks EB value and all route selection CBs
 #------------------------------------------------------------------------------------
 
 class signal_route_selections():
-    def __init__(self, parent_frame, tool_tip:str, exists_function=None,
-                  current_id_function=None, read_only:bool=False):
+    def __init__(self, parent_frame, tool_tip:str, exists_function=None, read_only:bool=False):
         self.read_only = read_only
+        # We need to know the current Signal ID for validation (for the non read-only
+        # instance of this class used for the interlocking conflicting signals window
+        self.signal_id = 0
         # Create a Frame to hold all the elements
         self.frame = Tk.Frame(parent_frame)
         # Call the common base class init function to create the EB
-        self.EB = int_item_id_entry_box(self.frame, tool_tip=tool_tip, callback=self.eb_updated,
-                    exists_function=exists_function, current_id_function=current_id_function)
+        self.EB = int_item_id_entry_box(self.frame, tool_tip=tool_tip,
+                    callback=self.eb_updated, exists_function=exists_function)
         self.EB.pack(side=Tk.LEFT)
         # Disable the EB (we don't use the disable method as we want to display the value_
         if self.read_only: self.EB.configure(state="disabled")
         # Create the UI Elements for each of the possible route selections
         self.main = state_box(self.frame, label_off="MAIN", label_on="MAIN",
                 width=5, tool_tip=tool_tip, read_only=read_only)
         self.main.pack(side=Tk.LEFT)
@@ -908,18 +936,18 @@
         self.EB.enable()
         self.eb_updated()
         
     def disable(self):
         self.EB.disable()
         self.eb_updated()
 
-    def set_values(self, signal:[int,[bool,bool,bool,bool,bool]]):
+    def set_values(self, signal:[int,[bool,bool,bool,bool,bool]], signal_id:int=0):
         # Each signal comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # Where each route element is a boolean value (True or False)
-        self.EB.set_value(signal[0])
+        self.EB.set_value(signal[0], signal_id)
         self.main.set_value(signal[1][0])
         self.lh1.set_value(signal[1][1])
         self.lh2.set_value(signal[1][2])
         self.rh1.set_value(signal[1][3])
         self.rh2.set_value(signal[1][4])
         self.eb_updated()
 
@@ -927,15 +955,15 @@
         # each signal comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # Where each route element is a boolean value (True or False)
         return ( [ self.EB.get_value(), [ self.main.get_value(),
                                           self.lh1.get_value(),
                                           self.lh2.get_value(),
                                           self.rh1.get_value(),
                                           self.rh2.get_value() ] ])
-
+        
 #------------------------------------------------------------------------------------
 # Compound UI Element for a "read only" signal_route_frame (LabelFrame) - creates a 
 # variable number of instances of the signal_route_selection_element when "set_values" 
 # is called (according to the length of the supplied list). Note the responsibility of
 # the instantiating func/class to 'pack' the Frame of the UI element.
 #
 # Public class instance methods provided by this class are:
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_instrument.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_instrument.py`

 * *Files 2% similar despite different names*

```diff
@@ -3,31 +3,30 @@
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
 #    edit_instrument - Open the edit block instrument top level window
 #
 # Makes the following external API calls to other editor modules:
 #    objects.update_object(obj_id,new_obj) - Update the configuration on save
-#    objects.instrument_exists(id) - To see if the instrument exists (local or remote)
+#    objects.signal(sig_id) - to get the object ID for a given item ID
 #
 # Accesses the following external editor objects directly:
 #    objects.signal_index - To iterate through all the signal objects
 #    objects.schematic_objects - To load/save the object configuration
 #
 # Makes the following external API calls to library modules:
 #    block_instruments.instrument_exists(id) - To see if the instrument exists
 #
 # Inherits the following common editor base classes (from common):
 #    common.str_int_item_id_entry_box
 #    common.entry_box
 #    common.create_tool_tip
 #    common.object_id_selection
 #    common.selection_buttons
-#    common.signal_route_interlocking_frame
-#    common.signal_route_selections
+#    common.signal_route_frame
 #    common.window_controls
 #
 #------------------------------------------------------------------------------------
 
 import os
 import copy
 import importlib.resources
@@ -97,34 +96,34 @@
 # Classes for the Block Instrument "Configuration" Tab
 #####################################################################################
 
 #------------------------------------------------------------------------------------
 # Class for the "Linked To" Entry Box - builds on the common str_int_item_id_entry_box.
 # Note that linked instrument can either be a local (int) or remote (str) instrument ID
 # Class instance methods inherited/used from the parent classes are:
-#    "set_value" - will set the current value of the entry box (str)
+#    "set_value" - will set the current value of the entry box (str) - Also sets
+#             the current block Instrument item ID (int) for validation purposes
 #    "get_value" - will return the last "valid" value of the entry box (str)
 #    "validate" - Validates the instrument exists and not the current inst_id
 #------------------------------------------------------------------------------------
 
 class linked_to_selection(common.str_int_item_id_entry_box):
-    def __init__(self, parent_frame, parent_object):
+    def __init__(self, parent_frame):
         # The exists_function from the block_instruments module is used to validate that the
         # entered ID  exists on the schematic or has been subscribed to via mqtt networking
         exists_function = block_instruments.instrument_exists
-        current_id_function = parent_object.instid.get_value
         # Create the Label Frame for the "also switch" entry box
         self.frame = Tk.LabelFrame(parent_frame, text="Block section")
         # Call the common base class init function to create the EB
         self.label1 = Tk.Label(self.frame,text="Linked block instrument:")
         self.label1.pack(side=Tk.LEFT, padx=2, pady=2)
         super().__init__(self.frame, tool_tip = "Enter the ID of the linked block instrument - "+
                 "This can be a local instrument ID or a remote instrument ID (in the form 'Node-ID') "+
                 "which has been subscribed to via MQTT networking",
-                exists_function=exists_function, current_id_function=current_id_function)
+                exists_function=exists_function)
         self.pack(side=Tk.LEFT, padx=2, pady=2)
     
 #------------------------------------------------------------------------------------
 # Class for the Sound file selection element (builds on the entry_box class)
 # Class instance methods inherited by this class are:
 #    "set_value" - will set the current value of the entry box (str)
 #    "get_value" - will return the current value of the entry box (str)
@@ -220,24 +219,25 @@
 #------------------------------------------------------------------------------------
 
 class instrument_configuration_tab():
     def __init__(self, parent_tab):
         # Create a Frame to hold the Inst ID and Inst Type Selections
         self.frame = Tk.Frame(parent_tab)
         self.frame.pack(padx=2, pady=2, fill='x')
-        # Create the UI Element for Inst ID selection - Note that we use the instrument_exists
-        # function from the objects module - as we are only interested in local instruments
+        # Create the UI Element for Item ID selection. Note that although the block_instruments.instrument_exists
+        # function will match both local and remote Instrument IDs, the object_id_selection only allows integers to
+        # be selected - so we can safely use this function here for consistency.
         self.instid = common.object_id_selection(self.frame, "Inst ID",
-                        exists_function = objects.instrument_exists) 
+                        exists_function = block_instruments.instrument_exists) 
         self.instid.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='y')
         # Create the UI Element for Inst Type selection
         self.insttype = common.selection_buttons(self.frame, "Point type",
                     "Select block Instrument Type", None, "Single line", "Double Line")
         self.insttype.frame.pack(padx=2, pady=2, fill='x')
-        self.linkedto = linked_to_selection(parent_tab, self)
+        self.linkedto = linked_to_selection(parent_tab)
         self.linkedto.frame.pack(padx=2, pady=2, fill='x')
         self.sounds = sound_file_selections(parent_tab)
         self.sounds.frame.pack(padx=2, pady=2, fill='x')
 
 #------------------------------------------------------------------------------------
 # Top level Class for the Block Instrument Interlocking Tab
 #------------------------------------------------------------------------------------
@@ -273,15 +273,15 @@
             self.controls.frame.pack(side=Tk.BOTTOM, padx=2, pady=2)
             # Create the Validation error message (this gets packed/unpacked on apply/save)
             self.validation_error = Tk.Label(self.window, text="Errors on Form need correcting", fg="red")
             # Create the Notebook (for the tabs) 
             self.tabs = ttk.Notebook(self.window)
             # Create the Window tabs
             self.tab1 = Tk.Frame(self.tabs)
-            self.tabs.add(self.tab1, text="Configration")
+            self.tabs.add(self.tab1, text="Configuration")
             self.tab2 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab2, text="Interlocking")
             self.tabs.pack()
             self.config = instrument_configuration_tab(self.tab1)
             self.locking = instrument_interlocking_tab(self.tab2)
             # load the initial UI state
             self.load_state()
@@ -292,25 +292,26 @@
  
     def load_state(self):
         # Check the instrument we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
         if self.object_id not in objects.schematic_objects.keys():
             self.close_window()
         else:
+            item_id = objects.schematic_objects[self.object_id]["itemid"]
             # Label the edit window with the Instrument ID
-            self.window.title("Instrument "+str(objects.schematic_objects[self.object_id]["itemid"]))
+            self.window.title("Instrument "+str(item_id))
             # Set the Initial UI state from the current object settings
-            self.config.instid.set_value(objects.schematic_objects[self.object_id]["itemid"])
+            self.config.instid.set_value(item_id)
             self.config.insttype.set_value(objects.schematic_objects[self.object_id]["itemtype"])
-            self.config.linkedto.set_value(objects.schematic_objects[self.object_id]["linkedto"])
+            self.config.linkedto.set_value(objects.schematic_objects[self.object_id]["linkedto"], item_id)
             bell_sound = objects.schematic_objects[self.object_id]["bellsound"]
             key_sound = objects.schematic_objects[self.object_id]["keysound"]
             self.config.sounds.set_values(bell_sound, key_sound)
             # Set the read only list of Interlocked signals
-            self.locking.signals.set_values(interlocked_signals(objects.schematic_objects[self.object_id]["itemid"]))
+            self.locking.signals.set_values(interlocked_signals(item_id))
             # Hide the validation error message
             self.validation_error.pack_forget()
         return()
      
     def save_state(self, close_window:bool):
         # Check the object we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_line.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_line.py`

 * *Files 2% similar despite different names*

```diff
@@ -3,24 +3,26 @@
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
 #    edit_line - Open the edit line top level window
 #
 # Makes the following external API calls to other editor modules:
 #    objects.update_object(obj_id,new_obj) - Update the configuration on save
-#    objects.line_exists(item_id) - to see if a line of that ID already exists
+#    objects.line_exists(item_id) - to see if a line of that ID already exists  ###################
 #
 # Accesses the following external editor objects directly:
 #    objects.schematic_objects - To load/save the object configuration
 #
 # Inherits the following common editor base classes (from common):
+#    common.Createtool_tip
 #    common.window_controls
 #    common.colour_selection
 #    common.object_id_selection
 #    common.check_box
+#
 #------------------------------------------------------------------------------------
 
 import copy
 import importlib.resources
 
 import tkinter as Tk
 
@@ -170,18 +172,19 @@
  
     def load_state(self):
         # Check the line we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
         if self.object_id not in objects.schematic_objects.keys():
             self.close_window()
         else:
+            item_id = objects.schematic_objects[self.object_id]["itemid"]
             # Label the edit window
-            self.window.title("Line "+str(objects.schematic_objects[self.object_id]["itemid"]))
+            self.window.title("Line "+str(item_id))
             # Set the Initial UI state from the current object settings
-            self.lineid.set_value(objects.schematic_objects[self.object_id]["itemid"])
+            self.lineid.set_value(item_id)
             self.colour.set_value(objects.schematic_objects[self.object_id]["colour"])
             arrow_type = objects.schematic_objects[self.object_id]["arrowtype"]
             arrow_ends = objects.schematic_objects[self.object_id]["arrowends"]
             self.attributes.set_values(arrow_ends, arrow_type)
             # Hide the validation error message
             self.validation_error.pack_forget()        
         return()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_point.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_point.py`

 * *Files 6% similar despite different names*

```diff
@@ -3,144 +3,135 @@
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
 #    edit_point - Open the edit point top level window
 #
 # Makes the following external API calls to other editor modules:
 #    objects.update_object(obj_id,new_obj) - Update the configuration on save
-#    objects.point_exists(point_id) - To see if a specified point ID exists (local)
 #    objects.point(point_id) - To get the object_id for a given point_id
 #
 # Accesses the following external editor objects directly:
 #    objects.point_index - To iterate through all the point objects
 #    objects.schematic_objects - To load/save the object configuration
 #
+# Makes the following external API calls to library modules:
+#    points.point_exists(point_id) - To see if a specified point ID exists (local)
+#    dcc_control.dcc_address_mapping - To see if a DCC address is already mapped
+#
 # Inherits the following common editor base classes (from common):
 #    common.int_item_id_entry_box
+#    common.Createtool_tip
 #    common.check_box
 #    common.dcc_entry_box
 #    common.object_id_selection
 #    common.selection_buttons
 #    common.signal_route_frame
-#    common.colour_selector
+#    common.colour_selection
 #    common.window_controls
 #
 #------------------------------------------------------------------------------------
 
 import copy
 
 import tkinter as Tk
 from tkinter import ttk
 
 from . import common
 from . import objects
 
+from ..library import points
+from ..library import dcc_control
+
 #------------------------------------------------------------------------------------
 # We maintain a global dictionary of open edit windows (where the key is the UUID
 # of the object being edited) to prevent duplicate windows being opened. If the user
 # tries to edit an object which is already being edited, then we just bring the
 # existing edit window to the front (expanding if necessary) and set focus on it
 #------------------------------------------------------------------------------------
 
 open_windows={}
-
-#------------------------------------------------------------------------------------
-# Function to set the read-only "switched with" parameter. This is the back-reference
-# to the point that is configured to auto-switch the current point (else zero). This
-# is only used within the UI so doesn't need to be tracked in the point object dict
-#------------------------------------------------------------------------------------
-
-def switched_with_point(object_id):
-    switched_with_point_id = 0
-    for point_id in objects.point_index:
-        also_switch_point_id = objects.schematic_objects[objects.point(point_id)]["alsoswitch"]
-        if also_switch_point_id == objects.schematic_objects[object_id]["itemid"]:
-            switched_with_point_id = int(point_id)
-    return(switched_with_point_id)
     
 #####################################################################################
 # Classes for the Point "Configuration" Tab
 #####################################################################################
 
 #------------------------------------------------------------------------------------
 # Class for the "Also Switch" Entry Box - builds on the common int_item_id_entry_box. 
 # Class instance methods inherited/used from the parent classes are:
-#    "set_value" - will set the current value of the entry box (int)
+#    "set_value" - set the initial value of the entry_box (str) - Also sets
+#                  the current Point item ID (int) for validation purposes
 #    "get_value" - will return the last "valid" value of the entry box (int)
-#    "get_initial_value" - will return the original value of the entry box (int)
-# Class instance methods provided by this class are:
-#    "validate" - Also validate the point is automatic and not switched by another point
+# Class instance methods provided/overridden by this class are:
+#    "validate" - Also validate the selected point is automatic and not already 'switched by'
 #    "set_switched_with" - to set the read-only value for the "switched_with" point
+# Note that we use the current_item_id variable (from the base class) for validation.
 #------------------------------------------------------------------------------------
 
 class also_switch_selection(common.int_item_id_entry_box):
-    def __init__(self, parent_frame, parent_object):
-        # These are the functions used to validate that the entered signal ID
-        # exists on the schematic and is different to the current signal ID
-        exists_function = objects.point_exists
-        current_id_function = parent_object.pointid.get_value
+    def __init__(self, parent_frame):
+        # We need to know the current Point ID (for validation)
+        self.point_id = 0
         # Create the Label Frame for the "also switch" entry box
         self.frame = Tk.LabelFrame(parent_frame, text="Automatic switching")
         # Call the common base class init function to create the EB
         self.label1 = Tk.Label(self.frame,text="Switch point:")
         self.label1.pack(side=Tk.LEFT, padx=2, pady=2)
         super().__init__(self.frame, tool_tip = "Enter the ID of another (fully "+
                 "automatic) point to be switched with this point (or leave blank)",
-                exists_function=exists_function, current_id_function=current_id_function)
+                 exists_function=points.point_exists)
         self.pack(side=Tk.LEFT, padx=2, pady=2)
         # This is the read-only element for the point this point is switched with
         self.switched_with = Tk.StringVar(parent_frame, "")
         self.label2 = Tk.Label(self.frame,text="Switched with:")
         self.label2.pack(side=Tk.LEFT, padx=2, pady=2)
         self.switched_eb = Tk.Entry(self.frame, width=3, textvariable=self.switched_with,
                                             justify='center',state="disabled")
         self.switched_eb.pack(side=Tk.LEFT, padx=2, pady=2)
         self.TT1 = common.CreateToolTip(self.switched_eb, "ID of the point that "+
                                        "will automatically switch this point")
+            
     def validate(self):
         # Do the basic item validation first (exists and not current item ID)
         valid = super().validate(update_validation_status=False)
         if valid and self.entry.get() != "":
             autoswitch = int(self.entry.get())
             # Validate the other point is fully automatic
             if not objects.schematic_objects[objects.point(autoswitch)]["automatic"]:
                 self.TT.text = "Point "+str(autoswitch)+" is not 'fully automatic'"
                 valid = False
             else:
                 # Test to see if the entered point is already being autoswitched by another point
-                if self.initial_value == "": initial_autoswitch = 0
-                else: initial_autoswitch = int(self.initial_value)
                 for point_id in objects.point_index:
                     other_autoswitch = objects.schematic_objects[objects.point(point_id)]["alsoswitch"]
-                    if other_autoswitch == autoswitch and autoswitch != initial_autoswitch:
+                    if other_autoswitch == autoswitch and point_id != str(self.current_item_id):
                         self.TT.text = ("Point "+str(autoswitch)+" is already configured "+
                                               "to be switched with point "+point_id)
                         valid = False       
         self.set_validation_status(valid)
         return(valid)
 
     def set_switched_with(self, point_id:int):
         if point_id > 0: self.switched_with.set(str(point_id))
         else: self.switched_with.set("")
-            
+
 #------------------------------------------------------------------------------------
 # Class for the General Settings UI Element.
 # Class instance methods provided by this class:
 #     "validate" - validate the current settings and return True/false
-#     "set_values" - will set the checkbox states (rot, rev, auto, fpl)
+#     "set_values" - will set the checkbox states (rot, rev, auto, fpl, item_id)
+#                Note that the current item ID (int) is u=sed for for validation
 #     "get_values" - will return the checkbox states (rot, rev, auto, fpl)
 # Validation on "Automatic" checkbox only - Invalid if 'fully automatic' is
 # unchecked when another point is configured to "auto switch" this point
 #------------------------------------------------------------------------------------
 
 class general_settings():
-    def __init__(self, parent_frame, parent_object):
-        # We need the reference to the parent object so we can call the sibling
-        # class method to get the current value of the Point ID for validation
-        self.parent_object = parent_object
+    def __init__(self, parent_frame):
+        # We need to know the current Item ID for validation
+        self.current_item_id = 0
         # Create a Label frame to hold the general settings
         self.frame = Tk.LabelFrame(parent_frame,text="General configuration")
         # Create a subframe to hold the first 2 buttons
         self.subframe1 = Tk.Frame(self.frame)
         self.subframe1.pack()
         self.CB1 = common.check_box(self.subframe1, label="Rotated",width=9,
                         tool_tip="Select to rotate point by 180 degrees")
@@ -169,105 +160,135 @@
         # "Automatic" checkbox validation = if the point is not "automatic" then the Point ID  
         # must not be specified as an "auto switched" point in another point configuration
         valid = True
         if not self.CB4.get_value():
             # Ensure the point isn't configured to "auto switch" with another point
             for point_id in objects.point_index:
                 other_autoswitch = objects.schematic_objects[objects.point(point_id)]["alsoswitch"]
-                if other_autoswitch == self.parent_object.pointid.get_initial_value():
+                if other_autoswitch == self.current_item_id:
                     self.CB4.TT.text = ("Point is configured to switch with point " +
                                            point_id + " so must remain 'fully automatic'")
                     self.CB4.config(fg="red")
                     valid = False
         if valid:
             self.CB4.TT.text = ("Select to enable this point to be " +
                                 "'also switched' by another point")
             self.CB4.config(fg="black")
         return(valid)
     
-    def set_values(self, rot:bool, rev:bool, auto:bool, fpl:bool):
+    def set_values(self, rot:bool, rev:bool, auto:bool, fpl:bool, item_id:int):
+        self.current_item_id = item_id
         self.CB1.set_value(rot)
         self.CB2.set_value(fpl)
         self.CB3.set_value(rev)
         self.CB4.set_value(auto)
         # Set the initial state (Enabled/Disabled) of the FPL selection
         self.automatic_updated()
         
     def get_values(self):
         return (self.CB1.get_value(), self.CB3.get_value(),
                 self.CB4.get_value(), self.CB2.get_value())
 
 #------------------------------------------------------------------------------------
-# Class for the DCC Address Settings - uses  the DCC Entry Box class
-# Class instance methods provided by this class:
-#    "validate" - validate the current DCC entry box value and return True/false
-#    "set_values" - will set the entry/checkbox states [address:int, reversed:bool]
-#    "get_values" - will return the entry/checkbox states (address:int, reversed:bool]
+# Class for a point_dcc_entry_box - builds on the common DCC Entry Box class
+# Class instance methods inherited from the parent class are:
+#    "get_value" - will return the last valid entry box value (dcc address)
+# Public class instance methods provided/overridden by this child class are
+#    "set_value" - set the initial value of the dcc_entry_box (int) - Also
+#                  sets the current item ID (int) for validation purposes
+#    "validate" - Validates the DCC address is not mapped to another item
 #------------------------------------------------------------------------------------
 
-class dcc_address_settings(common.dcc_entry_box):
+class point_dcc_entry_box(common.dcc_entry_box):
+    def __init__(self, parent_frame, callback):
+        # We need the current Point ID to validate the DCC Address entry
+        self.current_item_id = 0
+        super().__init__(parent_frame, callback=callback)
+        
+    def validate(self):
+        # Do the basic item validation first (exists and not current item ID)
+        valid = super().validate(update_validation_status=False)
+        if valid and self.entry.get() != "":
+            # Ensure the address is not mapped to another signal or point
+            dcc_address = int(self.entry.get())
+            dcc_mapping = dcc_control.dcc_address_mapping(dcc_address)
+            if dcc_mapping is not None and (dcc_mapping[0] != "Point" or dcc_mapping[1] != self.current_item_id):
+                # We need to correct the mapped signal ID for secondary distants
+                if dcc_mapping[0] == "Signal" and dcc_mapping[1] > 99: dcc_mapping[1] = dcc_mapping[1] - 100
+                self.TT.text = ("DCC address is already mapped to "+dcc_mapping[0]+" "+str(dcc_mapping[1]))
+                valid = False
+        self.set_validation_status(valid)
+        return(valid)
+    
+    def set_value(self, value:int, item_id:int):
+        self.current_item_id = item_id
+        super().set_value(value)
+
+#------------------------------------------------------------------------------------
+# Class for the point DCC Address settings UI element - provides the following functions
+#    "set_values" - will set the entry/checkboxes (address:int, reversed:bool)
+#    "get_values" - will return the entry/checkboxes (address:int, reversed:bool]
+#    "set_point_id" - sets the current point ID (for validation) 
+#    "validate" - Ensure the DCC address is valid and not mapped to another item
+#------------------------------------------------------------------------------------
+
+class dcc_address_settings():
     def __init__(self, parent_frame):
         # Create a Label frame to hold the DCC Address settings
         self.frame = Tk.LabelFrame(parent_frame,text="DCC Address and command logic")
-        # Create the Tkinter Boolean vars to hold the DCC reversed selection
-        self.dccreversed = Tk.BooleanVar(self.frame,False)
-        # Create a DCC Address element and checkbox for the "reversed" selection
-        # Call the common base class init function to create the EB. These are
-        # created in a seperate subframe so they are centered
+        # Create a DCC Address element and a checkbox for the "reversed" selection
+        # These are created in a seperate subframe so they are centered in the LabelFrame
         self.subframe = Tk.Frame(self.frame)
         self.subframe.pack()
-        self.EB = common.dcc_entry_box(self.subframe, callback=self.entry_updated)
+        self.EB = point_dcc_entry_box(self.subframe, callback=self.entry_updated)
         self.EB.pack(side=Tk.LEFT, padx=2, pady=2)
-        # Create the checkbox for the DCC reversed selection
         self.CB = common.check_box(self.subframe, label="Reversed",
                     tool_tip="Select to reverse the DCC command logic")
         self.CB.pack(side=Tk.LEFT, padx=2, pady=2)
         
     def entry_updated(self):
         if self.EB.entry.get()=="": self.CB.disable()
         else: self.CB.enable()
         
     def validate(self):
         return(self.EB.validate())
         
-    def set_values(self, add:int, rev:bool):
-        self.EB.set_value(add)
+    def set_values(self, add:int, rev:bool, item_id:int):
+        self.EB.set_value(add, item_id)
         self.CB.set_value(rev)
         self.entry_updated()
         
     def get_values(self):
         return (self.EB.get_value(), self.CB.get_value())
-    
+
 #------------------------------------------------------------------------------------
 # Top level Class for the Point Configuration Tab
 #------------------------------------------------------------------------------------
 
 class point_configuration_tab():
     def __init__(self, parent_tab):
         # Create a Frame to hold the Point ID, Point Type and point colour Selections
         self.frame = Tk.Frame(parent_tab)
         self.frame.pack(padx=2, pady=2, fill='x')
         # Create the UI Element for Point ID selection
         self.pointid = common.object_id_selection(self.frame, "Point ID",
-                                exists_function = objects.point_exists) 
+                                exists_function = points.point_exists) 
         self.pointid.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='y')
         # Create the UI Element for Point Type selection
         self.pointtype = common.selection_buttons(self.frame, "Point type",
                                       "Select Point Type", None, "RH", "LH")
         self.pointtype.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='y')
         # Create the Point colour selection element
         self.colour = common.colour_selection(self.frame, label="Colour")
         self.colour.frame.pack(side=Tk.LEFT,padx=2, pady=2, fill='y')
         # Create the UI element for the general settings
-        # Note that the class needs the parent object (to reference siblings)
-        self.settings = general_settings(parent_tab, self)
+        self.settings = general_settings(parent_tab)
         self.settings.frame.pack(padx=2, pady=2, fill='x')
         # Create the UI element for the "Also Switch" entry 
-        # Note that the class needs the parent object (to reference siblings)
-        self.alsoswitch = also_switch_selection(parent_tab, self)
+        self.alsoswitch = also_switch_selection(parent_tab)
         self.alsoswitch.frame.pack(padx=2, pady=2, fill='x')
         # Create the UI element for the DCC Settings 
         self.dccsettings = dcc_address_settings(parent_tab)
         self.dccsettings.frame.pack(padx=2, pady=2, fill='x')
 
 #------------------------------------------------------------------------------------
 # Top level Class for the Point Interlocking Tab
@@ -304,52 +325,67 @@
             self.controls.frame.pack(side=Tk.BOTTOM, padx=2, pady=2)
             # Create the Validation error message (this gets packed/unpacked on apply/save)
             self.validation_error = Tk.Label(self.window, text="Errors on Form need correcting", fg="red")
             # Create the Notebook (for the tabs) 
             self.tabs = ttk.Notebook(self.window)
             # Create the Window tabs
             self.tab1 = Tk.Frame(self.tabs)
-            self.tabs.add(self.tab1, text="Configration")
+            self.tabs.add(self.tab1, text="Configuration")
             self.tab2 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab2, text="Interlocking")
             self.tabs.pack()
             self.config = point_configuration_tab(self.tab1)
             self.locking = point_interlocking_tab(self.tab2)
             # load the initial UI state
             self.load_state()
-        
+
+#------------------------------------------------------------------------------------
+# Function to return the read-only "switched with" parameter. This is the back-reference
+# to the point that is configured to auto-switch the current point (else zero). This
+# is only used within the UI so doesn't need to be tracked in the point object dict
+#------------------------------------------------------------------------------------
+
+    def switched_with_point(self, object_id):
+        switched_with_point_id = 0
+        for point_id in objects.point_index:
+            also_switch_point_id = objects.schematic_objects[objects.point(point_id)]["alsoswitch"]
+            if also_switch_point_id == objects.schematic_objects[object_id]["itemid"]:
+                switched_with_point_id = int(point_id)
+        return(switched_with_point_id)
+
 #------------------------------------------------------------------------------------
 # Functions for Load, Save and close window
 #------------------------------------------------------------------------------------
  
     def load_state(self):
         # Check the point we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
         if self.object_id not in objects.schematic_objects.keys():
             self.close_window()
         else:
+            item_id = objects.schematic_objects[self.object_id]["itemid"]
             # Label the edit window with the Point ID
-            self.window.title("Point "+str(objects.schematic_objects[self.object_id]["itemid"]))
-            # Set the Initial UI state from the current object settings
-            self.config.pointid.set_value(objects.schematic_objects[self.object_id]["itemid"])
-            self.config.alsoswitch.set_value(objects.schematic_objects[self.object_id]["alsoswitch"])
-            self.config.alsoswitch.set_switched_with(switched_with_point(self.object_id))
+            self.window.title("Point "+str(item_id))
+            # Set the Initial UI state (Note the alsoswitch element needs the current point ID)
+            self.config.pointid.set_value(item_id)
+            self.config.alsoswitch.set_value(objects.schematic_objects[self.object_id]["alsoswitch"],item_id)
+            self.config.alsoswitch.set_switched_with(self.switched_with_point(self.object_id))
             self.config.pointtype.set_value(objects.schematic_objects[self.object_id]["itemtype"])
             self.config.colour.set_value(objects.schematic_objects[self.object_id]["colour"])
-            # These are the general settings for the point
+            # These are the general settings for the point (note the function also needs the current point id)
             auto = objects.schematic_objects[self.object_id]["automatic"]
             rev = objects.schematic_objects[self.object_id]["reverse"]
             fpl = objects.schematic_objects[self.object_id]["hasfpl"]
             if objects.schematic_objects[self.object_id]["orientation"] == 180: rot = True
             else:rot = False
-            self.config.settings.set_values(rot, rev, auto, fpl)
-            # Set the initial DCC address values
+            self.config.settings.set_values(rot, rev, auto, fpl, item_id)
+            # Set the initial DCC address values (note the function also needs the current point id)
             add = objects.schematic_objects[self.object_id]["dccaddress"]
             rev = objects.schematic_objects[self.object_id]["dccreversed"]
-            self.config.dccsettings.set_values (add, rev)
+            self.config.dccsettings.set_values (add, rev, item_id)
             # Set the read only list of Interlocked signals
             self.locking.signals.set_values(objects.schematic_objects[self.object_id]["siginterlock"])
             # Hide the validation error message
             self.validation_error.pack_forget()
         return()
         
     def save_state(self, close_window:bool):
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_section.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_section.py`

 * *Files 10% similar despite different names*

```diff
@@ -3,23 +3,30 @@
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
 #    edit_section - Open the edit section top level window
 #
 # Makes the following external API calls to other editor modules:
 #    objects.update_object(obj_id,new_obj) - Update the configuration on save
-#    objects.section_exists(section_id) - To see if a specified section ID exists (local)
-#    objects.section(section_id) - To get the object_id for a given section ID
+#    objects.signal(signal_id) - To get the object_id for a given signal ID
+#    objects.track_sensor(sensor_id) - To get the object_id for a given sensor ID
+#########################################################################################################
+# Note that we need to use the 'objects.section_exists' function as the the library 'section_exists'
+# function will not work in edit mode as local Track Section library objects don't exist in edit mode
+# To be addressed in a future software update when the Track Sections functionality is re-factored
+#########################################################################################################
+#    objects.section_exists(id) - To see if the Track Section exists  ###################################
 #
 # Accesses the following external editor objects directly:
-#    objects.section_index - To iterate through all the section objects
+#    objects.track_sensor_index - To iterate through all the track sensor objects
+#    objects.signal_index - To iterate through all the signal objects
 #    objects.schematic_objects - To load/save the object configuration
 #
 # Makes the following external API calls to library modules:
-#    track_sections.section_exists(id) - To see if the section exists (remote)
+#    track_sections.section_exists(id) - To see if the track section exists
 #
 # Inherits the following common editor base classes (from common):
 #    common.check_box
 #    common.entry_box
 #    common.str_int_item_id_entry_box
 #    common.object_id_selection
 #    common.signal_route_frame
@@ -77,14 +84,46 @@
     return ( [ sig_routes[0] or sub_routes[0],
                sig_routes[1] or sub_routes[1],
                sig_routes[2] or sub_routes[2],
                sig_routes[3] or sub_routes[3],
                sig_routes[4] or sub_routes[4] ] )
 
 #------------------------------------------------------------------------------------
+# Function to return the read-only "sensors ahead" and "sensors_behind" elements.
+# These are the back-references to the track sensors that are configured to either
+# set or clear the track section when the track sensor is 'passed'
+#------------------------------------------------------------------------------------
+
+def find_sensor_routes(track_section_id:int, sensor_routes:list):
+    matched_routes = [False, False, False, False, False]
+    one_or_more_routes_matched = False
+    # "sensor_routes" comprises a list of routes: [main, lh1, lh2, rh1, rh2]
+    # Each route element comprises: [[p1, p2, p3, p4, p5, p6, p7], section_id]
+    # We need to iterate through the routes to find all matches on the section_id
+    for index1, sensor_route in enumerate(sensor_routes):
+        if sensor_route[1] == track_section_id:
+            matched_routes[index1] = True
+            one_or_more_routes_matched = True
+    return( [one_or_more_routes_matched, matched_routes] )
+
+def track_sensors_behind_and_ahead(object_id):
+    track_section_id = int(objects.schematic_objects[object_id]["itemid"])
+    list_of_track_sensors_ahead = []
+    list_of_track_sensors_behind = []
+    # Iterate through all track sensor objects to see if the track section appears in the configuration
+    for track_sensor_id in objects.track_sensor_index:
+        routes_ahead = objects.schematic_objects[objects.track_sensor(track_sensor_id)]["routeahead"]
+        route_matches = find_sensor_routes(track_section_id, routes_ahead)
+        if route_matches[0]: list_of_track_sensors_ahead.append([track_sensor_id, route_matches[1]])
+        routes_behind = objects.schematic_objects[objects.track_sensor(track_sensor_id)]["routebehind"]
+        route_matches = find_sensor_routes(track_section_id, routes_behind)
+        if route_matches[0]: list_of_track_sensors_behind.append([track_sensor_id, route_matches[1]])
+    return(list_of_track_sensors_behind, list_of_track_sensors_ahead)
+
+#------------------------------------------------------------------------------------
 # Function to return the read-only "signals ahead" element. This is the back-reference
 # to the signals that are configured to clear the track section when passed
 #------------------------------------------------------------------------------------
 
 def signals_ahead(object_id):
     list_of_signals_ahead = []
     for signal_id in objects.signal_index:
@@ -131,47 +170,45 @@
 #####################################################################################
 # Classes for the Track Section Configuration Tab
 #####################################################################################
 
 #------------------------------------------------------------------------------------
 # Class for the Mirror Section Entry Box - builds on the common str_int_item_id_entry_box. 
 # Class instance methods inherited/used from the parent classes are:
-#    "set_value" - will set the current value of the entry box (str)
+#    "set_value" - set the initial value of the entry_box (str) - Also sets the
+#                  current track sensor item ID (int) for validation purposes
 #    "get_value" - will return the last "valid" value of the entry box (str)
 #    "validate" - validate the section exists and not the same as the current item ID
 #------------------------------------------------------------------------------------
 
 class mirrored_section(common.str_int_item_id_entry_box):
-    def __init__(self, parent_frame, parent_object):
-        # These are the functions used to validate that the entered section ID
-        # exists on the schematic and is different to the current section ID
-        exists_function = self.section_exists
-        current_id_function = parent_object.sectionid.get_value
+    def __init__(self, parent_frame):
         # Create the Label Frame for the "mirrored section" entry box
         self.frame = Tk.LabelFrame(parent_frame, text="Link to other track section")
         # Create a frame for the "Section to mirror" elements
         self.subframe1 = Tk.Frame(self.frame)
         self.subframe1.pack()
         # Call the common base class init function to create the EB
         self.label1 = Tk.Label(self.subframe1,text="Section to mirror:")
         self.label1.pack(side=Tk.LEFT, padx=2, pady=2)
+        #########################################################################################################
+        # Note that we need to use the a custom 'section_exists' function as the the library 'section_exists'
+        # function will not work for local track sections in edit mode as the local Track Section library objects
+        # don't exist in edit mode (although any subscribed remote track sections will exist). We therefore have
+        # to use a combination of the 'objects.section_exists' and ' track_sections.section_exists' functions
+        # To be addressed in a future software update when the Track Sections functionality is re-factored
+        #########################################################################################################
         super().__init__(self.subframe1, tool_tip = "Enter the ID of the track section to mirror - "+
                          "This can be a local section ID or a remote section ID (in the form 'Node-ID') "+
                          "which has been subscribed to via MQTT networking",
-                    exists_function=exists_function, current_id_function=current_id_function)
+                          exists_function = self.section_exists)
         self.pack(side=Tk.LEFT, padx=2, pady=2)
-    
-    # We would normally use the library 'section_exists' function to determine if a track section
-    # either exists on the local schematic OR has been subscribed to via MQTT networking, but the
-    # local track section library objects don't exist when in edit mode (although the function
-    # will report that any remote sections subscribed to via MQTT networking do exist). We
-    # therefore need to create a hybrid 'exists' function using a combination of the exists
-    # functions from the objects module and the library modules
-    def section_exists(self, sec_id):
-        return (objects.section_exists(sec_id) or track_sections.section_exists(sec_id))
+
+    def section_exists(self,entered_value:str):
+        return (objects.section_exists(entered_value) or track_sections.section_exists(entered_value))
 
 #------------------------------------------------------------------------------------
 # Class for the Default lable entry box - builds on the common entry_box class
 # Inherited class methods are:
 #    "set_value" - set the initial value of the entry box (string) 
 #    "get_value" - get the last "validated" value of the entry box (string)
 # Overriden class methods are
@@ -210,26 +247,31 @@
 
 class section_configuration_tab():
     def __init__(self, parent_tab):
         # Create a Frame to hold the Section ID and General Settings
         self.frame1 = Tk.Frame(parent_tab)
         self.frame1.pack(padx=2, pady=2, fill='x')
         # Create the UI Element for Section ID selection
+        #########################################################################################################
+        # Note that we need to use the 'objects.section_exists' function as the the library 'section_exists'
+        # function will not work in edit mode as the Track Section library objects don't exist in edit mode
+        # To be addressed in a future software update when the Track Sections functionality is re-factored
+        #########################################################################################################
         self.sectionid = common.object_id_selection(self.frame1, "Section ID",
                                 exists_function = objects.section_exists) 
         self.sectionid.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='y')
         # Create a labelframe for the General settings
         self.subframe1 = Tk.LabelFrame(self.frame1, text="General Settings")
         self.subframe1.pack(padx=2, pady=2, fill='x')
         self.readonly = common.check_box(self.subframe1, label="Read only",
                      tool_tip= "Select to make the Track Section non-editable")
         self.readonly.pack(padx=2, pady=2)
         # Create a Label Frame to hold the "Mirror" section. Note that this needs a
         # reference to the parent object to access the current value of Section ID
-        self.mirror = mirrored_section(parent_tab, self)
+        self.mirror = mirrored_section(parent_tab)
         self.mirror.frame.pack(padx=2, pady=2, fill='x')
         self.label = default_label_entry(parent_tab)
         self.label.frame.pack(padx=2, pady=2, fill='x')
 
 #------------------------------------------------------------------------------------
 # Top level Class for the Track Section Interlocking Tab
 #------------------------------------------------------------------------------------
@@ -248,15 +290,21 @@
     def __init__(self, parent_tab):
         self.behind = common.signal_route_frame (parent_tab, label="Signals controlling access into section",
                                 tool_tip="Edit the appropriate signals to configure automation")
         self.behind.frame.pack(padx=2, pady=2, fill='x')
         self.ahead = common.signal_route_frame (parent_tab, label="Signals controlling access out of section",
                                 tool_tip="Edit the appropriate signals to configure automation")
         self.ahead.frame.pack(padx=2, pady=2, fill='x')
-        self.override = common.signal_route_frame (parent_tab, label="Signals overridden when section occupied",
+        self.sensors1 = common.signal_route_frame (parent_tab, label="Sensors controlling access into section",
+                                tool_tip="Edit the appropriate track sensors to configure automation")
+        self.sensors1.frame.pack(padx=2, pady=2, fill='x')
+        self.sensors2 = common.signal_route_frame (parent_tab, label="Sensors controlling access out of section",
+                                tool_tip="Edit the appropriate track sensors to configure automation")
+        self.sensors2.frame.pack(padx=2, pady=2, fill='x')
+        self.override = common.signal_route_frame (parent_tab, label="Sigs overridden when section occupied",
                                 tool_tip="Edit the appropriate signals to configure automation")
         self.override.frame.pack(padx=2, pady=2, fill='x')
         
 #####################################################################################
 # Top level Class for the Edit Section window
 #####################################################################################
 
@@ -285,15 +333,15 @@
             # to provide consistent behavior with the other configure object popup windows)
             self.main_frame = Tk.Frame(self.window)
             self.main_frame.pack()
             # Create the Notebook (for the tabs) 
             self.tabs = ttk.Notebook(self.main_frame)
             # Create the Window tabs
             self.tab1 = Tk.Frame(self.tabs)
-            self.tabs.add(self.tab1, text="Configration")
+            self.tabs.add(self.tab1, text="Configuration")
             self.tab2 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab2, text="Interlocking")
             self.tab3 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab3, text="Automation")
             self.tabs.pack(fill='x')
             self.config = section_configuration_tab(self.tab1)
             self.interlocking = section_interlocking_tab(self.tab2)        
@@ -307,26 +355,30 @@
  
     def load_state(self):
         # Check the section we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
         if self.object_id not in objects.schematic_objects.keys():
             self.close_window()
         else:
+            item_id = objects.schematic_objects[self.object_id]["itemid"]
             # Label the edit window with the Section ID
-            self.window.title("Track Section "+str(objects.schematic_objects[self.object_id]["itemid"]))
+            self.window.title("Track Section "+str(item_id))
             # Set the Initial UI state from the current object settings
-            self.config.sectionid.set_value(objects.schematic_objects[self.object_id]["itemid"])
+            self.config.sectionid.set_value(item_id)
             self.config.readonly.set_value(not objects.schematic_objects[self.object_id]["editable"])
-            self.config.mirror.set_value(objects.schematic_objects[self.object_id]["mirror"])
+            self.config.mirror.set_value(objects.schematic_objects[self.object_id]["mirror"], item_id)
             self.config.label.set_value(objects.schematic_objects[self.object_id]["defaultlabel"])
             self.interlocking.signals.set_values(interlocked_signals(self.object_id))
             self.automation.ahead.set_values(signals_ahead(self.object_id))
             signals_behind, signals_overridden = signals_behind_and_overridden(self.object_id)
             self.automation.behind.set_values(signals_behind)
             self.automation.override.set_values(signals_overridden)
+            sensors_behind, sensors_ahead = track_sensors_behind_and_ahead(self.object_id)
+            self.automation.sensors1.set_values(sensors_behind)
+            self.automation.sensors2.set_values(sensors_ahead)
             # Hide the validation error message
             self.validation_error.pack_forget()
         return()
      
     def save_state(self, close_window:bool):
         # Check the section we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal.py`

 * *Files 0% similar despite different names*

```diff
@@ -17,14 +17,15 @@
 #    signals_semaphores.semaphore_sub_type - semaphore signal sub-type
 #
 # Uses the classes from the following modules for each configuration tab:
 #    configure_signal_tab1 - General signal configuration
 #    configure_signal_tab2 - Point and signal interlocking
 #    configure_signal_tab3 - signal automation
 #    common.window_controls - the common load/save/cancel/OK controls
+#
 #------------------------------------------------------------------------------------
 
 import copy
 
 import tkinter as Tk
 from tkinter import ttk
 
@@ -717,30 +718,30 @@
         # RH1 Route (sig or sub)
         if sig_routes[3] and approach_control: signal.automation.approach_control.rh1.enable_route()
         else: signal.automation.approach_control.rh1.disable_route()
         # RH2 Route (sig or sub)
         if sig_routes[4] and approach_control: signal.automation.approach_control.rh2.enable_route()
         else: signal.automation.approach_control.rh2.disable_route()
         # Enable the Approach sensor entry box
-        signal.automation.track_sensors.approach.enable()
+        signal.automation.gpio_sensors.approach.enable()
     else:
         signal.automation.approach_control.main.disable_route()
         signal.automation.approach_control.lh1.disable_route()
         signal.automation.approach_control.lh2.disable_route()
         signal.automation.approach_control.rh1.disable_route()
         signal.automation.approach_control.rh2.disable_route()
         signal.automation.approach_control.disable_release_on_yel()
         signal.automation.approach_control.disable_release_on_red()
         signal.automation.approach_control.disable_release_on_red_sig_ahead()
         # Disable the Approach sensor entry box
-        signal.automation.track_sensors.approach.disable()
+        signal.automation.gpio_sensors.approach.disable()
     return() 
 
 #------------------------------------------------------------------------------------
-# Top level Edit signal class (has 2 sybtabs for configuration and Interlocking 
+# Top level Edit signal class (Has 3 tabs - Configuration, Interlocking and Automation 
 #------------------------------------------------------------------------------------
 
 class edit_signal:
     def __init__(self, root, object_id):
         global open_windows
         # If there is already a  window open then we just make it jump to the top and exit
         if object_id in open_windows.keys():
@@ -760,15 +761,15 @@
             self.controls.frame.pack(side=Tk.BOTTOM, padx=2, pady=2)
             # Create the Validation error message (this gets packed/unpacked on apply/save)
             self.validation_error = Tk.Label(self.window, text="Errors on Form need correcting", fg="red")
             # Create the Notebook (for the tabs) 
             self.tabs = ttk.Notebook(self.window)
             # Create the Window tabs
             self.tab1 = Tk.Frame(self.tabs)
-            self.tabs.add(self.tab1, text="Configration")
+            self.tabs.add(self.tab1, text="Configuration")
             self.tab2 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab2, text="Interlocking")
             self.tabs.pack()
             self.tab3 = Tk.Frame(self.tabs)
             self.tabs.add(self.tab3, text="Automation")
             self.tabs.pack()
             # The config tab needs references to all the 'config changed' callback functions
@@ -862,49 +863,52 @@
  
     def load_state(self):
         # Check the object we are editing still exists (hasn't been deleted from the schematic)
         # If it no longer exists then we just destroy the window and exit without saving
         if self.object_id not in objects.schematic_objects.keys():
             self.close_window()
         else:
+            item_id = objects.schematic_objects[self.object_id]["itemid"]
             # Label the edit window with the Signal ID
-            self.window.title("Signal "+str(objects.schematic_objects[self.object_id]["itemid"]))
-            # Set the Initial UI state from the current object settings
-            self.config.sigid.set_value(str(objects.schematic_objects[self.object_id]["itemid"]))
+            self.window.title("Signal "+str(item_id))
+            # Set the Initial UI state from the current object settings. Note that several
+            # of the elements need the current signal ID to validate the DCC addresses
+            self.config.sigid.set_value(item_id)
             self.config.sigtype.set_value(objects.schematic_objects[self.object_id]["itemtype"])
             self.config.subtype.set_value(objects.schematic_objects[self.object_id]["itemsubtype"])
-            self.config.aspects.set_subsidary(objects.schematic_objects[self.object_id]["subsidary"])
+            self.config.aspects.set_subsidary(objects.schematic_objects[self.object_id]["subsidary"], item_id)
+            self.config.aspects.set_addresses(objects.schematic_objects[self.object_id]["dccaspects"], item_id)
             self.config.feathers.set_feathers(objects.schematic_objects[self.object_id]["feathers"])
-            self.config.aspects.set_addresses(objects.schematic_objects[self.object_id]["dccaspects"])
-            self.config.feathers.set_addresses(objects.schematic_objects[self.object_id]["dccfeathers"])
-            self.config.theatre.set_theatre(objects.schematic_objects[self.object_id]["dcctheatre"])
+            self.config.feathers.set_addresses(objects.schematic_objects[self.object_id]["dccfeathers"], item_id)
             self.config.feathers.set_auto_inhibit(objects.schematic_objects[self.object_id]["dccautoinhibit"])
-            self.config.theatre.set_auto_inhibit(objects.schematic_objects[self.object_id]["dccautoinhibit"])
-            self.config.semaphores.set_arms(objects.schematic_objects[self.object_id]["sigarms"])
+            self.config.theatre.set_theatre(objects.schematic_objects[self.object_id]["dcctheatre"], item_id)
+            self.config.semaphores.set_arms(objects.schematic_objects[self.object_id]["sigarms"], item_id)
             self.config.sig_routes.set_values(objects.schematic_objects[self.object_id]["sigroutes"])
             self.config.sub_routes.set_values(objects.schematic_objects[self.object_id]["subroutes"])
             # These are the general settings for the signal
             if objects.schematic_objects[self.object_id]["orientation"] == 180: rot = True
             else:rot = False
             self.config.settings.set_value(rot)
-            # These elements are for the signal intelocking tab
-            self.locking.interlocking.set_routes(objects.schematic_objects[self.object_id]["pointinterlock"])
+            # These elements are for the signal intelocking tab. Note that several of 
+            # the elements need the current signal ID to validate the signal entries
+            self.locking.interlocking.set_routes(objects.schematic_objects[self.object_id]["pointinterlock"], item_id)
             self.locking.interlocked_sections.set_routes(objects.schematic_objects[self.object_id]["trackinterlock"])
-            self.locking.conflicting_sigs.set_values(objects.schematic_objects[self.object_id]["siginterlock"])
+            self.locking.conflicting_sigs.set_values(objects.schematic_objects[self.object_id]["siginterlock"], item_id)
             self.locking.interlock_ahead.set_value(objects.schematic_objects[self.object_id]["interlockahead"])
-            # These elements are for the Automation tab
-            self.automation.track_sensors.approach.set_value(objects.schematic_objects[self.object_id]["approachsensor"][1])
-            self.automation.track_sensors.passed.set_value(objects.schematic_objects[self.object_id]["passedsensor"][1])
+            # These elements are for the Automation tab. Note that several elements 
+            # need the current signal IDfor validation purposes
+            self.automation.gpio_sensors.approach.set_value(objects.schematic_objects[self.object_id]["approachsensor"][1], item_id)
+            self.automation.gpio_sensors.passed.set_value(objects.schematic_objects[self.object_id]["passedsensor"][1], item_id)
             self.automation.track_occupancy.set_values(objects.schematic_objects[self.object_id]["tracksections"])
             override = objects.schematic_objects[self.object_id]["overridesignal"]
             main_auto = objects.schematic_objects[self.object_id]["fullyautomatic"]
             dist_auto = objects.schematic_objects[self.object_id]["distautomatic"]
             override_ahead = objects.schematic_objects[self.object_id]["overrideahead"]
             self.automation.general_settings.set_values(override, main_auto, override_ahead, dist_auto)
-            self.automation.timed_signal.set_values(objects.schematic_objects[self.object_id]["timedsequences"])
+            self.automation.timed_signal.set_values(objects.schematic_objects[self.object_id]["timedsequences"], item_id)
             self.automation.approach_control.set_values(objects.schematic_objects[self.object_id]["approachcontrol"])
             # Configure the initial Route indication selection
             feathers = objects.schematic_objects[self.object_id]["feathers"]
             if objects.schematic_objects[self.object_id]["itemtype"] == signals_common.sig_type.colour_light.value:
                 if objects.schematic_objects[self.object_id]["theatreroute"]:
                     self.config.routetype.set_value(3)
                 elif feathers[0] or feathers[1] or feathers[2] or feathers[3] or feathers[4]:
@@ -950,15 +954,15 @@
             if not self.config.aspects.validate(): valid = False
             if not self.config.theatre.validate(): valid = False
             if not self.config.feathers.validate(): valid = False
             if not self.config.semaphores.validate(): valid = False
             if not self.locking.interlocking.validate(): valid = False
             if not self.locking.interlocked_sections.validate(): valid = False
             if not self.locking.conflicting_sigs.validate(): valid = False
-            if not self.automation.track_sensors.validate(): valid = False
+            if not self.automation.gpio_sensors.validate(): valid = False
             if not self.automation.track_occupancy.validate(): valid = False
             if not self.automation.timed_signal.validate(): valid = False
             if valid:
                 # Copy the original signal Configuration (elements get overwritten as required)
                 new_object_configuration = copy.deepcopy(objects.schematic_objects[self.object_id])
                 # Update the signal coniguration elements from the current user selections
                 new_object_configuration["itemid"] = self.config.sigid.get_value()
@@ -986,17 +990,17 @@
                 # These elements are for the signal intelocking tab
                 new_object_configuration["pointinterlock"] = self.locking.interlocking.get_routes()
                 new_object_configuration["trackinterlock"] = self.locking.interlocked_sections.get_routes()
                 new_object_configuration["siginterlock"] = self.locking.conflicting_sigs.get_values()
                 new_object_configuration["interlockahead"] = self.locking.interlock_ahead.get_value()
                 # These elements are for the Automation tab
                 new_object_configuration["passedsensor"][0] = True
-                new_object_configuration["passedsensor"][1] = self.automation.track_sensors.passed.get_value()
+                new_object_configuration["passedsensor"][1] = self.automation.gpio_sensors.passed.get_value()
                 new_object_configuration["approachsensor"][0] = self.automation.approach_control.is_selected()
-                new_object_configuration["approachsensor"][1] = self.automation.track_sensors.approach.get_value()
+                new_object_configuration["approachsensor"][1] = self.automation.gpio_sensors.approach.get_value()
                 new_object_configuration["tracksections"] = self.automation.track_occupancy.get_values()
                 override, main_auto, override_ahead, dist_auto = self.automation.general_settings.get_values()
                 new_object_configuration["fullyautomatic"] = main_auto
                 new_object_configuration["distautomatic"] = dist_auto
                 new_object_configuration["overridesignal"] = override
                 new_object_configuration["overrideahead"] = override_ahead
                 new_object_configuration["timedsequences"] = self.automation.timed_signal.get_values()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab1.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab1.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,28 +1,122 @@
 #------------------------------------------------------------------------------------
 # Functions and sub Classes for the Edit Signal "Configuration" Tab
 #
-# Makes the following external API calls to other editor modules:
-#    objects.signal_exists(id) - To see if the signal exists (local)
+# Makes the following external API calls to library modules:
+#    signals_common.sig_exists(id) - To see if the signal exists (local)
+#    dcc_control.dcc_address_mapping(address) - To see if an address is already mapped
 #
 # Inherits the following common editor base classes (from common):
-#    common.int_item_id_entry_box
-#    common.entry_box
-#    common.check_box
 #    common.dcc_entry_box
-#    common.dcc_command_entry
+#    common.state_box
+#    common.check_box
+#    common.entry_box
 #    common.object_id_selection
 #    common.selection_buttons
+#
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 
-from . import objects
 from . import common
+from ..library import signals_common
+from ..library import dcc_control
+
+#------------------------------------------------------------------------------------
+# Class for a signal_dcc_entry_box - builds on the common DCC Entry Box class
+# Class instance methods inherited from the parent class are:
+#    "get_value" - will return the last valid entry box value (dcc address)
+# Public class instance methods provided by this child class are
+#    "set_value" - set the initial value of the dcc_entry_box (int) - Also
+#                  sets the current item ID (int) for validation purposes
+#    "validate" - Validates the DCC address is not mapped to another item
+#------------------------------------------------------------------------------------
+
+class signal_dcc_entry_box(common.dcc_entry_box):
+    def __init__(self, parent_frame, callback=None):
+        # We need the current Signal ID to validate the DCC Address entry
+        self.current_item_id = 0
+        super().__init__(parent_frame, callback=callback)
+        
+    def validate(self):
+        # Do the basic item validation first (exists and not current item ID)
+        valid = super().validate(update_validation_status=False)
+        if valid and self.entry.get() != "":
+            # Ensure the address is not mapped to another signal or point. Note that to cater for Semaphore
+            # Signals with secondary distant arms we also need to check for Signal IDs + 100
+            dcc_address = int(self.entry.get())
+            dcc_mapping = dcc_control.dcc_address_mapping(dcc_address)
+            if dcc_mapping is not None and (dcc_mapping[0] != "Signal" or
+                    (dcc_mapping[1] != self.current_item_id and dcc_mapping[1] != self.current_item_id + 100)):
+                # We need to correct the mapped signal ID for secondary distants
+                if dcc_mapping[0] == "Signal" and dcc_mapping[1] > 99: dcc_mapping[1] = dcc_mapping[1] - 100
+                self.TT.text = ("DCC address is already mapped to "+dcc_mapping[0]+" "+str(dcc_mapping[1]))
+                valid = False
+        self.set_validation_status(valid)
+        return(valid)
+    
+    def set_value(self, value:int, item_id:int):
+        self.current_item_id = item_id
+        super().set_value(value)
+
+#------------------------------------------------------------------------------------
+# Compound UI element for a signal_dcc_command_entry (address + command logic).
+# Uses the signal_dcc_entry_box and state_box classes. Note that the state_box
+# is only enabled when a valid DCC address has been entered into the entry_box.
+# Note the responsibility of the instantiating func/class to 'pack' the Frame of
+# the UI element - i.e. '<class_instance>.frame.pack()'
+#
+# Public class instance methods provided by this class are
+#    "validate" - validate the current entry_box value and return True/false
+#    "set_value" - will set the current value [address:int, state:bool] - Also
+#                  sets the current item ID (int) for validation purposes
+#    "get_value" - will return the last "valid" value [address:int, state:bool]
+#    "disable" - disables/blanks the entry_box (and associated state button)
+#    "enable"  enables/loads the entry_box (and associated state button)
+#------------------------------------------------------------------------------------
+
+class signal_dcc_command_entry():
+    def __init__(self, parent_frame):
+        # create a frame to pack the two elements into
+        self.frame = Tk.Frame(parent_frame)
+        # Create the address entry box and the associated dcc state box
+        self.EB = signal_dcc_entry_box(self.frame, callback=self.eb_updated)
+        self.EB.pack(side=Tk.LEFT)
+        self.CB = common.state_box(self.frame, label_off="OFF", label_on="ON",
+                    width=4, tool_tip="Set the DCC logic for the command")
+        self.CB.pack(side=Tk.LEFT)
+    
+    def eb_updated(self):
+        if self.EB.entry.get() == "":
+            self.CB.disable()
+        else: self.CB.enable()
 
+    def validate(self):
+        return (self.EB.validate())
+
+    def enable(self):
+        self.EB.enable()
+        self.eb_updated()
+        
+    def disable(self):
+        self.EB.disable()
+        self.eb_updated()
+        
+    def set_value(self, dcc_command:[int, bool], item_id:int):
+        # A DCC Command comprises a 2 element list of [DCC_Address, DCC_State]
+        self.EB.set_value(dcc_command[0], item_id)
+        self.CB.set_value(dcc_command[1])
+        self.eb_updated()
+
+    def get_value(self):
+        # Returns a 2 element list of [DCC_Address, DCC_State]
+        # When disabled (or empty) will always return [0, False]
+        # When invalid will return [last valid address, current state]
+        return([self.EB.get_value(), self.CB.get_value()])
+    
 #------------------------------------------------------------------------------------
 # Class for the General Settings UI Element - Builds on the common checkbox class
 # Public class instance methods inherited from the base check box class are:
 #    "set_value" - set the initial value of the Rotate checkbutton (int) 
 #    "get_value" - get the last "validated" value of the Rotate checkbutton (int) 
 #------------------------------------------------------------------------------------
 
@@ -39,29 +133,30 @@
 #------------------------------------------------------------------------------------
 # Class for a semaphore route arm element (comprising checkbox and DCC address Box)
 # Class instance methods provided by this class are:
 #    "validate" - validate the DCC entry box value and returns True/false
 #    "enable" - disables/blanks the checkbox and entry box
 #    "disable" - enables/loads the checkbox and entry box
 #    "set_element" - will set the element [enabled/disabled, address]
+#              Also sets the current item ID (int) for validation purposes
 #    "get_element" - returns the last "valid" value [enabled/disabled, address]
 #------------------------------------------------------------------------------------
 
 class semaphore_route_element():
     def __init__(self, parent_frame, label:str, tool_tip:str, callback=None):
         # Callback for select/deselect of the checkbox
         self.callback = callback
         # Create a frame for the UI element (always packed into the parent frame)
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         # Create the checkbox and DCC entry Box (default tool tip for DCC Entry Box)
         self.CB = common.check_box(parent_frame, label=label,
                         tool_tip=tool_tip, callback=self.cb_updated)
         self.CB.pack(side=Tk.LEFT)
-        self.EB = common.dcc_entry_box(parent_frame)
+        self.EB = signal_dcc_entry_box(parent_frame)
         self.EB.pack(side=Tk.LEFT)
                 
     def cb_updated(self):
         self.update_eb_state()
         if self.callback is not None: self.callback()
         
     def update_eb_state(self):
@@ -92,33 +187,34 @@
         self.CB.disable1()
         self.update_eb_state()
         
     def disable2(self):
         self.CB.disable2()
         self.update_eb_state()
         
-    def set_element(self, signal_arm:[bool,int]):
+    def set_element(self, signal_arm:[bool,int], item_id:int):
         # Each signal element comprises [enabled/disabled, address]
         self.CB.set_value(signal_arm[0])
-        self.EB.set_value(signal_arm[1])
+        self.EB.set_value(signal_arm[1], item_id)
         self.update_eb_state()
         
     def get_element(self):
         # Each signal element comprises [enabled/disabled, address]
         return( [self.CB.get_value(), self.EB.get_value()] )
-    
+        
 #------------------------------------------------------------------------------------
 # Class for a semaphore route arm group (comprising main, subsidary, and distant arms)
 # Uses the base semaphore_route_element class from above
 # Public Class instance methods are:
 #    "validate" - validate the current entry box values and return True/false
 #    "enable_route" - disables/blanks all checkboxes and entry boxes
 #    "disable_route" - enables/loads all checkboxes and entry boxes
 #    "enable_distant" - enables/loads the distant checkbox and entry box
 #    "set_route" - will set the element [enabled/disabled, address]
+#           Also sets the current item ID (int) for validation purposes
 #    "get_route" - returns the last "valid" value [enabled/disabled, address]
 # The callbacks are made when the signal arms are selected or deselected
 #------------------------------------------------------------------------------------
 
 class semaphore_route_group(): 
     def __init__(self, parent_frame, label:str,sig_arms_updated_callback=None,
                  sub_arms_updated_callback=None, dist_arms_updated_callback=None):
@@ -186,41 +282,42 @@
         
     def enable_distant(self):
         self.dist.enable2()
         
     def disable_distant(self):
         self.dist.disable2()
 
-    def set_route(self, signal_elements:[[bool,int],]):
+    def set_route(self, signal_elements:[[bool,int],], item_id:int):
         # Signal Group comprises: [signal, subsidary, distant]
         # Each signal element comprises [enabled/disabled, address]
-        self.sig.set_element(signal_elements[0])
-        self.sub.set_element(signal_elements[1])
-        self.dist.set_element(signal_elements[2])
+        self.sig.set_element(signal_elements[0], item_id)
+        self.sub.set_element(signal_elements[1], item_id)
+        self.dist.set_element(signal_elements[2], item_id)
         self.enable_disable_distant_arms()
         
     def get_route(self):
         # Signal Group comprises: [signal, subsidary, distant]
         # Each signal element comprises [enabled/disabled, address]
         return ( [ self.sig.get_element(),
                    self.sub.get_element(),
                    self.dist.get_element() ] )
-        
+
 #------------------------------------------------------------------------------------
 # Class for the semaphore signal arms (comprising all possible signal arm combinations)
 # Uses the base semaphore_route_group class from above
 # Public Class instance methods are:
 #    "validate" - validate the current entry box values and return True/false
 #    "disable_routes" - disables/blanks all checkboxes and entry boxes apart from MAIN
 #    "enable_routes" - enables/loads all checkboxes and entry boxes apart from MAIN
 #    "disable_distants" - disables/blanks all distant checkboxes and entry boxes
 #    "enable_distants" - enables/loads all distant checkboxes and entry boxes
 #    "disable_subsidaries" - disables/blanks all subsidary checkboxes and entry boxes
 #    "enable_subsidaries" - enables/loads all subsidary checkboxes and entry boxes
 #    "set_arms" - will set all ui elements (enabled/disabled, addresses)
+#            Also sets the current item ID (int) for validation purposes
 #    "get_arms" - returns the last "valid" values (enabled/disabled, addresses)
 # The callbacks are made when the signal arms are selected or deselected
 #------------------------------------------------------------------------------------
 
 class semaphore_signal_arms():
     def __init__(self, parent_frame, sig_arms_updated, subs_arms_updated, dist_arms_updated):
         # Create a frame for this UI element (packed by the creating function/class)
@@ -302,81 +399,82 @@
     def disable_distants(self):
         self.main.disable_distant()
         self.lh1.disable_distant()
         self.lh2.disable_distant()
         self.rh1.disable_distant()
         self.rh2.disable_distant()
 
-    def set_arms(self, signal_arms:[[[bool,int],],]):
+    def set_arms(self, signal_arms:[[[bool,int],],], item_id:int):
         # Signal arm list comprises:[main, LH1, LH2, RH1, RH2]
         # Each Route element comprises: [signal, subsidary, distant]
         # Each signal element comprises [enabled/disabled, address]
-        self.main.set_route(signal_arms[0])
-        self.lh1.set_route(signal_arms[1])
-        self.lh2.set_route(signal_arms[2])
-        self.rh1.set_route(signal_arms[3])
-        self.rh2.set_route(signal_arms[4])
+        self.main.set_route(signal_arms[0], item_id)
+        self.lh1.set_route(signal_arms[1], item_id)
+        self.lh2.set_route(signal_arms[2], item_id)
+        self.rh1.set_route(signal_arms[3], item_id)
+        self.rh2.set_route(signal_arms[4], item_id)
         
     def get_arms(self):
         # Signal arm list comprises:[main, LH1, LH2, RH1, RH2]
         # Each Route element comprises: [signal, subsidary, distant]
         # Each signal element comprises [enabled/disabled, address]
         # Note that the MAIN signal arm is always enabled (for semaphores)
         main_route_with_signal_arm_enabled = self.main.get_route()
         main_route_with_signal_arm_enabled[0][0] = True
         return ( [ main_route_with_signal_arm_enabled,
                    self.lh1.get_route(),
                    self.lh2.get_route(),
                    self.rh1.get_route(),
                    self.rh2.get_route() ] )
-    
+            
 #------------------------------------------------------------------------------------
 # Class to create a sequence of DCC selection boxes - for colour light signal aspects,
 # feather route indications and theatre route indications
 # Public Class instance methods are:
 #    "validate_addresses" - validate the current entry box values and return True/false
 #    "enable_addresses" - disables/blanks all entry boxes (and state buttons)
 #    "disable_addresses"  enables/loads all entry box (and state buttona)
 #    "set_addresses" - will set the values of the entry boxes (pass in a list)
+#                  Also sets the current item ID (int) for validation purposes
 #    "get_addresses" - will return a list of the last "valid" entries
 #------------------------------------------------------------------------------------
 
 class dcc_entry_boxes:
     def __init__(self, parent_frame):
         # Create the DCC command entry elements (packed directly into parent frame)
-        self.dcc1 = common.dcc_command_entry(parent_frame)
+        self.dcc1 = signal_dcc_command_entry(parent_frame)
         self.dcc1.frame.pack(side=Tk.LEFT)
-        self.dcc2 = common.dcc_command_entry(parent_frame)
+        self.dcc2 = signal_dcc_command_entry(parent_frame)
         self.dcc2.frame.pack(side=Tk.LEFT)
-        self.dcc3 = common.dcc_command_entry(parent_frame)
+        self.dcc3 = signal_dcc_command_entry(parent_frame)
         self.dcc3.frame.pack(side=Tk.LEFT)
-        self.dcc4 = common.dcc_command_entry(parent_frame)
+        self.dcc4 = signal_dcc_command_entry(parent_frame)
         self.dcc4.frame.pack(side=Tk.LEFT)
-        self.dcc5 = common.dcc_command_entry(parent_frame)
+        self.dcc5 = signal_dcc_command_entry(parent_frame)
         self.dcc5.frame.pack(side=Tk.LEFT)
-        self.dcc6 = common.dcc_command_entry(parent_frame)
+        self.dcc6 = signal_dcc_command_entry(parent_frame)
         self.dcc6.frame.pack(side=Tk.LEFT)
         
     def validate_addresses(self):
         return ( self.dcc1.validate() and
                  self.dcc2.validate() and
                  self.dcc3.validate() and
                  self.dcc4.validate() and
                  self.dcc5.validate() and
                  self.dcc6.validate() )
     
-    def set_addresses(self, address_list:[[int,bool],]):
+    def set_addresses(self, address_list:[[int,bool],], item_id:int):
         # DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each dcc command element comprises: [dcc_address, dcc_state]
-        self.dcc1.set_value(address_list[0])
-        self.dcc2.set_value(address_list[1])
-        self.dcc3.set_value(address_list[2])
-        self.dcc4.set_value(address_list[3])
-        self.dcc5.set_value(address_list[4])
-        self.dcc6.set_value(address_list[5])
+        self.dcc1.set_value(address_list[0], item_id)
+        self.dcc2.set_value(address_list[1], item_id)
+        self.dcc3.set_value(address_list[2], item_id)
+        self.dcc4.set_value(address_list[3], item_id)
+        self.dcc5.set_value(address_list[4], item_id)
+        self.dcc6.set_value(address_list[5], item_id)
         
     def get_addresses(self):
         # DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each dcc command element comprises: [dcc_address, dcc_state]
         return( [ self.dcc1.get_value(),
                   self.dcc2.get_value(),
                   self.dcc3.get_value(),
@@ -395,23 +493,24 @@
     def disable_addresses(self):
         self.dcc1.disable()
         self.dcc2.disable()
         self.dcc3.disable()
         self.dcc4.disable()
         self.dcc5.disable()
         self.dcc6.disable()
-    
+            
 #------------------------------------------------------------------------------------
 # Classes to create the DCC Entry boxes for a colour light signal aspect
 # Builds on the common dcc_entry_boxes class above.
 # Inherited Class instance methods are:
 #    "validate_addresses" - validate the current entry box values and return True/false
 #    "enable_addresses" - disables/blanks all entry boxes (and state buttons)
 #    "disable_addresses"  enables/loads all entry box (and state buttona)
 #    "set_addresses" - will set the values of the entry boxes (pass in a list)
+#                    Also sets the current item ID (int) for validation purposes
 #    "get_addresses" - will return a list of the last "valid" entries
 #------------------------------------------------------------------------------------
 
 class colour_light_aspect(dcc_entry_boxes):
     def __init__(self, parent_frame, label:str):
         # Create a frame for this UI element (always packed)
         self.frame = Tk.Frame(parent_frame)
@@ -424,16 +523,18 @@
         super().__init__(self.frame)
 
 #------------------------------------------------------------------------------------
 # Classes to create the DCC entry UI element for colour light signal aspects
 # Class instance methods to use externally are:
 #    "validate" - validate all current DCC entry box values
 #    "set_addresses" - set the DCC command sequences for the aspects (pass in a list)
+#                    Also sets the current item ID (int) for validation purposes
 #    "get_addresses" - return a list of the "validated" DCC command sequences
 #    "set_subsidary" - set the subsidary signal status [has_subsidary, dcc_address]
+#                    Also sets the current item ID (int) for validation purposes
 #    "get_subsidary" - return the subsidary signal status [has_subsidary, dcc_address]
 #    "enable_subsidary" - enables/loads the subsidary signal selection (CB/address)
 #    "disable_subsidary" - disables/clears the subsidary signal selection (CB/address)
 #    "enable_aspects" - enables/loads the dcc command sequences for all aspects
 #    "disable_aspects" - disables/clears the dcc command sequences for all aspects
 # The callback is made when the subsidary signal selection is updated
 #------------------------------------------------------------------------------------
@@ -454,15 +555,15 @@
         self.fdylw = colour_light_aspect(self.frame, label="Flash Prelim")
         # Create a subframe to hold the subsidary signal entry box (always packed)
         self.subframe = Tk.Frame(self.frame)
         self.subframe.pack()
         self.CB = common.check_box(self.subframe, label="Subsidary signal",   
                     tool_tip="Select to add a seperate calling on aspect",callback=self.sub_updated)
         self.CB.pack(side=Tk.LEFT, padx=2, pady=2)
-        self.EB = common.dcc_entry_box(self.subframe)
+        self.EB = signal_dcc_entry_box(self.subframe)
         self.EB.pack(side=Tk.LEFT, padx=2, pady=2)
 
     def sub_updated(self):
         self.update_eb_state()
         if self.callback is not None: self.callback()
         
     def update_eb_state(self):
@@ -474,40 +575,40 @@
                  self.red.validate_addresses() and
                  self.ylw.validate_addresses() and
                  self.dylw.validate_addresses() and
                  self.fylw.validate_addresses() and
                  self.fdylw.validate_addresses() and
                  self.EB.validate() )
     
-    def set_addresses(self, addresses:[[[int,bool],],]):
+    def set_addresses(self, addresses:[[[int,bool],],], item_id:int):
         # The Colour Light Aspects command sequences are: [grn, red, ylw, dylw, fylw, fdylw]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
-        self.grn.set_addresses(addresses[0])
-        self.red.set_addresses(addresses[1])
-        self.ylw.set_addresses(addresses[2])
-        self.dylw.set_addresses(addresses[3])
-        self.fylw.set_addresses(addresses[4])
-        self.fdylw.set_addresses(addresses[5])
+        self.grn.set_addresses(addresses[0], item_id)
+        self.red.set_addresses(addresses[1], item_id)
+        self.ylw.set_addresses(addresses[2], item_id)
+        self.dylw.set_addresses(addresses[3], item_id)
+        self.fylw.set_addresses(addresses[4], item_id)
+        self.fdylw.set_addresses(addresses[5], item_id)
         
     def get_addresses(self):
         # The Colour Light Aspects command sequences are: [grn, red, ylw, dylw, fylw, fdylw]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
         return( [self.grn.get_addresses(),
                  self.red.get_addresses(),
                  self.ylw.get_addresses(),
                  self.dylw.get_addresses(),
                  self.fylw.get_addresses(),
                  self.fdylw.get_addresses() ] )
     
-    def set_subsidary(self, subsidary:[bool,int]):
+    def set_subsidary(self, subsidary:[bool,int], item_id:int):
         # Subsidary is defined as [has_subsidary, dcc_address]
         self.CB.set_value(subsidary[0])
-        self.EB.set_value(subsidary[1])
+        self.EB.set_value(subsidary[1], item_id)
         self.update_eb_state()
 
     def get_subsidary(self):
         # Subsidary is defined as [has_subsidary, dcc_address]
         return([self.CB.get_value(), self.EB.get_value()])
 
     def enable_subsidary(self):
@@ -568,14 +669,15 @@
 #    "enable_addresses" - disables/blanks all entry boxes (and state buttons)
 #    "disable_addresses"  enables/loads all entry box (and state buttona)
 # Additional Class instance functions are:
 #    "validate" - validate all current entry boxes (theatre character and dcc addresses)
 #    "enable_selection" - disables/blanks the theatre entry box & DCC command list
 #    "disable_selection"  enables/loads the theatre entry box & DCC command list
 #    "set_theatre" - set the values (character & dcc commands) for the theatre
+#                  Also sets the current item ID (int) for validation purposes
 #    "get_theatre" - return the values (character & dcc commands) for the theatre
 #------------------------------------------------------------------------------------
 
 class theatre_route_element(dcc_entry_boxes):
     def __init__(self, parent_frame, label:str, width:int, callback=None,
                                 enable_addresses_on_selection:bool=False):
         # Create a frame for this UI element (always packed in the parent frame)
@@ -607,20 +709,20 @@
             if self.EB.entry.get() != "": self.enable_addresses() 
             else: self.disable_addresses()
 
     def validate(self):
         # Validate the Theatre character EB and all DCC Address EBs
         return (self.EB.validate() and self.validate_addresses())
                     
-    def set_theatre(self,theatre:[str,[[int,bool],]]):
+    def set_theatre(self,theatre:[str,[[int,bool],]], item_id:int):
         # Each route element comprises: [character, DCC_command_sequence]
         # Each DCC command sequence comprises: [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command element comprises: [dcc_address, dcc_state]
         self.EB.set_value(theatre[0])
-        self.set_addresses(theatre[1])
+        self.set_addresses(theatre[1], item_id)
         self.update_addresses()
     
     def get_theatre(self):
         # Each route element comprises: [character, DCC_command_sequence]
         # Each DCC command sequence comprises: [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command element comprises: [dcc_address, dcc_state]
         return([self.EB.get_value(), self.get_addresses()])
@@ -634,14 +736,15 @@
         self.disable_addresses()
 
 #------------------------------------------------------------------------------------
 # Class to create the DCC entry UI element for a Theatre Route Indicator
 # Class instance functions to use externally are:
 #    "validate" - validate the entry box values (theatre character and dcc addresses)
 #    "set_theatre" - set the characters/addresses for the theatre [main,lh1,lh2,rh1,rh2]
+#                       Also sets the current item ID (int) for validation purposes
 #    "get_theatre" - get the characters/addresses for the theatre [main,lh1,lh2,rh1,rh2]
 #    "set_auto_inhibit" - set the "auto inhibit on DANGER" flag for the DCC route indications
 #    "get_auto_inhibit" - get the "auto inhibit on DANGER" flag for the DCC route indications
 #    "enable_selection" - enables all entries
 #    "disable_selection" - disables all entries
 # The Callback will be made on route selection change (theatre character EB change)
 #------------------------------------------------------------------------------------
@@ -686,25 +789,25 @@
         return ( self.dark.validate() and
                  self.main.validate() and
                  self.lh1.validate() and
                  self.lh2.validate() and
                  self.rh1.validate() and
                  self.rh2.validate() )
                 
-    def set_theatre(self, theatre:[[str,[[int,bool],],],]):
+    def set_theatre(self, theatre:[[str,[[int,bool],],],], item_id:int):
         # The Theatre route list comprises: [dark, main, lh1, lh2, rh1, rh2]
         # Each route element comprises: [character, DCC_command_sequence]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
-        self.dark.set_theatre(theatre[0])
-        self.main.set_theatre(theatre[1])
-        self.lh1.set_theatre(theatre[2])
-        self.lh2.set_theatre(theatre[3])
-        self.rh1.set_theatre(theatre[4])
-        self.rh2.set_theatre(theatre[5])
+        self.dark.set_theatre(theatre[0], item_id)
+        self.main.set_theatre(theatre[1], item_id)
+        self.lh1.set_theatre(theatre[2], item_id)
+        self.lh2.set_theatre(theatre[3], item_id)
+        self.rh1.set_theatre(theatre[4], item_id)
+        self.rh2.set_theatre(theatre[5], item_id)
         self.auto_inhibit_update()
 
     def get_theatre(self):
         # The Theatre route list comprises: [dark, main, lh1, lh2, rh1, rh2]
         # Each route element comprises: [character, DCC_command_sequence]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
@@ -753,14 +856,15 @@
         return(self.CB.get_value())
 
 #------------------------------------------------------------------------------------
 # Class to create Feather route indication with a check box to enable the route indication
 # and the associated DCC command sequence. Inherits from the dcc_entry_boxes class (above)
 # Classes inherited from the parent class are:
 #    "set_addresses" - will set the values of the entry boxes (pass in a list)
+#                  Also sets the current item ID (int) for validation purposes
 #    "get_addresses" - will return a list of the last "valid" entries
 #    "enable_addresses" - disables/blanks all entry boxes (and state buttons)
 #    "disable_addresses"  enables/loads all entry box (and state buttona)
 # Additional Class instance functions are:
 #    "validate" - validate all current entry box values and return True/false
 #    "enable_selection" - disables/blanks the route selection check box
 #    "disable_selection"  enables/loads the route selection check box
@@ -820,21 +924,23 @@
         self.disable_addresses() 
         
 #------------------------------------------------------------------------------------
 # Class to create the DCC entry UI element for Feather Route Indications
 # Class instance functions to use externally are:
 #    "validate" - validate the current entry box values and return True/false
 #    "set_addresses" - set the values of the DCC addresses/states (pass in a list)
+#                   Also sets the current item ID (int) for validation purposes
 #    "get_addresses" - return a list of the "validated" DCC addresses/states
 #    "set_feathers" - set the state of the feathers [main,lh1,lh2,rh1,rh2]
 #    "get_feathers" - get the state of the feathers [main,lh1,lh2,rh1,rh2]
 #    "set_auto_inhibit" - set the "auto inhibit on DANGER" selection
 #    "get_auto_inhibit" - get the "auto inhibit on DANGER" selection
 #    "enable_feathers" - enables all entries
 #    "disable_feathers" - disables all entries
+#    "disable_addresses"  enables/loads all entry box (and state buttona)
 # The Callback will be made on route selection change (enabled/disabled)
 #------------------------------------------------------------------------------------
 
 class feather_route_indications:
     def __init__(self, parent_frame, callback):
         # Create a label frame for the route selections. We don't pack this element
         # as the frame gets packed/unpacked depending on UI selections
@@ -874,25 +980,25 @@
         return ( self.dark.validate() and
                  self.main.validate() and
                  self.lh1.validate() and
                  self.lh2.validate() and
                  self.rh1.validate() and
                  self.rh2.validate() )
     
-    def set_addresses(self, addresses:[[[int,bool],],]):
+    def set_addresses(self, addresses:[[[int,bool],],], item_id:int):
         # The Feather Route address list comprises: [dark, main, lh1, lh2, rh1, rh2]
         # Each route element comprises: [DCC_command_sequence]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
-        self.dark.set_addresses(addresses[0])
-        self.main.set_addresses(addresses[1])
-        self.lh1.set_addresses(addresses[2])
-        self.lh2.set_addresses(addresses[3])
-        self.rh1.set_addresses(addresses[4])
-        self.rh2.set_addresses(addresses[5])
+        self.dark.set_addresses(addresses[0], item_id)
+        self.main.set_addresses(addresses[1], item_id)
+        self.lh1.set_addresses(addresses[2], item_id)
+        self.lh2.set_addresses(addresses[3], item_id)
+        self.rh1.set_addresses(addresses[4], item_id)
+        self.rh2.set_addresses(addresses[5], item_id)
         
     def get_addresses(self):
         # The Feather Route address list comprises: [dark, main, lh1, lh2, rh1, rh2]
         # Each route element comprises: [DCC_command_sequence]
         # Each DCC command sequence comprises [dcc1, dcc2, dcc3, dcc4, dcc5, dcc6]
         # Each DCC command comprises: [dcc_address, dcc_state]
         return( [self.dark.get_addresses(),
@@ -950,15 +1056,15 @@
 
     def set_auto_inhibit(self, auto_inhibit:bool):
         self.CB.set_value(auto_inhibit)
         self.auto_inhibit_update()
         
     def get_auto_inhibit(self):
         return(self.CB.get_value())
-
+    
 #------------------------------------------------------------------------------------
 # Class for the 'basic' route selections UI Element for the main signal (if no specific
 # route indications are selected) and the subsidary signal (if one exists). If the class
 # is created for a main signal (or ground signal) then the main route is always selected.
 # Class instance functions to use externally are:
 #    "enable" - disables/blanks the route selection check boxes
 #    "disable"  enables/loads the route selection check boxes
@@ -1026,21 +1132,22 @@
 # sig_routes_updated, sub_routes_updated, dist_routes_updated are callback functions
 #------------------------------------------------------------------------------------
 
 class signal_configuration_tab:
     def __init__(self, parent_tab, sig_type_updated, sub_type_updated,
                 route_type_updated, route_selections_updated, sig_routes_updated,
                 sub_routes_updated, dist_routes_updated):
-        # Create a Frame for the Sig ID and Signal Type Selections (always packed)
-        # Note that for the Sig ID selection we use the signal_exists function 
-        # from the objects module - as we are only interested in local signals
+        # Create a Frame to hold the Signal ID and Signal Type Selections
         self.frame1 = Tk.Frame(parent_tab)
         self.frame1.pack(padx=2, pady=2, fill='x')
+        # Create the UI Element for Item ID selection. Note that although the signals_common.sig_exists
+        # function will match both local and remote Signal IDs, the object_id_selection only allows integers to
+        # be selected - so we can safely use this function here for consistency.
         self.sigid = common.object_id_selection(self.frame1,"Signal ID",
-                                exists_function = objects.signal_exists)
+                                exists_function = signals_common.sig_exists)
         self.sigid.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='both')
         self.sigtype = common.selection_buttons(self.frame1,"Signal Type",
                     "Select signal type",sig_type_updated,"Colour Light",
                         "Ground Pos","Semaphore","Ground Disc")
         self.sigtype.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='x', expand=True)
         # Create the UI Element for Signal subtype selection (always packed)
         self.subtype = common.selection_buttons(parent_tab,"Signal Subtype",
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab2.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab2.py`

 * *Files 11% similar despite different names*

```diff
@@ -1,129 +1,86 @@
 #------------------------------------------------------------------------------------
 # Functions and sub Classes for the Edit Signal "Interlocking" Tab
 #
 # Makes the following external API calls to other editor modules:
-#    objects.point_exists(id) - To see if the point exists (local)
-#    objects.signal_exists(id) - To see if the point exists (local)
-#    objects.section_exists(id) - To see if the track section exists (local)
+#########################################################################################################
+# Note that we need to use the 'objects.section_exists' function as the the library 'section_exists'
+# function will not work in edit mode as the Track Section library objects don't exist in edit mode
+# To be addressed in a future software update when the Track Sections functionality is re-factored
+#########################################################################################################
+#    objects.section_exists(id) - To see if the track section exists (local)   ##########################
 #
 # Makes the following external API calls to library modules:
 #    signals_common.sig_exists(id) - To see if the instrument exists (local or remote)
+#    points.point_exists(id) - To see if the point exists (local)
 #    block_instruments.instrument_exists(id) - To see if the instrument exists (local or remote)
+#    track_sections.section_exists(id) - To see if the track section exists       ####################
 #
 # Inherits the following common editor base classes (from common):
 #    common.check_box
-#    common.state_box
 #    common.int_item_id_entry_box
 #    common.str_int_item_id_entry_box
 #    common.signal_route_selections
+#    common.point_interlocking_entry
+#
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 
 from . import common
-from . import objects
+from . import objects ##################################################################################
 
+from ..library import points
 from ..library import signals_common
 from ..library import block_instruments
-
-#------------------------------------------------------------------------------------
-# Class for a point interlocking entry element (point_id + point_state)
-# Uses the common int_item_id_entry_box and state_box classes
-# Public class instance methods provided are:
-#    "validate" - validate the current entry box value and return True/false
-#    "set_value" - will set the current value [point_id:int, state:bool]
-#    "get_value" - will return the last "valid" value [point_id:int, state:bool]
-#    "disable" - disables/blanks the entry box (and associated state button)
-#    "enable"  enables/loads the entry box (and associated state button)
-#------------------------------------------------------------------------------------
-
-class point_interlocking_entry():
-    def __init__(self, parent_frame, point_exists_function):
-        # Create the point ID entry box and associated state box (packed in the parent frame)
-        self.EB = common.int_item_id_entry_box(parent_frame, exists_function=point_exists_function,
-                    tool_tip = "Specify any points that need to be set and locked before the "+
-                        "signal can be cleared for the route", callback=self.eb_updated)
-        self.EB.pack(side=Tk.LEFT)
-        self.CB = common.state_box(parent_frame, label_off=u"\u2192", label_on="\u2191", width=2,
-                    tool_tip="Select the required state for the point (normal or switched)")
-        self.CB.pack(side=Tk.LEFT)
-                            
-    def eb_updated(self):
-        if self.EB.entry.get() == "":
-            self.CB.disable()
-        else: self.CB.enable()
-        
-    def validate(self):
-        return (self.EB.validate())
-    
-    def enable(self):
-        self.EB.enable()
-        self.eb_updated()
-        
-    def disable(self):
-        self.EB.disable()
-        self.eb_updated()
-        
-    def set_value(self, point:[int, bool]):
-        # A Point comprises a 2 element list of [Point_id, Point_state]
-        self.EB.set_value(point[0])
-        self.CB.set_value(point[1])
-        self.eb_updated()
-        
-    def get_value(self):
-        # Returns a 2 element list of [Point_id, Point_state]
-        return([self.EB.get_value(), self.CB.get_value()])          
+from ..library import track_sections
                 
 #------------------------------------------------------------------------------------
 # Class for a route interlocking group (comprising 6 points, a signal and an instrument)
-# Uses the point_interlocking_entry class from above for each point entry
+# Uses the common point_interlocking_entry class for each point entry
 # Public class instance methods provided are:
 #    "validate" - validate the current entry box values and return True/false
-#    "set_route" - will set theroute elements (points & signal)
-#    "get_route" - returns the last "valid" values (points & signal)
-#    "enable_route" - enables the point selections (and sig/block selections if enabled)
-#    "disable_route" - disables all route selections (points, sig ahead, instrument)
+#    "set_route" - will set the route elements (points, sig_ahead and inst_ahead)
+#          Note that we  also need the current item id for validation of the sig_ahead
+#    "get_route" - returns the last "valid" values (points, sig_ahead and inst_ahead)
+#    "enable_route" - enables all points, sig_ahead and inst_ahead selections
+#    "disable_route" - disables all points, sig_ahead and inst_ahead selections
 #    "enable_sig_ahead" - enables the Sig ahead selections (if the route is enabled)
 #    "disable_sig_ahead" - disables the Sig ahead selections
 #    "enable_block_ahead" - enables the block ahead selections (if the route is enabled)
 #    "disable_block_ahead" - disables the block ahead selections
 #------------------------------------------------------------------------------------
 
 class interlocking_route_group: 
-    def __init__(self, parent_frame, parent_object, label:str):
-        # Note that for the interlocked point selections we validate using the point_exists function 
-        # from the objects module - as we are only interested in local points. For the signal ahead
-        # and block instrument ahead selections, we use the exists function from the library modules
-        # as to validate the items exist on the schematic or have been subscribed to via MQTT networking
+    def __init__(self, parent_frame, label:str):
+        # These are the 'item exists' functions for validation
         signal_exists_function = signals_common.sig_exists
-        current_id_function = parent_object.config.sigid.get_value
         instrument_exists_function = block_instruments.instrument_exists
-        point_exists_function = objects.point_exists
+        point_exists_function = points.point_exists
         # Create a frame for this UI element (always packed into the parent frame)
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         # Create the lable and the point interlocking entry elements (these are
         # packed LEFT in the frame by the parent class when created)
         self.label = Tk.Label(self.frame, anchor='w', width=5, text=label)
         self.label.pack(side = Tk.LEFT)
-        self.p1 = point_interlocking_entry(self.frame, point_exists_function)
-        self.p2 = point_interlocking_entry(self.frame, point_exists_function)
-        self.p3 = point_interlocking_entry(self.frame, point_exists_function)
-        self.p4 = point_interlocking_entry(self.frame, point_exists_function)
-        self.p5 = point_interlocking_entry(self.frame, point_exists_function)
-        self.p6 = point_interlocking_entry(self.frame, point_exists_function)
+        tool_tip = "Specify any points that need to be set and locked before the signal can be cleared for the route"
+        self.p1 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
+        self.p2 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
+        self.p3 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
+        self.p4 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
+        self.p5 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
+        self.p6 = common.point_interlocking_entry(self.frame, point_exists_function, tool_tip)
         # Create the signal ahead and instrument ahead elements (always packed)
         self.label1 = Tk.Label(self.frame, text=" Sig:")
         self.label1.pack(side=Tk.LEFT)
         self.sig = common.str_int_item_id_entry_box(self.frame, exists_function=signal_exists_function,
                         tool_tip = "Specify the next signal along the specified route - This "+
                         "can be a local signal ID or a remote signal ID (in the form 'Node-ID') "+
-                        " which has been subscribed to via MQTT networking",
-                        current_id_function = current_id_function)
+                        " which has been subscribed to via MQTT networking")
         self.sig.pack(side=Tk.LEFT)
         self.label2 = Tk.Label(self.frame, text=" Blk:")
         self.label2.pack(side=Tk.LEFT)
         self.block = common.int_item_id_entry_box(self.frame, exists_function=instrument_exists_function,
                                 tool_tip="Specify the ID of the Block Instrument on the local schematic which "+
                                     "controls access to the block section along the specified route") 
         self.block.pack(side=Tk.LEFT)
@@ -169,25 +126,26 @@
         self.p3.disable()
         self.p4.disable()
         self.p5.disable()
         self.p6.disable()
         self.sig.disable()
         self.block.disable()
 
-    def set_route(self, interlocking_route:[[int,bool],str,int]):
+    def set_route(self, interlocking_route:[[int,bool],str,int], item_id:int):
         # A route comprises: [[p1, p2, p3, p4, p5, p6, p7], sig_id, instrument_id]
         # Each point element in the point list comprises [point_id, point_state]
         # Note that the sig ID can be a local or remote Signal (so a string)
         self.p1.set_value(interlocking_route[0][0])
         self.p2.set_value(interlocking_route[0][1])
         self.p3.set_value(interlocking_route[0][2])
         self.p4.set_value(interlocking_route[0][3])
         self.p5.set_value(interlocking_route[0][4])
         self.p6.set_value(interlocking_route[0][5])
-        self.sig.set_value(interlocking_route[1])
+        # Note we pass in the current signal_id for validation (to prevent selection)
+        self.sig.set_value(interlocking_route[1], item_id)
         self.block.set_value(interlocking_route[2])
         
     def get_route(self):
         # A route comprises: [[p1, p2, p3, p4, p5, p6, p7], sig_id, instrument_id]
         # Each point element in the point list comprises [point_id, point_state]
         # Note that the sig ID can be a local or remote Signal (so a string)
         route =  [ [ self.p1.get_value(),
@@ -200,53 +158,55 @@
                      self.block.get_value() ]
         return (route)
 
 #------------------------------------------------------------------------------------
 # Class for a route interlocking frame 
 # Uses the base interlocking_route_group class from above
 #    "validate" - validate the current entry box values and return True/false
-#    "set_routes" - will set all ui elements (enabled/disabled, addresses)
-#    "get_routes" - returns the last "valid" values (enabled/disabled, addresses)
+#    "set_routes" - will set all route selections (points, sigs_ahead & insts_ahead)
+#          Note that we  also need the current item id for validation of the sig_ahead
+#    "get_routes" - returns the last "valid" values (points, sigs_ahead & insts_ahead)
 #    "enable_sig_ahead" - enables the Sig ahead selections (if the route is enabled)
 #    "disable_sig_ahead" - disables the Sig ahead selections
 #    "enable_block_ahead" - enables the block ahead selections (if the route is enabled)
 #    "disable_block_ahead" - disables the block ahead selections
 #------------------------------------------------------------------------------------
 
 class interlocking_route_frame:
     def __init__(self, parent_window, parent_object):
         # Create a Label Frame for the UI element (packed by the creating function/class)
         self.frame = Tk.LabelFrame(parent_window, text= "Signal routes and point interlocking")
         # Create the route elements (sign, sub, dist) - these are packed in class instancees
-        self.main = interlocking_route_group(self.frame, parent_object, "Main")
-        self.lh1 = interlocking_route_group(self.frame, parent_object, "LH1")
-        self.lh2 = interlocking_route_group(self.frame, parent_object, "LH2")
-        self.rh1 = interlocking_route_group(self.frame, parent_object, "RH1")
-        self.rh2 = interlocking_route_group(self.frame, parent_object, "RH2")
+        self.main = interlocking_route_group(self.frame, "Main")
+        self.lh1 = interlocking_route_group(self.frame, "LH1")
+        self.lh2 = interlocking_route_group(self.frame, "LH2")
+        self.rh1 = interlocking_route_group(self.frame, "RH1")
+        self.rh2 = interlocking_route_group(self.frame, "RH2")
 
     def validate(self):
         # Validate everything - to highlight ALL validation errors in the UI
         valid = True
         if not self.main.validate(): valid = False
         if not self.lh1.validate(): valid = False
         if not self.lh2.validate(): valid = False
         if not self.rh1.validate(): valid = False
         if not self.rh2.validate(): valid = False
         return(valid)
 
-    def set_routes(self, interlocking_frame:[[[[int,bool],],str,int]]):
+    def set_routes(self, interlocking_frame:[[[[int,bool],],str,int]], item_id:int):
         # An interlocking frame comprises a list of routes: [main, lh1, lh2, rh1, rh2]
         # Each route comprises: [[p1, p2, p3, p4, p5, p6, p7], sig_id, instrument_id]
         # Each point element in the point list comprises [point_id, point_state]
         # Note that the sig ID can be a local or remote Signal (so a string)
-        self.main.set_route(interlocking_frame[0])
-        self.lh1.set_route(interlocking_frame[1])
-        self.lh2.set_route(interlocking_frame[2])
-        self.rh1.set_route(interlocking_frame[3])
-        self.rh2.set_route(interlocking_frame[4])
+        # Note also we pass in the current signal_id for validation (to prevent selection)
+        self.main.set_route(interlocking_frame[0], item_id)
+        self.lh1.set_route(interlocking_frame[1], item_id)
+        self.lh2.set_route(interlocking_frame[2], item_id)
+        self.rh1.set_route(interlocking_frame[3], item_id)
+        self.rh2.set_route(interlocking_frame[4], item_id)
         
     def get_routes(self):
         # An interlocking frame comprises a list of routes: [main, lh1, lh2, rh1, rh2]
         # Each route comprises: [[p1, p2, p3, p4, p5, p6, p7], sig_id, instrument_id]
         # Each point element in the point list comprises [point_id, point_state]
         # Note that the sig ID can be a local or remote Signal (so a string)
         return ( [ self.main.get_route(),
@@ -284,48 +244,45 @@
         self.rh2.disable_block_ahead()
     
 #------------------------------------------------------------------------------------
 # Class for a conflicting signal UI Element (for interlocking)
 # uses multiple instances of the common signal_route_selection_element
 # Public class instance methods provided by this class are:
 #    "set_values" - Populates the list of interlocked signals and their routes 
+#          Note that we  also need the current item id for validation
 #    "get_values" - Returns the list of interlocked signals and their routes
 #    "enable_route" - Enables/loads all selections for the route
 #    "disable_route" - Disables/blanks all selections for the route
 #    "validate" - Validates all Entry boxes (Signals exist and not current ID) 
 #------------------------------------------------------------------------------------
 
 class conflicting_signals_element():
     def __init__(self, parent_frame, parent_object, label:str):
-        # These are the functions used to validate that the entered signal ID  exists on the
-        # schematic and is different to the current signal ID - note that we only allow
-        # interlocking with signals on the local schematic - so we use the signal_exists
-        # function from the objects module
-        exists_function = objects.signal_exists
-        current_id_function = parent_object.config.sigid.get_value
+        # Theis is the functions used to validate that the entered signal ID exists
+        exists_function = signals_common.sig_exists
         # Create the Label Frame for the UI element (packed/unpacked on enable/disable) 
         self.frame = Tk.LabelFrame(parent_frame, text=label+" - interlocking with conflicting signals")
         self.frame.pack(padx=2, pady=2, fill='x')
         # create two frames - each frame will hold two conflicting signals
         self.subframe1 = Tk.Frame(self.frame)
         self.subframe1.pack()
         self.subframe2 = Tk.Frame(self.frame)
         self.subframe2.pack()
         tool_tip = "Specify any signals/routes that would conflict with this signal route"
-        self.sig1 = common.signal_route_selections(self.subframe1, read_only=False, tool_tip = tool_tip,
-                    exists_function=exists_function, current_id_function=current_id_function)
+        self.sig1 = common.signal_route_selections(self.subframe1, read_only=False,
+                            tool_tip = tool_tip,exists_function=exists_function)
         self.sig1.frame.pack(side=Tk.LEFT, padx=5)
-        self.sig2 = common.signal_route_selections(self.subframe1, read_only=False, tool_tip = tool_tip,
-                    exists_function=exists_function, current_id_function=current_id_function)
+        self.sig2 = common.signal_route_selections(self.subframe1, read_only=False,
+                            tool_tip = tool_tip, exists_function=exists_function)
         self.sig2.frame.pack(side=Tk.LEFT, padx=5)
-        self.sig3 = common.signal_route_selections(self.subframe2, read_only=False, tool_tip = tool_tip,
-                    exists_function=exists_function, current_id_function=current_id_function)
+        self.sig3 = common.signal_route_selections(self.subframe2, read_only=False,
+                            tool_tip = tool_tip, exists_function=exists_function)
         self.sig3.frame.pack(side=Tk.LEFT, padx=5)
-        self.sig4 = common.signal_route_selections(self.subframe2, read_only=False, tool_tip = tool_tip,
-                    exists_function=exists_function, current_id_function=current_id_function)
+        self.sig4 = common.signal_route_selections(self.subframe2, read_only=False,
+                            tool_tip = tool_tip, exists_function=exists_function)
         self.sig4.frame.pack(side=Tk.LEFT, padx=5)
 
     def validate(self):
         # Validate everything - to highlight ALL validation errors in the UI
         valid = True
         if not self.sig1.validate(): valid = False
         if not self.sig2.validate(): valid = False
@@ -341,22 +298,22 @@
         
     def disable_route(self):
         self.sig1.disable()
         self.sig2.disable()
         self.sig3.disable()
         self.sig4.disable()
 
-    def set_values(self, sig_route:[[int,[bool,bool,bool,bool,bool]],]):
+    def set_values(self, sig_route:[[int,[bool,bool,bool,bool,bool]],], item_id):
         # each sig_route comprises [sig1, sig2, sig3, sig4]
         # each signal comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # Where each route element is a boolean value (True or False)
-        self.sig1.set_values(sig_route[0])
-        self.sig2.set_values(sig_route[1])
-        self.sig3.set_values(sig_route[2])
-        self.sig4.set_values(sig_route[3])
+        self.sig1.set_values(sig_route[0], item_id)
+        self.sig2.set_values(sig_route[1], item_id)
+        self.sig3.set_values(sig_route[2], item_id)
+        self.sig4.set_values(sig_route[3], item_id)
 
     def get_values(self):
         # each sig_route comprises [sig1, sig2, sig3, sig4]
         # each signal comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # Where each route element is a boolean value (True or False)
         return ( [self.sig1.get_values(),
                   self.sig2.get_values(),
@@ -364,14 +321,15 @@
                   self.sig4.get_values()] )
 
 #------------------------------------------------------------------------------------
 # Class for a conflicting signal frame UI Element (for interlocking)
 # uses multiple instances of the common signal_route_selection_element
 # Public class instance methods provided by this class are:
 #    "set_values" - Populates the table of interlocked signal routes
+#          Note that we  also need the current item id for validation
 #    "get_values" - Returns the table of interlocked signal routes
 #    "validate" - Validates all entries (Signals exist and not the current ID)
 #------------------------------------------------------------------------------------
 
 class conflicting_signals_frame():
     def __init__(self, parent_frame, parent_object):
         # Create the Label Frame for the UI element (packed by the creating function/class)
@@ -388,24 +346,24 @@
         if not self.main.validate(): valid = False
         if not self.lh1.validate(): valid = False
         if not self.lh2.validate(): valid = False
         if not self.rh1.validate(): valid = False
         if not self.rh2.validate(): valid = False
         return(valid)
 
-    def set_values(self, sig_interlocking_routes:[[[int,[bool,bool,bool,bool,bool]],],]):
+    def set_values(self, sig_interlocking_routes:[[[int,[bool,bool,bool,bool,bool]],],], item_id:int):
         # sig_interlocking_routes comprises a list of sig_routes [main,lh1,lh2,rh1,rh2]
         # each sig_route comprises a list of interlocked signals [sig1, sig2, sig3, sig4]
         # each interlocked signal entry comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # sig_id is the interlocked signal and the interlocked routes are True/False
-        self.main.set_values(sig_interlocking_routes[0])
-        self.lh1.set_values(sig_interlocking_routes[1])
-        self.lh2.set_values(sig_interlocking_routes[2])
-        self.rh1.set_values(sig_interlocking_routes[3])
-        self.rh2.set_values(sig_interlocking_routes[4])
+        self.main.set_values(sig_interlocking_routes[0], item_id)
+        self.lh1.set_values(sig_interlocking_routes[1], item_id)
+        self.lh2.set_values(sig_interlocking_routes[2], item_id)
+        self.rh1.set_values(sig_interlocking_routes[3], item_id)
+        self.rh2.set_values(sig_interlocking_routes[4], item_id)
 
     def get_values(self):
         # sig_interlocking_routes comprises a list of sig_routes [main,lh1,lh2,rh1,rh2]
         # each sig_route comprises a list of interlocked signals [sig1, sig2, sig3, sig4]
         # each interlocked signal entry comprises [sig_id, [main, lh1, lh2, rh1, rh2]]
         # sig_id is the interlocked signal and the interlocked routes are True/False
         return ( [self.main.get_values(),
@@ -426,14 +384,19 @@
 #------------------------------------------------------------------------------------
 
 class interlocked_sections_group:
     def __init__(self, parent_frame, label:str):
         self.frame = Tk.LabelFrame(parent_frame, text=label)
         self.frame.pack(side=Tk.LEFT, padx=8, pady=2)
         tool_tip = "Specify any track sections along the route that will lock this signal when occupied by another train"
+        #########################################################################################################
+        # Note that we need to use the 'objects.section_exists' function as the the library 'section_exists'
+        # function will not work in edit mode as the Track Section library objects don't exist in edit mode
+        # To be addressed in a future software update when the Track Sections functionality is re-factored
+        #########################################################################################################
         self.t1 = common.int_item_id_entry_box(self.frame, exists_function=objects.section_exists, tool_tip=tool_tip)
         self.t1.pack(side = Tk.LEFT)
         self.t2 = common.int_item_id_entry_box(self.frame, exists_function=objects.section_exists, tool_tip=tool_tip)
         self.t2.pack(side = Tk.LEFT)
         self.t3 = common.int_item_id_entry_box(self.frame, exists_function=objects.section_exists, tool_tip=tool_tip)
         self.t3.pack(side = Tk.LEFT)
 
@@ -490,19 +453,19 @@
         self.lh2 = interlocked_sections_group(self.subframe, "LH2")
         self.rh1 = interlocked_sections_group(self.subframe, "RH1")
         self.rh2 = interlocked_sections_group(self.subframe, "RH2")
 
     def validate(self):
         # Validate everything - to highlight ALL validation failures in the UI
         valid = True
-        if not self.main.validate(): valid =False
-        if not self.lh1.validate(): valid =False
-        if not self.lh2.validate(): valid =False
-        if not self.rh1.validate(): valid =False
-        if not self.rh2.validate(): valid =False
+        if not self.main.validate(): valid = False
+        if not self.lh1.validate(): valid = False
+        if not self.lh2.validate(): valid = False
+        if not self.rh1.validate(): valid = False
+        if not self.rh2.validate(): valid = False
         return(valid)
 
     def set_routes(self, interlocked_sections):
         # interlocked_sections comprises a list of routes: [MAIN, LH1, LH2, RH1, RH2]
         # Each route element contains a list of interlocked sections for that route [t1,t2,t3]
         # Each entry is the ID of a track section the signal is to be interlocked with
         self.main.set_route(interlocked_sections[0])
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_signal_tab3.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_signal_tab3.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,106 +1,127 @@
 #------------------------------------------------------------------------------------
 # Functions and sub Classes for the Edit Signal "Automation" Tab
 #
 # Makes the following external API calls to other editor modules:
-#    objects.section_exists(id) - To see if the section exists (local)
-#    objects.signal_exists(id) - To see if the signal exists (local)
-#    objects.signal(id) - to get the object ID of a given item ID
-#
-# Accesses the following external editor objects directly:
-#    objects.signal_index - To iterate through all the signal objects
-#    objects.schematic_objects - To load/save the object configuration
+#########################################################################################################
+# Note that we need to use the 'objects.section_exists' function as the the library 'section_exists'
+# function will not work in edit mode as the Track Section library objects don't exist in edit mode
+# To be addressed in a future software update when the Track Sections functionality is re-factored
+#########################################################################################################
+#    objects.section_exists(id) - To see if the section exists (local) ##################################
 #
 # Makes the following external API calls to library modules:
-#    track_sensors.sensor_exists(id) - To see if the track_sensor exists (local or remote)
+#    gpio_sensors.gpio_sensor_exists(id) - To see if the GPIO sensor exists (local or remote)
+#    gpio_sensors.get_gpio_sensor_callback - To see if a GPIO sensor is already mapped
+#    signals_common.sig_exists(id) - To see if the signal exists (local)
+#    track_sections.section_exists(id) - To see if the track section exists       ####################
 #
 # Inherits the following common editor base classes (from common):
+#    common.str_int_item_id_entry_box
+#    common.int_item_id_entry_box
 #    common.check_box
 #    common.integer_entry_box
-#    common.int_item_id_entry_box
 #    common.CreateToolTip
 #
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 
 from . import common
-from . import objects
+from . import objects ############################################################################
 
-from ..library import track_sensors
+from ..library import gpio_sensors
+from ..library import signals_common
+from ..library import track_sections
 
 #------------------------------------------------------------------------------------
 # Class for a Signal Sensor Entry Box - based on the str_int_item_id_entry_box class
 # Public Class instance methods (inherited from the integer_entry_box) are
-#    "set_value" - will set the current value (integer)
+#    "set_value" - will set the current value for the GPIO Sensor ID (integer)
+#         - Also sets the current item ID (int) for validation purposes
 #    "get_value" - will return the last "valid" value (integer)
 # Overridden Public Class instance methods provided by this class:
 #    "validate" - Must be a valid Sensor ID and not already assigned
+# Note that we use the current_item_id variable (from the base class) for validation.
 #------------------------------------------------------------------------------------
 
 class signal_sensor(common.str_int_item_id_entry_box):
-    def __init__(self, parent_frame, parent_object, callback, label:str, tool_tip:str):
-        # We need the reference to the parent object so we can call the sibling
-        # class method to get the current value of the Signal ID for validation
-        self.parent_object = parent_object 
+    def __init__(self, parent_frame, callback, label:str, tool_tip:str):
+        # We need to hold the current signal_id for validation purposes but we don't pass this 
+        # into the parent class as the entered ID for the gpio sensor can be the same as the current
+        # item_id (for the signal object) - so we don't want the parent class to validate this.
+        self.signal_id = 0
+        # The this function will return true if the GPIO sensor exists
+        exists_function = gpio_sensors.gpio_sensor_exists
+        # Create the label and entry box UI elements
         self.label = Tk.Label(parent_frame, text=label)
         self.label.pack(side=Tk.LEFT, padx=2, pady=2)
-        # The this function will return true if the track sensor exists
-        exists_function = track_sensors.sensor_exists
         super().__init__(parent_frame, callback = callback, tool_tip=tool_tip, exists_function=exists_function)
         self.pack(side=Tk.LEFT, padx=2, pady=2)
             
     def validate(self, update_validation_status=True):
         # Do the basic integer validation first (is it a valid ID and does it exist (or has been subscribed to)
         valid = super().validate(update_validation_status=False)
         # Next we need to validate it isn't already assigned to another signal appropach or passed event
-        if valid and self.entry.get() != "":                
-            for signal_id in objects.signal_index:
-                signal_object = objects.schematic_objects[objects.signal(signal_id)]
-                if ( signal_object["itemid"] != self.parent_object.config.sigid.get_initial_value() and
-                     ( signal_object["passedsensor"][1] == self.entry.get() or
-                          signal_object["approachsensor"][1] == self.entry.get() ) ):
-                    self.TT.text = ("Track Sensor "+str(self.entry.get())+" is already assigned to signal "
-                                    +str(signal_object["itemid"]))
-                    valid = False
+        if valid and self.entry.get() != "":
+            sensor_id = self.entry.get()
+            event_mappings = gpio_sensors.get_gpio_sensor_callback(sensor_id)
+            if event_mappings[0] > 0 and event_mappings[0] != self.signal_id:
+                self.TT.text = ("GPIO Sensor "+sensor_id+" is already mapped to Signal "+str(event_mappings[0]))
+                valid = False
+            elif event_mappings[1] > 0 and event_mappings[1] != self.signal_id:
+                self.TT.text = ("GPIO Sensor "+sensor_id+" is already mapped to Signal "+str(event_mappings[1]))
+                valid = False
+            elif event_mappings[2] > 0:
+                self.TT.text = ("GPIO Sensor "+sensor_id+" is already mapped to Track Sensor "+str(event_mappings[2]))
+                valid = False
         if update_validation_status: self.set_validation_status(valid)
         return(valid)
-
+    
+    # We need to hold the current signal_id for validation purposes but we don't pass this 
+    # into the parent class as the entered ID for the gpio sensor can be the same as the current
+    # item_id (for the signal object) - so we don't want the parent class to validate this.
+    def set_value(self, value:str, signal_id:int):
+        self.signal_id = signal_id
+        super().set_value(value)
+        
 #------------------------------------------------------------------------------------
-# Class for the Signal Passed Sensor Frame - uses the Track Sensor Entry Box class
+# Class for the Signal Passed Sensor Frame - uses the Signal Sensor Entry Box class
 # Public Class instance methods used from the base classes are
 #    "approach.enable" - disables/blanks the checkbox and entry box 
 #    "approach.disable" - enables/loads the checkbox and entry box
 #    "approach.set_value" - will set the current value (int)
+#         - Also sets the current item ID (int) for validation purposes
 #    "approach.get_value" - returns the last "valid" value (int)
 #    "passed.set_value" - will set the current value (int)
+#         - Also sets the current item ID (int) for validation purposes
 #    "passed.get_value" - returns the last "valid" value (int)
 # Public Class instance methods provided by this class:
 #    "validate" - validate both entry box values and return True/false
 #------------------------------------------------------------------------------------
 
 class signal_passed_sensor_frame:
     def __init__(self, parent_frame, parent_object):
         # The child class instances need the reference to the parent object so they can call
         # the sibling class method to get the current value of the Signal ID for validation
-        self.frame = Tk.LabelFrame(parent_frame, text="Track sensors to associate with signal")
+        self.frame = Tk.LabelFrame(parent_frame, text="GPIO sensor events")
         # Create the elements in a subframe so they are centered
         self.subframe = Tk.Frame(self.frame)
         self.subframe.pack()
-        tool_tip = ("Specify the ID of the associated Track Sensor (or leave blank) - This "+
+        tool_tip = ("Specify the ID of a GPIO Sensor (or leave blank) - This "+
                     "can be a local sensor ID or a remote sensor ID (in the form 'Node-ID') "+
                     "which has been subscribed to via MQTT networking")
-        self.passed = signal_sensor(self.subframe, parent_object, callback=self.validate,
+        self.passed = signal_sensor(self.subframe, callback=self.validate,
                 label="  Signal 'passed' sensor:", tool_tip = tool_tip)
-        self.approach = signal_sensor(self.subframe, parent_object, callback=self.validate,
+        self.approach = signal_sensor(self.subframe, callback=self.validate,
                 label="  Signal 'approached' sensor:", tool_tip = tool_tip)
         
     def validate(self):
         if self.passed.entry.get() != "" and self.passed.entry.get() == self.approach.entry.get():
-            error_text = "Cannot assign the same track sensor for both signal 'passed' and signal 'approached' events"
+            error_text = "Cannot assign the same GPIO sensor for both signal 'passed' and signal 'approached' events"
             self.passed.TT.text = error_text
             self.approach.TT.text = error_text
             self.passed.set_validation_status(False)
             self.approach.set_validation_status(False)
             return(False)
         else:
             # As both validation calls are made before the return statement
@@ -127,15 +148,15 @@
 class section_behind_element(common.int_item_id_entry_box):
     def __init__(self, parent_frame):
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         tool_tip = "Sepecify the track section 'in the rear of' this signal to be cleared when the signal is passed"
         super().__init__(self.frame, tool_tip=tool_tip, exists_function=objects.section_exists)
         self.pack(side=Tk.LEFT)
-        self.label = Tk.Label(self.frame, text="=>")
+        self.label = Tk.Label(self.frame, text=" "+u"\u2192")
         self.label.pack(side=Tk.LEFT)
 
 class section_ahead_element():
     def __init__(self, parent_frame, label):
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         self.label1 = Tk.Label(self.frame, text=label, width=8)
@@ -180,19 +201,19 @@
         # The list_of_sections comprises: [t1,t2,t3] Where each element is
         # the ID of a track section on the route ahead
         interlocked_route = [ self.t1.get_value(), self.t2.get_value(), self.t3.get_value() ]
         return(interlocked_route)
 
 class section_ahead_frame():
     def __init__(self, parent_frame):
-        self.main = section_ahead_element(parent_frame, label="MAIN =>")
-        self.lh1 = section_ahead_element(parent_frame, label="LH1 =>")
-        self.lh2 = section_ahead_element(parent_frame, label="LH2 =>")
-        self.rh1 = section_ahead_element(parent_frame, label="RH1 =>")
-        self.rh2 = section_ahead_element(parent_frame, label="RH2 =>")
+        self.main = section_ahead_element(parent_frame, label="MAIN "+u"\u2192")
+        self.lh1 = section_ahead_element(parent_frame, label="LH1 "+u"\u2192")
+        self.lh2 = section_ahead_element(parent_frame, label="LH2 "+u"\u2192")
+        self.rh1 = section_ahead_element(parent_frame, label="RH1 "+u"\u2192")
+        self.rh2 = section_ahead_element(parent_frame, label="RH2 "+u"\u2192")
         
     def validate(self):
         # Validate everything - to highlight ALL validation errors in the UI
         valid = True
         if not self.main.validate(): valid = False
         if not self.lh1.validate(): valid = False
         if not self.lh2.validate(): valid = False
@@ -271,31 +292,31 @@
         # Create the Label Frame for the UI element (packed by the creating function/class)
         self.frame = Tk.LabelFrame(parent_frame, text="General settings")
         self.automatic = common.check_box(self.frame, width=39,
                     label="Fully automatic signal (no control button)",
                     tool_tip="Select to create without a main signal button "+
                     "(signal will have a default signal state of OFF, but can be "+
                         "overridden to ON via the selections below)")
-        self.automatic.pack(pady=2)
+        self.automatic.pack()
         self.distant_automatic = common.check_box(self.frame, width=39,
                     label="Fully automatic distant arms (no control button)",
                     tool_tip="Select to create without a distant signal button "+
                     "(distant arms will have a default signal state of OFF, but can "+
                         "be overridden to CAUTION via the selections below)")
-        self.distant_automatic.pack(pady=2)
+        self.distant_automatic.pack()
         self.override = common.check_box(self.frame, width=39,
                     label="Override signal to ON if section(s) ahead occupied",
                     tool_tip="Select to override the signal to ON if the track "+
                     "sections ahead of the signal (specified on the left) are occupied")
-        self.override.pack(pady=2)
+        self.override.pack()
         self.override_ahead = common.check_box(self.frame, width=39,
                     label="Override to CAUTION to reflect home signals ahead",
                     tool_tip="Select to override distant signal to CAUTION if "+
                     "any home signals on the route ahead are at DANGER")
-        self.override_ahead.pack(pady=2)
+        self.override_ahead.pack()
                         
     def set_values(self, override:bool, main_auto:bool, override_ahead:bool, dist_auto:bool):
         self.override.set_value(override)
         self.automatic.set_value(main_auto)
         self.override_ahead.set_value(override_ahead)
         self.distant_automatic.set_value(dist_auto)
 
@@ -307,98 +328,104 @@
 
 #------------------------------------------------------------------------------------
 # Class for a Timed signal route element comprising a route selection checkbox, a
 # signal ID entry box and two integer entry boxes for specifying the timed sequence
 # Public class instance methods provided by this class are 
 #    "disable" - disables/blanks all checkboxes and selection boxes 
 #    "enable"  enables/loads all checkboxes and selection boxes
-#    "set_values" - set the initial values for the check box and entry boxes) 
+#    "set_values" - set the initial values for the check box and entry boxes)
+#               Note this class also needs the current signal ID for validation
 #    "get_values" - get the last "validated" values of the check box and entry boxes
 #
-# Note that the software only supports triggering of signals on the local schematic
-# so we use the signal_exists function from the objects module for entry validation
+# ote that although the signals.sig_exists function will match both local and remote
+# Signal IDs, the int_item_id_entry_box only allows integers to be selected - so we
+# can safely use this function here for consistency.
 #------------------------------------------------------------------------------------
 
-#####################################################################################
-# TODO - consider better validation of the timed signal selections, namely:
-# 1) Should only be able to select a main semaphore or colour light signal type
-# 2) If triggering the current signal then the start delay should be Zero
-# Low priority enhancement as these things get handled gracefully at run time
-#####################################################################################
-
 class timed_signal_route_element():
     def __init__(self, parent_frame, parent_object, label:str):
+        # We need to know the current Signal ID for validation purposes
+        self.current_item_id = 0
         # This is the parent object (the signal instance)
         self.parent_object = parent_object
         # Create a frame for the route element
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         # Create the route element (selection, sig ID, start delay, aspect change delay)
         self.label1 = Tk.Label(self.frame, width=5, text=label, anchor='w')
         self.label1.pack(side=Tk.LEFT)
-        self.route = common.check_box(self.frame, label="", callback=self.route_selected,
-                tool_tip="Select to trigger a timed signal sequence for this route when the signal is passed")
+        self.route = common.check_box(self.frame, label="", callback=self.route_updated,
+                tool_tip="Select to trigger a timed sequence (for this route) when the current signal is passed")
         self.route.pack(side=Tk.LEFT)
         self.label2 = Tk.Label(self.frame, text="  Signal to trigger:")
         self.label2.pack(side=Tk.LEFT)
-        self.sig = common.int_item_id_entry_box(self.frame, allow_empty=False,
-                exists_function=objects.signal_exists, tool_tip="Enter the ID of the signal to "+
+        self.sig = common.int_item_id_entry_box(self.frame, allow_empty=False, callback=self.signal_updated,
+                exists_function=signals_common.sig_exists, tool_tip="Enter the ID of the signal to "+
                    "trigger. This can be the current signal or another semaphore / colour light "+
                             "signal (on the route ahead of the current signal)")
         self.sig.pack(side=Tk.LEFT)
         self.label3 = Tk.Label(self.frame, text="  Start delay:")
         self.label3.pack(side=Tk.LEFT)
         self.start = common.integer_entry_box(self.frame, width=3, min_value=0, max_value=60,
                             allow_empty=False, tool_tip="Specify the time delay (in seconds) "+
-                            "before triggering the timed sequence (if triggering the current signal " +
-                            " then this should be set to zero to trigger when the signal is passed)")
+                            "before triggering the timed sequence (if triggering the same " +
+                            "signal then this will be zero)")
         self.start.pack(side=Tk.LEFT)
         self.label4 = Tk.Label(self.frame, text="  Time delay:")
         self.label4.pack(side=Tk.LEFT)
-        self.delay = common.integer_entry_box(self.frame, width=3, min_value=0, max_value=60,
+        self.delay = common.integer_entry_box(self.frame, width=3, min_value=1, max_value=60,
                             allow_empty=False, tool_tip="Specify the time period (in seconds) "+
                                                         "between signal aspect changes")
         self.delay.pack(side=Tk.LEFT)
 
-    def route_selected(self):
+    def signal_updated(self):
+        # Only enable the start delay if the current signal ID is not selected
+        if self.sig.get() == str(self.current_item_id):
+            self.start.disable2()
+            self.start.TT.text = "Start delay will be zero when triggering the current signal"
+        else:
+            self.start.enable2()
+
+    def route_updated(self):
         if self.route.get_value():
             self.sig.enable1()
             self.start.enable1()
             self.delay.enable1()
-            # If no siganl ID is configured then set the ID to the current Signal ID
-            # So we start off with a valid configuration for the user to edit
-            if self.sig.get_value() == 0:
-                self.sig.set_value(self.parent_object.config.sigid.get_initial_value())
-            # Start delays of zero are OK but timed delays of zero just aren't sensible
-            # We therefore always set a default of 5 seconds to provide a starting point
-            if self.delay.get_value() == 0: self.delay.set_value(5)
         else:
             self.sig.disable1()
             self.start.disable1()
             self.delay.disable1()
+        self.signal_updated()
     
     def enable(self):
         self.route.enable()
         self.sig.enable()
         self.start.enable()
         self.delay.enable()
 
     def disable(self):
         self.route.disable()
         self.sig.disable()
         self.start.disable()
         self.delay.disable()
 
-    def set_values(self, route:[bool,int,int,int]):
-        # A route comprises a list of [selected, sig_id,start_delay, time_delay)
+    def set_values(self, route:[bool,int,int,int], item_id:int):
+        # A route comprises a list of [selected, sig_id, start_delay, time_delay)
+        # If signal to trigger is '0' (no selection) then we set the current signal ID
+        # to give us a valid default configuration (for the user to edit as required)
+        # Similarly, we set a default of 5 seconds for the time delay
+        self.current_item_id = item_id
         self.route.set_value(route[0])
-        self.sig.set_value(route[1])
+        if route[1] == 0: self.sig.set_value(item_id)
+        else:self.sig.set_value(route[1])
         self.start.set_value(route[2])
-        self.delay.set_value(route[3])
-        self.route_selected()
+        if route[3] == 0: self.delay.set_value(5)
+        else: self.delay.set_value(route[3])
+        # Enable/disable the various route elements as required
+        self.route_updated()
         
     def get_values(self):
         # A route comprises a list of [selected, sig_id,start_delay, time_delay)
         return ( [ self.route.get_value(),
                    self.sig.get_value(),
                    self.start.get_value(),
                    self.delay.get_value() ] )
@@ -412,14 +439,15 @@
         return (valid)
 
 #------------------------------------------------------------------------------------
 # Class for a Timed signal route frame (comprising selections for each route)
 # Public class instance methods provided by this class are: 
 #    "set_values" - set the initial values for the check box and entry boxes
 #    "get_values" - get the last "validated" values of the check box and entry boxes
+#               Note this class also needs the current signal ID for validation
 # Note that no overall enable/disable functions are provided - External functions 
 # should call the individual enable/disable functions for each route element
 #------------------------------------------------------------------------------------
 
 class timed_signal_frame():
     def __init__(self, parent_frame, parent_object):
         # Create a label frame for the UI element
@@ -434,22 +462,22 @@
         self.subframe2.pack(side=Tk.LEFT, padx=2, pady=2, fill='x', expand=True)        
         self.main=timed_signal_route_element(self.subframe2, parent_object, label="MAIN")
         self.lh1=timed_signal_route_element(self.subframe2, parent_object, label="LH1")
         self.lh2=timed_signal_route_element(self.subframe2, parent_object, label="LH2")
         self.rh1=timed_signal_route_element(self.subframe2, parent_object, label="RH1")
         self.rh2=timed_signal_route_element(self.subframe2, parent_object, label="RH2")
         
-    def set_values(self, timed_sequence:[[bool,int,int,int],]):
+    def set_values(self, timed_sequence:[[bool,int,int,int],], item_id:int):
         # A timed_sequence comprises a list of routes [MAIN, LH1, LH2, RH1, RH2]
         # Each route comprises a list of [selected, sig_id,start_delay, time_delay)
-        self.main.set_values(timed_sequence[0])
-        self.lh1.set_values(timed_sequence[1])
-        self.lh2.set_values(timed_sequence[2])
-        self.rh1.set_values(timed_sequence[3])
-        self.rh2.set_values(timed_sequence[4])
+        self.main.set_values(timed_sequence[0], item_id)
+        self.lh1.set_values(timed_sequence[1], item_id)
+        self.lh2.set_values(timed_sequence[2], item_id)
+        self.rh1.set_values(timed_sequence[3], item_id)
+        self.rh2.set_values(timed_sequence[4], item_id)
 
     def get_values(self):
         # A timed_sequence comprises a list of routes [MAIN, LH1, LH2, RH1, RH2]
         # Each route comprises a list of [selected, sig_id,start_delay, time_delay)
         return ( [ self.main.get_values(),
                    self.lh1.get_values(),
                    self.lh2.get_values(),
@@ -689,16 +717,16 @@
 #------------------------------------------------------------------------------------
 # Top level Class for the Edit Signal Window Automation Tab
 #------------------------------------------------------------------------------------
 
 class signal_automation_tab():
     def __init__(self, parent_tab, parent_object):
         # Create the signal sensor frame (always packed)
-        self.track_sensors = signal_passed_sensor_frame(parent_tab, parent_object)
-        self.track_sensors.frame.pack(padx=2, pady=2, fill='x')
+        self.gpio_sensors = signal_passed_sensor_frame(parent_tab, parent_object)
+        self.gpio_sensors.frame.pack(padx=2, pady=2, fill='x')
         # Create a Frame for the track occupancy and general settings (always packed)
         self.frame1 = Tk.Frame(parent_tab)
         self.frame1.pack(padx=2, pady=2, fill='x')
         self.track_occupancy = track_occupancy_frame(self.frame1)
         self.track_occupancy.frame.pack(side=Tk.LEFT, padx=2, pady=2)
         self.general_settings = general_settings_frame(self.frame1)
         self.general_settings.frame.pack(side=Tk.LEFT, padx=2, pady=2, fill='both', expand=True)
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/configure_textbox.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/configure_textbox.py`

 * *Files 1% similar despite different names*

```diff
@@ -8,17 +8,21 @@
 # Makes the following external API calls to other editor modules:
 #    objects.update_object(obj_id,new_obj) - Update the configuration on save
 #
 # Accesses the following external editor objects directly:
 #    objects.schematic_objects - To load/save the object configuration
 #
 # Inherits the following common editor base classes (from common):
+#    common.integer_entry_box
+#    common.scrollable_text_frame
 #    common.window_controls
 #    common.colour_selection
+#    common.selection_buttons
 #    common.check_box
+#
 #------------------------------------------------------------------------------------
 
 import copy
 
 import tkinter as Tk
 
 from . import common
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/editor.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/editor.py`

 * *Files 3% similar despite different names*

```diff
@@ -4,71 +4,68 @@
 # a module (-m) - or can be called externally (useful for running in a pyhon IDE)
 # This module contains all the functions to process the main menubar selections
 # 
 # External API functions intended for use by other editor modules:
 #    run_editor() - Start the application
 #
 # Makes the following external API calls to other editor modules:
-#    objects.save_schematic_state() - Save the state following save or load
+#    objects.configure_edit_mode(edit_mode) - Configure the objects module for Edit or Run Mode ######################
+#    objects.reset_objects() - Reset the schematic back to its default state
+#    objects.save_schematic_state(reset_pointer) - Save the state following save or load
 #    objects.set_all(new_objects) - Set the dict of objects following a load
 #    objects.get_all() - Retrieve the dict of objects for saving to file
-#    objects.reset_objects() - Reset the schematic back to its default state
 #    objects.mqtt_update_signals(pub_list, sub_list) - configure MQTT networking
 #    objects.mqtt_update_sections(pub_list, sub_list) - configure MQTT networking
 #    objects.mqtt_update_instruments(pub_list, sub_list) - configure MQTT networking
 #    schematic.initialise(root, callback, width, height, grid, snap) - Create the canvas
-#    schematic.delete_all_objects() - For deleting all objects (on new/load)
+#    schematic.configure_edit_mode(edit_mode) - Configure the schematic module for Edit or Run Mode
 #    schematic.update_canvas(width,height,grid,snap) - Update the canvas following reload/resizing
-#    schematic.enable_editing() - On mode toggle or load (if loaded file is in edit mode and not already in edit mode)
-#    schematic.disable_editing() - On mode toggle or load (if loaded file is in run mode and not already in run mode)
-#    run_layout.enable_automation() - On automation toggle or load
-#    run_layout.disable_automation() - On automation toggle or load
+#    schematic.delete_all_objects() - For deleting all objects (on new/load)
+#    run_layout.configure_automation(automation) - Configure run layout module for automation on/off
+#    run_layout.configure_edit_mode(edit_mode) - Configure run layout module for Edit or Run Mode
+#    run_layout.configure_spad_popups() - On settings update or load
 #    settings.get_all() - Get all settings (for save)
 #    settings.set_all() - Set all settings (following load)
 #    settings.get_canvas() - Get default/loaded canvas settings (for resizing)
 #    settings.get_version() - Get the Application version (for the Arg Parser)
 #    settings.get_general() - Get the current filename and editor mode
 #    settings.set_general() - Set the filename and editor mode
 #    settings.get_logging() - Set the default log level
 #    settings.get_sprog() - to get the current SPROG settings
 #    settings.get_gpio() - to get the current track sensor GPIO mappings
 #    settings.restore_defaults() - Following user selection of "new"
-#    common.scrollable_text_box - to display a list of warnings on file load
 #    menubar_windows.edit_mqtt_settings(root, mqtt_connect_callback, mqtt_update_callback)
 #    menubar_windows.edit_sprog_settings(root, sprog_connect_callback, sprog_update_callback)
 #    menubar_windows.edit_logging_settings(root, logging_update_callback)
 #    menubar_windows.edit_canvas_settings(root, canvas_update_callback)
 #    menubar_windows.edit_gpio_settings(root, gpio_update_callback)
 #    menubar_windows.display_help(parent_window) - opens the config window
 #    menubar_windows.display_about(parent_window) - opens the config window
 #    menubar_windows.edit_layout_info(parent_window) - opens the config window
 #    utilities.dcc_programming(root, dcc_power_off_callback, dcc_power_on_callback)
+#    utilities.dcc_mappings(root)
 #
 # Makes the following external API calls to library modules:
-#    library_common.find_root_window (widget) - To set the root window
-#    library_common.on_closing (ask_to_save_state) - To shutdown gracefully
-#    file_interface.load_schematic - To load all settings and objects
-#    file_interface.save_schematic - To save all settings and objects
-#    file_interface.purge_loaded_state_information - Called following a re-load
-#    pi_sprog_interface.initialise_pi_sprog - After update of Pi Sprog Settings
-#    pi_sprog_interface.sprog_shutdown - Disconnect from the Pi-SPROG
-#    pi_sprog_interface.request_dcc_power_off - To turn off the track power
-#    pi_sprog_interface.request_dcc_power_on - To turn on the track power
-#    mqtt_interface.mqtt_broker_connect - MQTT Broker connection configuration
-#    mqtt_interface.mqtt_broker_disconnect - disconnect prior to reconfiguration
-#    mqtt_interface.configure_mqtt_client - configure client network details
-#    dcc_control.reset_mqtt_configuration - reset all publish/subscribe
-#    dcc_control.set_node_to_publish_dcc_commands - set note to publish DCC
-#    dcc_control.subscribe_to_dcc_command_feed - subscribe to DCC from other nodes
-#    track_sensors.raspberry_pi - To see if the application is running on a Raspberry Pi
-#    track_sensors.create_sensor - Create Track sensor objects (GPIO mappings)
-#    track_sensors.delete_all_local_track_sensors - Delete all GPIO mappings
-#    track_sensors.reset_mqtt_configuration() - configure MQTT networking
-#    track_sensors.set_sensors_to_publish_state(*ids) - configure MQTT networking
-#    track_sensors.subscribe_to_remote_sensor(id) - configure MQTT networking
+#    library_common.set_root_window(widget) - To set the root window
+#    library_common.shutdown() - To shutdown the library module gracefully
+#    library_common.configure_edit_mode(edit_mode) - Configure the library for Edit or Run Mode
+#    file_interface.load_schematic(filename) - To load all settings and objects
+#    file_interface.save_schematic(settings,objects,filename,save_as) - Save the layout
+#    file_interface.purge_loaded_state_information() - Called following a re-load
+#    pi_sprog_interface.sprog_connect(port,baud,debug) - Connect to the Pi-sprog
+#    pi_sprog_interface.sprog_disconnect() - Disconnect from the Pi-SPROG
+#    pi_sprog_interface.request_dcc_power_off() - To turn off the track power
+#    pi_sprog_interface.request_dcc_power_on() - To turn on the track power
+#    mqtt_interface.mqtt_broker_connect(url,port,user,pssword) - Connect to the broker
+#    mqtt_interface.mqtt_broker_disconnect() - Disconnect (prior to reconfiguration)
+#    mqtt_interface.configure_mqtt_client(settings) - configure client network details
+#    dcc_control.reset_mqtt_configuration() - reset all publish/subscribe
+#    dcc_control.set_node_to_publish_dcc_commands(publish) - set note to publish DCC
+#    dcc_control.subscribe_to_dcc_command_feed(nodes) - subscribe to DCC from other nodes
+#    gpio_sensors.gpio_interface_enabled() - is the app running on a Raspberry Pi
 #
 #------------------------------------------------------------------------------------
 
 import os
 import tkinter as Tk
 import logging
 import argparse
@@ -78,15 +75,15 @@
 from . import schematic
 from . import run_layout
 from . import menubar_windows
 from . import utilities
 from ..library import file_interface
 from ..library import pi_sprog_interface
 from ..library import mqtt_interface
-from ..library import track_sensors
+from ..library import gpio_sensors
 from ..library import dcc_control
 from ..library import common as library_common
 
 # The following imports are only used for the advanced debugging functions
 import linecache
 import tracemalloc
 
@@ -145,38 +142,43 @@
         self.mqtt_menu.add_command(label=" Disconnect ", command=self.mqtt_disconnect)
         self.mainmenubar.add_cascade(label=self.mqtt_label, menu=self.mqtt_menu)
         # Create the various menubar items for the Utilities Dropdown
         self.utilities_menu = Tk.Menu(self.mainmenubar,tearoff=False)
         self.utilities_menu.add_command(label =" DCC Programming...",
                 command=lambda:utilities.dcc_programming(self.root, self.dcc_programming_enabled,
                                                          self.dcc_power_off, self.dcc_power_on))
+        self.utilities_menu.add_command(label =" DCC Mappings...",
+                command=lambda:utilities.dcc_mappings(self.root))
         self.mainmenubar.add_cascade(label = "Utilities", menu=self.utilities_menu)
         # Create the various menubar items for the Settings Dropdown
         self.settings_menu = Tk.Menu(self.mainmenubar,tearoff=False)
         self.settings_menu.add_command(label =" Canvas...",
                 command=lambda:menubar_windows.edit_canvas_settings(self.root, self.canvas_update))
+        self.settings_menu.add_command(label =" General...",
+                command=lambda:menubar_windows.edit_general_settings(self.root, self.general_settings_update))
+        self.settings_menu.add_command(label =" GPIO...",
+                command=lambda:menubar_windows.edit_gpio_settings(self.root, self.gpio_update))
+        self.settings_menu.add_command(label =" Logging...",
+                command=lambda:menubar_windows.edit_logging_settings(self.root, self.logging_update))
         self.settings_menu.add_command(label =" MQTT...",
                 command=lambda:menubar_windows.edit_mqtt_settings(self.root, self.mqtt_connect, self.mqtt_update))
         self.settings_menu.add_command(label =" SPROG...",
                 command=lambda:menubar_windows.edit_sprog_settings(self.root, self.sprog_connect, self.sprog_update))
-        self.settings_menu.add_command(label =" Logging...",
-                command=lambda:menubar_windows.edit_logging_settings(self.root, self.logging_update))
-        self.settings_menu.add_command(label =" Sensors...",
-                command=lambda:menubar_windows.edit_gpio_settings(self.root, self.gpio_update))
         self.mainmenubar.add_cascade(label = "Settings", menu=self.settings_menu)
         # Create the various menubar items for the Help Dropdown
         self.help_menu = Tk.Menu(self.mainmenubar,tearoff=False)
         self.help_menu.add_command(label =" Help...", command=lambda:menubar_windows.display_help(self.root))
         self.help_menu.add_command(label =" About...", command=lambda:menubar_windows.display_about(self.root))
         self.help_menu.add_command(label =" Info...", command=lambda:menubar_windows.edit_layout_info(self.root))
         self.mainmenubar.add_cascade(label = "Help", menu=self.help_menu)
         # Flag to track whether the new configuration has been saved or not
         # Used to enforce a "save as" dialog on the initial save of a new layout
         self.file_has_been_saved = False
         # Initialise the schematic - the Edit Mode flag is the 2nd param in the returned tuple from get_general
+        # Note the schematic module will then initialise the objects and run_layout modules with the canvas
         width, height, grid, snap_to_grid = settings.get_canvas()
         edit_mode = settings.get_general()[1]
         schematic.initialise(self.root, self.handle_canvas_event, width, height, grid, snap_to_grid, edit_mode)
         # Parse the command line arguments
         parser = argparse.ArgumentParser(description =  "Model railway signalling "+settings.get_general()[2],
                             formatter_class=lambda prog: argparse.HelpFormatter(prog,max_help_position=27))
         parser.add_argument("-d","--debug",dest="debug_mode",action='store_true',help="run editor with debug functions")
@@ -281,14 +283,16 @@
         else: self.automation_disable()
         # Set the edit mode (2nd param in the returned tuple)
         # Either of these calls will update run layout
         if settings.get_general()[1]: self.edit_mode()
         else: self.run_mode()
         # Create all the track sensor objects that have been defined
         self.gpio_update()
+        # Apply any other general settings
+        self.general_settings_update()
         
     # --------------------------------------------------------------------------------------
     # Callback function to handle the Toggle Mode Event ('m' key) from schematic.py
     # --------------------------------------------------------------------------------------
 
     def handle_canvas_event(self, event=None):
         # Note that event.keysym returns the character (event.state would be 'Control')
@@ -312,44 +316,50 @@
     #------------------------------------------------------------------------------------------
         
     def automation_enable(self):
         new_label = "Automation:On"
         self.mainmenubar.entryconfigure(self.auto_label, label=new_label)
         self.auto_label = new_label
         settings.set_general(automation=True)
-        run_layout.enable_automation()
+        run_layout.configure_automation(True)
 
     def automation_disable(self):
         new_label = "Automation:Off"
         self.mainmenubar.entryconfigure(self.auto_label, label=new_label)
         self.auto_label = new_label
         settings.set_general(automation=False)
-        run_layout.disable_automation()
+        run_layout.configure_automation(False)
 
     def edit_mode(self):
         if self.mode_label != "Mode:Edit":
             new_label = "Mode:Edit"
             self.mainmenubar.entryconfigure(self.mode_label, label=new_label)
             self.mode_label = new_label
             settings.set_general(editmode=True)
-            schematic.enable_editing()
+            schematic.configure_edit_mode(True)
+            library_common.configure_edit_mode(True)
+            objects.configure_edit_mode(True)
+            run_layout.configure_edit_mode(True)
         # Disable the automation menubar selection and set to "off" (automation is always disabled
         # in Run mode so we just need to update the indication (no need to update 'run_layout')
         new_label1 = "Automation:N/A"
         self.mainmenubar.entryconfigure(self.auto_label, state="disabled")
         self.mainmenubar.entryconfigure(self.auto_label, label=new_label1)
         self.auto_label = new_label1
         
     def run_mode(self):
         if self.mode_label != "Mode:Run":
             new_label = "Mode:Run"
             self.mainmenubar.entryconfigure(self.mode_label, label=new_label)
             self.mode_label = new_label
             settings.set_general(editmode=False)
-            schematic.disable_editing()
+            schematic.configure_edit_mode(False)
+            objects.configure_edit_mode(False)
+            library_common.configure_edit_mode(False)
+            run_layout.configure_edit_mode(False)
         # Enable the the automation menubar selection and update to reflect the current setting
         # Note that automation is only enbled in Run mode so we just need to update the indication
         # no need to update 'run_layout'. Note the Automation flag is the fifth parameter returned
         if settings.get_general()[4]: new_label1 = "Automation:On"
         else: new_label1 = "Automation:Off"
         self.mainmenubar.entryconfigure(self.auto_label, state="normal")
         self.mainmenubar.entryconfigure(self.auto_label, label=new_label1)
@@ -479,15 +489,15 @@
         mqtt_interface.configure_mqtt_client(network, node, debug, publish_shutdown, act_on_shutdown,
                         shutdown_callback = lambda:self.quit_schematic(ask_for_confirm=False))
         
     def mqtt_reconfigure_pub_sub(self):
         dcc_control.reset_mqtt_configuration()
         dcc_control.set_node_to_publish_dcc_commands(settings.get_pub_dcc())
         dcc_control.subscribe_to_dcc_command_feed(*settings.get_sub_dcc_nodes())
-        objects.mqtt_update_sensors(settings.get_pub_sensors(), settings.get_sub_sensors())
+        objects.mqtt_update_gpio_sensors(settings.get_pub_sensors(), settings.get_sub_sensors())
         objects.mqtt_update_signals(settings.get_pub_signals(), settings.get_sub_signals())
         objects.mqtt_update_sections(settings.get_pub_sections(), settings.get_sub_sections())
         objects.mqtt_update_instruments(settings.get_pub_instruments(), settings.get_sub_instruments())
 
     #------------------------------------------------------------------------------------------
     # OTHER menubar functions
     #------------------------------------------------------------------------------------------
@@ -502,20 +512,24 @@
         elif log_level == 2: logging.getLogger().setLevel(logging.WARNING)
         elif log_level == 3: logging.getLogger().setLevel(logging.INFO)
         elif log_level == 4: logging.getLogger().setLevel(logging.DEBUG)
 
     def gpio_update(self):
         trigger, timeout, mappings = settings.get_gpio()
         # Generate a pop-up warning if mappings have been defined but we are not running on a Pi
-        if len(mappings)>0 and not track_sensors.raspberry_pi:
+        if len(mappings)>0 and not gpio_sensors.gpio_interface_enabled():
             Tk.messagebox.showwarning(parent=self.root, title="GPIO Warning",
                     message="Not running on Raspberry Pi - no track sensors will be active")
         # Delete all track sensor objects and then re-create from the updated settings - we do this
         # even if not running on a Raspberry Pi (to enable transfer of layout files between platforms)
-        objects.update_local_sensors(trigger, timeout, mappings)
+        objects.update_local_gpio_sensors(trigger, timeout, mappings)
+
+    def general_settings_update(self):
+        # The spad popups enabled flag is the 6th parameter returned
+        run_layout.configure_spad_popups(settings.get_general()[5])
 
     #------------------------------------------------------------------------------------------
     # FILE menubar functions
     #------------------------------------------------------------------------------------------
 
     def quit_schematic(self, ask_for_confirm:bool=True):
         # Note that 'confirmation' is defaulted to 'True' for normal use (i.e. when this function
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/menubar_windows.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/menubar_windows.py`

 * *Files 2% similar despite different names*

```diff
@@ -51,29 +51,29 @@
 #    common.entry_box
 #    common.integer_entry_box
 #    common.window_controls
 #    common.CreateToolTip
 #    common.scrollable_text_box
 #
 # Uses the following library functions:
-#    track_sensors.get_list_of_available_ports() - to get a list of supported ports
+#    gpio_sensors.get_list_of_available_ports() - to get a list of supported ports
 #    mqtt_interface.get_node_status() - to get a list of connected nodes and timestamps
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 import webbrowser
 
 from tkinter import ttk
 
 import time
 import datetime
 
 from . import common
 from . import settings
-from ..library import track_sensors
+from ..library import gpio_sensors
 from ..library import mqtt_interface
 
 #------------------------------------------------------------------------------------
 # Class for the "Help" window - Uses the common.scrollable_text_box.
 # Note that if a window is already open then we just raise it and exit.
 #------------------------------------------------------------------------------------
 
@@ -978,32 +978,35 @@
         self.frame = Tk.Frame(parent_frame)
         self.frame.pack()
         # Create the label and call the parent init function to create the EB
         self.label = Tk.Label(self.frame, width=8, text=label)
         self.label.pack(side=Tk.LEFT)
         super().__init__(self.frame, tool_tip=tool_tip, callback=callback)
         super().pack(side=Tk.LEFT)
+        # Create the Signal/Track sensor 'mapping' label
+        self.mapping = Tk.Label(self.frame, width=16, anchor='w')
+        self.mapping.pack(side=Tk.LEFT,padx=5)
     
 class gpio_port_entry_frame():
     def __init__(self, parent_frame):
         # Create the Label frame for the GPIO port assignments 
-        self.frame = Tk.LabelFrame(parent_frame, text="Track Sensors")
+        self.frame = Tk.LabelFrame(parent_frame, text="GPIO port to GPIO Sensor mappings")
         self.frame.pack(padx=2, pady=2, fill='x')
         self.list_of_subframes = []
         self.list_of_entry_boxes = []                
-        self.list_of_available_gpio_ports = track_sensors.get_list_of_available_ports()
+        self.list_of_available_gpio_ports = gpio_sensors.get_list_of_available_ports()
         while len(self.list_of_entry_boxes) < len(self.list_of_available_gpio_ports):
             # Create the Frame for the row
             self.list_of_subframes.append(Tk.Frame(self.frame))
             self.list_of_subframes[-1].pack(side=Tk.LEFT, padx=2, fill='x')
             # Create the entry_boxes for the row
-            for value in range (5):
+            for value in range (10):
                 if len(self.list_of_entry_boxes) == len(self.list_of_available_gpio_ports): break
                 label = "GPIO-"+str(self.list_of_available_gpio_ports[len(self.list_of_entry_boxes)])
-                tool_tip = "Enter a Sensor ID to be associated with this GPIO port (or leave blank)"
+                tool_tip = "Enter a GPIO Sensor ID to be associated with this GPIO port (or leave blank)"
                 self.list_of_entry_boxes.append(gpio_port_entry_box(self.list_of_subframes[-1],
                                             label=label, tool_tip=tool_tip, callback=self.validate))
                 
     def validate(self):
         valid = True
         # First do the basic validation on all entry boxes - we do this every time to
         # clear any duplicate entry validation errors that may now have been corrected
@@ -1028,19 +1031,25 @@
     
     def set_values(self,list_of_mappings:[[int,int],]):
         # Clear down all entry boxes first before re-populating as we only
         # populate those where a mapping has been defined
         for index, gpio_port in enumerate(self.list_of_available_gpio_ports):
             self.list_of_entry_boxes[index].set_value(None)
         # Mappings is a variable length list of sensor to gpio mappings [sensor,gpio]
-        for mapping in list_of_mappings:
-            for index, gpio_port in enumerate(self.list_of_available_gpio_ports):
-                if gpio_port == mapping[1]:
-                    self.list_of_entry_boxes[index].set_value(mapping[0])
-                    break        
+        for index, gpio_port in enumerate(self.list_of_available_gpio_ports):
+            self.list_of_entry_boxes[index].mapping.config(text="-------------------------")
+            for gpio_mapping in list_of_mappings:
+                if gpio_port == gpio_mapping[1]:
+                    event_mappings = gpio_sensors.get_gpio_sensor_callback(gpio_mapping[0])
+                    if event_mappings[0] > 0: mapping_text = u"\u2192"+" Signal "+str(event_mappings[0])
+                    elif event_mappings[1] > 0: mapping_text = u"\u2192"+" Signal "+str(event_mappings[1])
+                    elif event_mappings[2] > 0: mapping_text = u"\u2192"+" Track Sensor "+str(event_mappings[2])
+                    else: mapping_text="-------------------------"
+                    self.list_of_entry_boxes[index].set_value(gpio_mapping[0])
+                    self.list_of_entry_boxes[index].mapping.config(text=mapping_text)
 
 #------------------------------------------------------------------------------------
 # Class for the "Sensors" window - Uses the classes above. Note the init function takes
 # in a callback so it can apply the updated settings in the main editor application.
 # Note also that if a window is already open then we just raise it and exit.
 #------------------------------------------------------------------------------------
 
@@ -1070,15 +1079,15 @@
             self.subframe1.pack(padx=2, pady=2, fill='x')
             # Put the elements in a subframe to center them
             self.subframe2 = Tk.Frame(self.subframe1)
             self.subframe2.pack()
             self.label1 = Tk.Label(self.subframe2, text="Delay (ms):")
             self.label1.pack(side=Tk.LEFT, padx=2, pady=2, fill='x')
             self.trigger = common.integer_entry_box(self.subframe2, width=5, min_value=0, max_value=1000, allow_empty=False,
-                tool_tip="Enter the delay period (before track sensor events will be triggered) in milliseconds (0-1000)")
+                tool_tip="Enter the delay period (before GPIO sensor events will be triggered) in milliseconds (0-1000)")
             self.trigger.pack(side=Tk.LEFT, padx=2, pady=2, fill='x')
             self.label2 = Tk.Label(self.subframe2, text="Timeout (ms):")
             self.label2.pack(side=Tk.LEFT, padx=2, pady=2, fill='x')
             self.timeout = common.integer_entry_box(self.subframe2, width=5, min_value=0, max_value=5000, allow_empty=False, 
                 tool_tip="Enter the timeout period (during which further triggers will be ignored) in milliseconds (0-5000)")
             self.timeout.pack(side=Tk.LEFT, padx=2, pady=2, fill='x')
             # Create the Label frame for the GPIO port assignments 
@@ -1104,19 +1113,70 @@
             self.validation_error.pack_forget()
             mappings = self.gpio.get_values()
             trigger = float(self.trigger.get_value())/1000
             timeout = float(self.timeout.get_value())/1000
             settings.set_gpio(trigger, timeout, mappings)
             # Make the callback to apply the updated settings
             self.update_function()
-            # close the window (on OK)
-            if close_window: self.close_window() 
+            # Close the window (on OK) or refresh the display (on APPLY)
+            if close_window: self.close_window()
+            else: self.load_state()
         else:
             # Display the validation error message
             self.validation_error.pack(side=Tk.BOTTOM, before=self.controls.frame)
 
     def close_window(self):
         global edit_gpio_settings_window
         edit_gpio_settings_window = None
         self.window.destroy()
 
+#------------------------------------------------------------------------------------
+# Class for the General Settings toolbar window. Note the init function takes
+# in a callback so it can apply the updated settings in the main editor application.
+# Note also that if a window is already open then we just raise it and exit.
+#------------------------------------------------------------------------------------
+
+edit_general_settings_window = None
+
+class edit_general_settings():
+    def __init__(self, root_window, update_function):
+        global edit_general_settings_window
+        # If there is already a  window open then we just make it jump to the top and exit
+        if edit_general_settings_window is not None:
+            edit_general_settings_window.lift()
+            edit_general_settings_window.state('normal')
+            edit_general_settings_window.focus_force()
+        else:
+            self.update_function = update_function
+            # Create the (non resizable) top level window for the General Settings
+            self.window = Tk.Toplevel(root_window)
+            self.window.title("General")
+            self.window.protocol("WM_DELETE_WINDOW", self.close_window)
+            self.window.resizable(False, False)
+            edit_general_settings_window = self.window
+            # Create the "SPAD Popups" selection element
+            self.spad = common.check_box(self.window, label="Enable Signal Passed at Danger popup warnings",
+                    tool_tip="Select to Enable popup Signal Passed at Danger (SPAD) and other track occupancy warnings")
+            self.spad.pack(padx=2, pady=2)
+            # Create the common Apply/OK/Reset/Cancel buttons for the window
+            self.controls = common.window_controls(self.window, self.load_state, self.save_state, self.close_window)
+            self.controls.frame.pack(padx=2, pady=2)
+            # Load the initial UI state
+            self.load_state()
+
+    def load_state(self):
+        # Spad Popups flag is the 6th parameter returned from get_general
+        self.spad.set_value(settings.get_general()[5])
+
+    def save_state(self, close_window:bool):
+        settings.set_general(spad=self.spad.get_value())
+        # Make the callback to apply the updated settings
+        self.update_function()
+        # close the window (on OK )
+        if close_window: self.close_window()
+
+    def close_window(self):
+        global edit_general_settings_window
+        edit_general_settings_window = None
+        self.window.destroy()
+
 #############################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/run_layout.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/run_layout.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,93 +1,95 @@
 #------------------------------------------------------------------------------------
 # This module contains all the functions to "run" the layout
 #
 # External API functions intended for use by other editor modules:
 #    initialise(canvas) - sets a global reference to the tkinter canvas object
 #    initialise_layout() - call after object changes/deletions or load of a new schematic
-#    schematic_callback(item_id,callback_type) - the callback for all schematic objects
-#    enable_editing() - Call when 'Edit' Mode is selected (from Schematic Module)
-#    disable_editing() - Call when 'Run' Mode is selected (from Schematic Module)
-#    enable_automation() - Call when Automation is enabled (from Editor Module)
-#    disable_automation() - Call when Automation is disabled (from Editor Module)
+#    schematic_callback(item_id,callback_type) - the callback for all library objects
+#    configure_edit_mode(edit_mode) - Set the mode - True for Edit Mode, False for Run Mode
+#    configure_automation(auto_enabled) - Call to set automation mode (from Editor Module)
+#    configure_spad_popups(spad_enabled) - Call to set SPAD popup warnings (from Editor Module)
 #
 # Makes the following external API calls to other editor modules:
 #    objects.signal(signal_id) - To get the object_id for a given signal_id
 #    objects.point(point_id) - To get the object_id for a given point_id
 #    objects.section(section_id) - To get the object_id for a given section_id
+#    objects.track_sensor(sensor_id) - To get the object_id for a given sensor_id
 #    
 # Accesses the following external editor objects directly:
 #    objects.schematic_objects - the dict holding descriptions for all objects
 #    objects.object_type - used to establish the type of the schematic objects
 #    objects.signal_index - To iterate through all the signal objects
 #    objects.point_index - To iterate through all the point objects
 #    objects.section_index - To iterate through all the section objects
 #
 # Accesses the following external library objects directly:
 #    signals_common.route_type - for accessing the enum value
 #    signals_common.sig_type - for accessing the enum value
+#    signals_common.signal_state_type - for accessing the enum value
 #    signals_common.sig_callback_type - for accessing the enum value
 #    points.point_callback_type - for accessing the enum value
 #    track_sections.section_callback_type - for accessing the enum value
 #    block_instruments.block_callback_type - for accessing the enum value
-#    block_instruments.block_section_ahead_clear - for interlocking
 #    signals_colour_lights.signal_sub_type - for accessing the enum value
 #    signals_semaphores.semaphore_sub_type - for accessing the enum value
-#    signals_ground_position.ground_pos_sub_type - for accessing the enum value
-#    signals_ground_disc.ground_disc_sub_type - for accessing the enum value
+#    track_sensors.track_sensor_callback_type - for accessing the enum value
 #
 # Makes the following external API calls to library modules:
 #    signals.signal_state(sig_id) - For testing the current displayed aspect
 #    signals.update_signal(sig_id, sig_ahead_id) - To update the signal aspect
 #    signals.signal_clear(sig_id, sig_route) - To test if a signal is clear
 #    signals.subsidary_clear(sig_id) - to test if a subsidary is clear
 #    signals.lock_signal(sig_id) - To lock a signal
 #    signals.unlock_signal(sig_id) - To unlock a signal
 #    signals.lock_subsidary(sig_id) - To lock a subsidary signal
 #    signals.unlock_subsidary(sig_id) - To unlock a subsidary signal
-#    signals.toggle_signal(sig_id) - To toggle a signal state
-#    signals.toggle_subsidary(sig_id) - To toggle a subsidary signal state
+#    signals.set_approach_control - Enable approach control mode for the signal
+#    signals.clear_approach_control - Clear approach control mode for the signal
 #    signals.set_route(sig_id, sig_route, theatre) - To set the route for the signal
 #    signals.trigger_timed_signal(sig_id, T1, T2) - Trigger timed signal sequence
-#    points.fpl_active(point_id) - To test if a facing point lock is active
-#    points.toggle_fpl(point_id) - To toggle the state of the point FPL
-#    points.point_switched(point_id) - To test if a point is switched
-#    points.toggle_point(point_id) - To toggle the state of the point
-#    points.lock_point(point_id) - To intelock a point
-#    points.unlock_point(point_id) - To intelock a point
-#    track_sections.set_section_occupied (section_id) - Set "Occupied"
-#    track_sections.clear_section_occupied (section_id) - Clear "Occupied"
+#    signals.set_signal_override - Override the signal to DANGER
+#    signals.clear_signal_override - Clear the Signal override DANGER mode
+#    signals.set_signal_override_caution - Override the signal to CAUTION
+#    signals.clear_signal_override_caution - Clear the Signal override CAUTION mode
+#    points.fpl_active(point_id) - Test if the FPL is active (for interlocking)
+#    points.point_switched(point_id) - Test if the point is switched (for interlocking)
+#    points.lock_point(point_id) - Lock a point (for interlocking)
+#    points.unlock_point(point_id) - Unlock a point (for interlocking)
+#    block_instruments.block_section_ahead_clear(inst_id) - Get the state (for interlocking)
+#    track_sections.set_section_occupied (section_id) - Set Track Section to "Occupied"
+#    track_sections.clear_section_occupied (section_id) - Set Track Section to "Clear"
 #    track_sections.section_occupied (section_id) - To test if a section is occupied
-#
+#    track_sections.section_label - get the current label for an occupied section
 #------------------------------------------------------------------------------------
 
 import logging
-
+import tkinter as Tk
 from typing import Union
 
 from ..library import signals
 from ..library import points
 from ..library import block_instruments
 from ..library import signals_common
 from ..library import signals_semaphores
 from ..library import signals_colour_lights
-from ..library import signals_ground_position
-from ..library import signals_ground_disc
 from ..library import track_sections
+from ..library import track_sensors
 
 from . import objects
 
 #------------------------------------------------------------------------------------
 # The Tkinter Canvas Object is saved as a global variable for easy referencing
-# The editing_enabled and automation_enabled flags control the behavior of run_layout
+# The editing_enabled and run_mode flags control the behavior of run_layout
 #------------------------------------------------------------------------------------
 
 canvas = None
-editing_enabled = None
+run_mode = None
 automation_enabled = None
+spad_popups = False
 enhanced_debugging = False  # Switch this on to enable 'info'
 
 #------------------------------------------------------------------------------------
 # The set_canvas function is called at application startup (on canvas creation)
 #------------------------------------------------------------------------------------
 
 def initialise(canvas_object):
@@ -95,36 +97,29 @@
     canvas = canvas_object
     return()
 
 #------------------------------------------------------------------------------------
 # The behavior of the layout processing will change depending on what mode we are in
 #------------------------------------------------------------------------------------
 
-def enable_editing():
-    global editing_enabled
-    editing_enabled = True
+def configure_edit_mode(edit_mode:bool):
+    global run_mode
+    run_mode = not edit_mode
     initialise_layout()
     return()
 
-def disable_editing():
-    global editing_enabled
-    editing_enabled = False
-    initialise_layout()
-    return()
-
-def enable_automation():
+def configure_automation(automation:bool):
     global automation_enabled
-    automation_enabled = True
+    automation_enabled = automation
     initialise_layout()
     return()
 
-def disable_automation():
-    global automation_enabled
-    automation_enabled = False
-    initialise_layout()
+def configure_spad_popups(popups:bool):
+    global spad_popups
+    spad_popups = popups
     return()
 
 #------------------------------------------------------------------------------------
 # Internal helper Function to find if an ID is a local (int) or remote (str) Item ID
 #------------------------------------------------------------------------------------
 
 def is_local_id(item_id:Union[int,str]):
@@ -178,74 +173,75 @@
     signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
     return( ( signal_object["itemtype"] == signals_common.sig_type.colour_light.value and
               signal_object["itemsubtype"] == signals_colour_lights.signal_sub_type.distant.value ) or
             ( signal_object["itemtype"] == signals_common.sig_type.semaphore.value and
               signal_object["itemsubtype"] == signals_colour_lights.signal_sub_type.distant.value ) )
 
 #------------------------------------------------------------------------------------
-# Internal helper Function to find if a signal is a shunt-ahead ground signal
-# Note the function should only be called for local signals (sig ID is an integer)
-#------------------------------------------------------------------------------------
-
-def is_shunt_ahead_signal(int_signal_id:int):
-    signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
-    return( ( signal_object["itemtype"]  == signals_common.sig_type.ground_position.value and
-              signal_object["itemsubtype"] == signals_ground_position.ground_pos_sub_type.shunt_ahead.value ) or
-            ( signal_object["itemtype"] == signals_common.sig_type.ground_position.value and
-              signal_object["itemsubtype"] == signals_ground_position.ground_pos_sub_type.early_shunt_ahead.value ) or
-            ( signal_object["itemtype"] == signals_common.sig_type.ground_disc.value and
-              signal_object["itemsubtype"] == signals_ground_disc.ground_disc_sub_type.shunt_ahead.value ) )
-
-#------------------------------------------------------------------------------------
-# Internal common Function to find the first set/cleared route for a signal object
-# Note the function should only be called for local signals (sig ID is an integer)
-#------------------------------------------------------------------------------------
-
-def find_signal_route(int_signal_id:int):
-    signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
-    signal_route = None
-    # Iterate through all possible routes supported by the signal
-    # Each route comprises: [[p1, p2, p3, p4, p5, p6, p7] signal, block_inst]
-    # Each point element comprises [point_id, point_state]
-    for index, interlocked_route in enumerate(signal_object["pointinterlock"]):
-        route_set_and_locked = True
-        route_has_points = False
-        # Iterate through the route to see if the points are set correctly 
-        for interlocked_point in interlocked_route[0]:
-            if interlocked_point[0] > 0:
+# Common Function to find the first valid route (all points set correctly) for a Signal or Track Sensor
+# The 'locked' flag is also returned to signify whether all facing point locks or active. This allows
+# most functions to use just the returned route - the interlocking functions care about the FPLs.
+# For both signals and track sensors, a route table comprises a list of routes: [MAIN, LH1, LH2, RH1, RH2]
+# For a signal, each route entry comprises: [[p1, p2, p3, p4, p5, p6, p7] signal_id, block_inst_id]
+# For a Track Sensor, each route entry comprises: [[p1, p2, p3, p4, p5, p6, p7] section_id]
+# Each route comprises: [[p1, p2, p3, p4, p5, p6, p7] signal, block_inst]
+# Each point element comprises [point_id, point_state]
+#------------------------------------------------------------------------------------
+
+def find_route(object_id, dict_key:str):
+    route_to_return = None
+    # Iterate through each route in the specified table 
+    for index, route_entry in enumerate(objects.schematic_objects[object_id][dict_key]):
+        route_has_points, valid_route, points_locked = False, True, True
+        # Iterate through the points to see if they are set and locked for the route 
+        for point_entry in route_entry[0]:
+            if point_entry[0] > 0:
                 route_has_points = True
-                if (not points.fpl_active(interlocked_point[0]) or not
-                      points.point_switched(interlocked_point[0]) == interlocked_point[1] ):
-                    # If the point is not set/locked correctly then break straight away
-                    route_set_and_locked = False
-                    break
+                if not points.point_switched(point_entry[0]) == point_entry[1]:
+                    valid_route = False
+                if not points.fpl_active(point_entry[0]):
+                    points_locked = False
+                if not valid_route: break
         # Valid route if all points on the route are set and locked correctly
         # Or if the route is MAIN and no points have been specified for the route
-        if (index == 0 and not route_has_points) or (route_has_points and route_set_and_locked):
-            signal_route = signals_common.route_type(index+1)
+        if (index == 0 and not route_has_points) or (route_has_points and valid_route):
+            route_to_return = signals_common.route_type(index+1)
             break
-    return(signal_route)
+    return(route_to_return, points_locked)
+
+#------------------------------------------------------------------------------------
+# The following two functions build on the above. The first function just returns the route
+# and is used by most of the Run Layout functions. The second function only returns the route
+# if all FPLs for the route are active. This is used by the interlocking functions
+#------------------------------------------------------------------------------------
+
+def find_valid_route(object_id, dict_key:str):
+    route, locked = find_route(object_id, dict_key)
+    return(route)
+
+def find_locked_route(object_id, dict_key:str):
+    route, locked = find_route(object_id, dict_key)
+    if not locked: route = None
+    return(route)
 
 #------------------------------------------------------------------------------------
 # Internal common Function to find the 'signal ahead' of a signal object (based on
 # the route that has been set (points correctly set and locked for the route)
 # Note the function should only be called for local signals (sig ID is an integer)
 # but can return either local or remote IDs (int or str) - both returned as a str
 # If no route is set/locked or no sig ahead is specified then 'None' is returned
-# Note the function should only be called for local signals (sig ID is an integer)
 #------------------------------------------------------------------------------------
 
 def find_signal_ahead(int_signal_id:int):
     str_signal_ahead_id = None
-    signal_route = find_signal_route(int_signal_id)
+    signal_route = find_valid_route(objects.signal(int_signal_id),"pointinterlock")
     if signal_route is not None:
         signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
         str_signal_ahead_id = signal_object["pointinterlock"][signal_route.value-1][1]
         if str_signal_ahead_id == "": str_signal_ahead_id = None
-        if not signals_common.sig_exists(str_signal_ahead_id): str_signal_ahead_id = None
     return(str_signal_ahead_id)
 
 #------------------------------------------------------------------------------------
 # Internal common Function to find the 'signal behind' a signal object by testing each
 # of the other signal objects in turn to find the route that has been set and then see
 # if the 'signal ahead' on the set route matches the signal passed into the function 
 # Note the function should only be called for local signals (sig ID is an integer)
@@ -274,15 +270,16 @@
 
 def home_signal_ahead_at_danger(int_signal_id:int, recursion_level:int=0):
     home_signal_at_danger = False
     if recursion_level < 20:
         str_signal_ahead_id = find_signal_ahead(int_signal_id)
         if str_signal_ahead_id is not None and is_local_id(str_signal_ahead_id):
             int_signal_ahead_id = int(str_signal_ahead_id)
-            if is_home_signal(int_signal_ahead_id) and signals.signal_state(int_signal_ahead_id) == signals_common.signal_state_type.DANGER:
+            if ( is_home_signal(int_signal_ahead_id) and
+                 signals.signal_state(int_signal_ahead_id) == signals_common.signal_state_type.DANGER):
                 home_signal_at_danger = True
             elif is_home_signal(int_signal_ahead_id) and not has_distant_arms(int_signal_ahead_id):
                 # Call the function recursively to find the next signal ahead
                 home_signal_at_danger = home_signal_ahead_at_danger(int_signal_ahead_id, recursion_level+1)
     else:
         logging.error("RUN LAYOUT - Interlock with Signal ahead - Maximum recursion level reached")
     return(home_signal_at_danger)
@@ -361,15 +358,15 @@
 #------------------------------------------------------------------------------------
 # Function to update the signal route based on the 'interlocking routes' configuration
 # of the signal and the current setting of the points (and FPL) on the schematic
 # Note the function should only be called for local signals (sig ID is an integer)
 #------------------------------------------------------------------------------------
 
 def set_signal_route(int_signal_id:int):
-    signal_route = find_signal_route(int_signal_id)
+    signal_route = find_valid_route(objects.signal(int_signal_id),"pointinterlock")
     if signal_route is not None:
         signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
         # Set the Route (and any associated route indication) for the signal
         # Note that the main route is the second element (the first element is the dark aspect)
         theatre_text = signal_object["dcctheatre"][signal_route.value][0]
         signals.set_route(int_signal_id, route=signal_route, theatre_text=theatre_text)
         # For Semaphore Signals with secondary distant arms we also need
@@ -381,15 +378,15 @@
 
 #------------------------------------------------------------------------------------
 # Function to trigger any timed signal sequences (from the signal 'passed' event)
 # Note the function should only be called for local signals (sig ID is an integer)
 #------------------------------------------------------------------------------------
 
 def trigger_timed_sequence(int_signal_id:int):
-    signal_route = find_signal_route(int_signal_id)
+    signal_route = find_valid_route(objects.signal(int_signal_id),"pointinterlock")
     if signals.signal_clear(int_signal_id) and signal_route is not None:
         signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
         # Get the details of the timed signal sequence to initiate
         # Each route comprises a list of [selected, sig_id,start_delay, time_delay)
         trigger_signal = signal_object["timedsequences"][signal_route.value-1][0] 
         int_sig_id_to_trigger = signal_object["timedsequences"][signal_route.value-1][1]
         start_delay = signal_object["timedsequences"][signal_route.value-1][2]
@@ -414,15 +411,15 @@
 #------------------------------------------------------------------------------------
 
 def update_signal_approach_control(int_signal_id:int, force_set:bool, recursion_level:int=0):
     if recursion_level < 20:
         signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
         if (signal_object["itemtype"] == signals_common.sig_type.colour_light.value or
                  signal_object["itemtype"] == signals_common.sig_type.semaphore.value):
-            signal_route = find_signal_route(int_signal_id)
+            signal_route = find_valid_route(objects.signal(int_signal_id),"pointinterlock")
             if signal_route is not None:
                 # The "approachcontrol" element is a list of routes [Main, Lh1, Lh2, Rh1, Rh2]
                 # Each element represents the approach control mode that has been set
                 # release_on_red=1, release_on_yel=2, released_on_red_home_ahead=3
                 if signal_object["approachcontrol"][signal_route.value-1] == 1:
                     signals.set_approach_control(int_signal_id, release_on_yellow=False, force_set=force_set)
                 elif signal_object["approachcontrol"][signal_route.value-1] == 2:
@@ -440,98 +437,219 @@
         if int_signal_behind_id is not None:
             update_signal_approach_control(int_signal_behind_id, False, recursion_level+1)
     else:
         logging.error("RUN LAYOUT - Update Approach Control on signals ahead - Maximum recursion level reached")
     return()
 
 #------------------------------------------------------------------------------------
-# Function to Update track occupancy (from the signal 'passed' event) - Note that we
-# have to use "signal clear" to assume the direction of travel. i.e. if the signal
-# sensor is triggered and the signal is CLEAR we assume the direction of travel
-# is towards the signal. If the signal is NOT CLEAR then we assume the direction of
-# travel is in the other direction (e.g. bi-directional line) and so take no action
-# Note the function should only be called for local signals (sig ID is an integer)
+# Functions to Update track occupancy (from the signal or Track Sensor 'passed' events)
+#
+# For signals, we ignore secondary 'signal passed' events - This is the case of a train passing
+# a signal (and getting passed from one Track Section to another) and then immediately passing an
+# opposing signal on the route ahead (where we don't want to erroneously pass the train back)
+# To enable this, all train movements (from one track section to the next) are stored in the
+# global list_of_movements and then deleted once a secondary 'signal passed' event occurs
 #------------------------------------------------------------------------------------
 
-def update_track_occupancy(int_signal_id:int):
-    signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
-    # Find the section ahead and section behind the signal (0 = No section)
-    # If the returned route is none we assume the default route of MAIN to
-    # cater for passing distant signals where the route (controlling the
-    # distant route aspect) may not be set and locked ahead of the home
-    # signal ahead - it is perfectly valid to pass the distant at caution
-    signal_route = find_signal_route(int_signal_id)
-    if signal_route is not None:
-        int_section_ahead = signal_object["tracksections"][1][signal_route.value-1][0]
-    else:
-        int_section_ahead = signal_object["tracksections"][1][0][0]
-    int_section_behind = signal_object["tracksections"][0]
-    # Distant signals and shunt-ahead signals can be passed when ON so we need
-    # to assume the direction of travel depending on which section on each side
-    # of the signal is CLEAR and which is OCCUPIED. If both sections are CLEAR
-    # or both sections are OCCUPIED when the signal passed event is generated
-    # then we cannot infer or assume anything - and therefore take no action
-    if is_distant_signal(int_signal_id) or is_shunt_ahead_signal(int_signal_id):
-        if ( int_section_ahead > 0 and track_sections.section_occupied(int_section_ahead) and
-             int_section_behind > 0 and not track_sections.section_occupied(int_section_behind) ):
-            # Section ahead of signal is OCCUPIED and section behind is CLEAR
-            # Assume Direction of travel 'against' the signal (and 'pass' the train)
-            track_sections.set_section_occupied (int_section_behind,
-                   track_sections.clear_section_occupied(int_section_ahead))
-        elif ( int_section_ahead > 0 and not track_sections.section_occupied(int_section_ahead) and
-             int_section_behind > 0 and track_sections.section_occupied(int_section_behind) ):
-            # Section behind signal is OCCUPIED and section ahead is CLEAR
-            # Assume Direction of travel 'with' the signal (and 'pass' the train)
-            track_sections.set_section_occupied (int_section_ahead,
-                   track_sections.clear_section_occupied(int_section_behind))
-        elif int_section_ahead > 0 and not track_sections.section_occupied(int_section_ahead):
-            # Section ahead of signal is CLEAR - section behind doesn't exist
-            # Assume Direction of travel 'with' the signal - set section ahead to OCCUPIED
-            track_sections.set_section_occupied(int_section_ahead)
-        elif int_section_behind > 0 and not track_sections.section_occupied(int_section_behind):
-            # Section behind signal is CLEAR - section ahead doesn't exist
-            # Assume Direction of travel 'against' the signal - set section behind to OCCUPIED
-           track_sections.set_section_occupied(int_section_behind)
-        elif int_section_ahead > 0 and track_sections.section_occupied(int_section_ahead):
-            # Section ahead of signal is OCCUPIED - section behind doesn't exist
-            # Assume Direction of travel 'against' the signal - set section ahead to CLEAR
-            track_sections.clear_section_occupied(int_section_ahead)
-        elif int_section_behind > 0 and track_sections.section_occupied(int_section_behind):
-            # Section behind signal is OCCUPIED - section ahead doesn't exist
-            # Assume Direction of travel 'with' the signal - set section behind to CLEAR
-            track_sections.clear_section_occupied(int_section_behind)
-    # Non-distant signals can only be passed when CLEAR (as long as the driver is
-    # doing their job properly) so we assume direction of travel is 'with' the signal
-    # This is also important to cater for the case of opposing signals protecting
-    # points (with no track sections in between) - in this case, both signals will
-    # generate 'passed' events but we only act on the route that has been cleared
-    elif ( signals.signal_clear(int_signal_id) or ( has_subsidary(int_signal_id)
-                    and signals.subsidary_clear(int_signal_id) ) ):
-        if int_section_ahead > 0 and int_section_behind > 0:
-            # Sections ahead of and behind the signal both exist ('pass' the train)
-            track_sections.set_section_occupied (int_section_ahead,
-                   track_sections.clear_section_occupied(int_section_behind))
-        elif int_section_ahead > 0:
-            # Only the section ahead of the signal exists - set to OCCUPIED
-            # Assume Direction of travel 'against' the signal (and 'pass' train)
-            track_sections.set_section_occupied(int_section_ahead)
-        elif int_section_behind > 0:
-            # Only the section behind the signal exists - set to CLEAR
-            track_sections.clear_section_occupied(int_section_behind)
-    # Propagate changes to any mirrored track sections
-    if int_section_ahead > 0:
-        update_mirrored_section(int_section_ahead)
-    if int_section_behind > 0:
-        update_mirrored_section(int_section_behind)
+list_of_movements = []
+
+#------------------------------------------------------------------------------------
+# For both Signals and Track Sensors, we also ignore any events where we can't find a valid route
+# in the signal / Track Sensor configuration to identify the Track Sections either side
+#
+# Common logic that applies to all Signals and Track Sensor Types:
+#   - Section AHEAD = OCCUPIED and section BEHIND = CLEAR - Pass train from AHEAD to BEHIND
+#   - Section BEHIND = OCCUPIED and section AHEAD = CLEAR - Pass train from BEHIND to AHEAD
+#   -       (but raise SPAD warning if passing a signal and signal is displaying DANGER)
+#   - Section AHEAD = CLEAR - section BEHIND doesn't exist - set section AHEAD to OCCUPIED
+#   -       (but raise SPAD warning if passing a signal and signal is displaying DANGER)
+#   - Section BEHIND = CLEAR - section AHEAD doesn't exist - set section BEHIND to OCCUPIED
+#   - Section AHEAD = OCCUPIED - section BEHIND doesn't exist - set section AHEAD to CLEAR
+#   - Section BEHIND = OCCUPIED - section AHEAD doesn't exist -set section BEHIND to CLEAR
+#   -       (but raise SPAD warning if passing a signal and signal is displaying DANGER)
+#   - Section AHEAD = CLEAR and section BEHIND = CLEAR - No action (but raise a warning)
+#   - Section AHEAD = OCCUPIED and section BEHIND = OCCUPIED
+#          - If passing a Signal that is CLEAR - Pass train from BEHIND to AHEAD
+#          - Otherwise, no action (no idea) - but raise a warning
+#   - Section BEHIND doesn't exist and section AHEAD doesn't exist - No action
+#
+#------------------------------------------------------------------------------------
+
+def update_track_occupancy(object_id):
+    schematic_object = objects.schematic_objects[object_id]
+    item_type = schematic_object["item"]
+    # The track occupancy logic to apply will depend on the item type (and if a signal, its state)
+    if item_type == objects.object_type.signal:
+        update_track_occupancy_for_signal(object_id)
+    elif item_type == objects.object_type.track_sensor:
+        update_track_occupancy_for_track_sensor(object_id)
     return()
 
 #------------------------------------------------------------------------------------
-# Function to Update any mirrored track sections on a change to one track section
-# Note that the Track Section ID is a string (local or remote)
+# Signal specific logic for track occupancy updates
+#------------------------------------------------------------------------------------
+
+def update_track_occupancy_for_signal(object_id):
+    global list_of_movements
+    schematic_object = objects.schematic_objects[object_id]
+    item_id = schematic_object["itemid"]
+    item_text = "Signal "+str(item_id)
+    # Find the section ahead and section behind the signal (0 = No section). If the returned route is
+    # None for a semaphore distant signal then we assume a default route of MAIN. This is to cater for a
+    # train passing the semaphore distant where the route (controlling the distant arms) may not be set
+    # and locked for the home signal ahead - it is still perfectly valid to pass the distant at caution
+    section_behind = schematic_object["tracksections"][0]
+    route = find_valid_route(object_id, "pointinterlock")
+    if route is not None:
+        section_ahead = schematic_object["tracksections"][1][route.value-1][0]
+    elif is_distant_signal(item_id):
+        route = signals_common.route_type.MAIN
+        section_ahead = schematic_object["tracksections"][1][0][0]
+    else:
+        # There is no valid route for the signal so we cannot make any assumptions about the train movement.
+        section_ahead = 0
+        # However, note that the movement may be a possible "secondary event" - e.g. A train passes a signal
+        # protecting a trailing crossover (the primary event) and then the opposing signal controlling a
+        # movement back over the crossover (the secondary event). It may be that the second signal is only
+        # configured for the crossover move (there is no valid signal route back down the main line). In this
+        # case we don't want to raise a warning to the user - so we fail silently if the 'section_behind'
+        # matches a 'section_ahead' in the list of movements.
+        if True in list(element[1] == section_behind for element in list_of_movements):
+            logging.debug("RUN LAYOUT: "+item_text+" 'passed' - no valid route ahead of the Signal "+
+                        "but ignoring as this is a possible secondary event")
+        else:
+            log_text = item_text+" has been 'passed' but unable to determine train movement as there is no valid route ahead of the Signal"
+            logging.warning("RUN LAYOUT: "+log_text)
+            if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="Occupancy Error", message=log_text)
+    # Establish if this is a primary event or a secondary event (to a previous train movement). This is the
+    # case of a train passing a signal and then immediately passing an opposing signal on the route ahead
+    # The second event should be ignored as we don't want to pass the train back to the previous section.
+    is_secondary_event = False
+    if section_ahead > 0 and section_behind > 0:
+        if [section_ahead, section_behind] in list_of_movements:
+            list_of_movements.remove([section_ahead, section_behind])
+            is_secondary_event = True
+        elif [section_behind, section_ahead] not in list_of_movements:
+            list_of_movements.append([section_behind, section_ahead])
+    # Establish the state of the signal - if the subsidary aspect is clear or the main aspect not showing
+    # DANGER then we can assume any movement from the sectiion_behind to the section_ahead is valid.
+    # Otherwise we may need to raise a Signal Passed at Danger warning later on in the code
+    if ( (signals.signal_state(item_id) != signals_common.signal_state_type.DANGER) or
+         (has_subsidary(item_id) and signals.subsidary_clear(item_id)) ):
+        signal_clear = True
+    else:
+        signal_clear = False
+    if route is not None and not is_secondary_event:
+        process_track_occupancy(section_ahead, section_behind, item_text, signal_clear)
+    return()
+
 #------------------------------------------------------------------------------------
+# Track Sensor specific logic for track occupancy updates
+#------------------------------------------------------------------------------------
+
+def update_track_occupancy_for_track_sensor(object_id):
+    schematic_object = objects.schematic_objects[object_id]
+    item_id = schematic_object["itemid"]
+    item_text = "Track Sensor "+str(item_id)
+    # Find the section ahead and section behind the Track Sensor (0 = No section). If either of
+    # the returned routes are None we can't really assume anything so don't process any changes.
+    route_ahead = find_valid_route(object_id, "routeahead")
+    if route_ahead is None:
+        log_text = item_text+" has been 'passed' but unable to determine train movement as there is no valid route 'ahead of' the Track Sensor"
+        logging.warning("RUN LAYOUT: "+log_text)
+        if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="Occupancy Error", message=log_text)
+    else:
+        section_ahead = schematic_object["routeahead"][route_ahead.value-1][1]
+    route_behind = find_valid_route(object_id, "routebehind")
+    if route_behind is None:
+        log_text=item_text+" has been 'passed' but unable to determine train movement as there is no valid route 'behind' the Track Sensor"
+        logging.warning("RUN LAYOUT: "+log_text)
+        if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="Occupancy Error", message=log_text)
+    else:
+        section_behind = schematic_object["routebehind"][route_behind.value-1][1]
+    if route_ahead is not None and route_behind is not None:
+        process_track_occupancy(section_ahead, section_behind, item_text)
+    return()
+
+#------------------------------------------------------------------------------------
+# Common Track Occupancy logic - Track Sensors and Signals. If this function is
+# called for a track sensor then the sig_clear will default to None
+#------------------------------------------------------------------------------------
+
+def process_track_occupancy(section_ahead:int, section_behind:int, item_text:str, sig_clear:bool=None):
+    if ( section_ahead > 0 and track_sections.section_occupied(section_ahead) and
+         section_behind > 0 and not track_sections.section_occupied(section_behind) ):
+        # Section AHEAD = OCCUPIED and section BEHIND = CLEAR - Pass train from AHEAD to BEHIND
+        train_descriptor = track_sections.clear_section_occupied(section_ahead)
+        track_sections.set_section_occupied (section_behind, train_descriptor)
+    elif ( section_ahead > 0 and not track_sections.section_occupied(section_ahead) and
+         section_behind > 0 and track_sections.section_occupied(section_behind) ):
+        # Section BEHIND = OCCUPIED and section AHEAD = CLEAR - Pass train from BEHIND to AHEAD
+        train_descriptor = track_sections.clear_section_occupied(section_behind)
+        track_sections.set_section_occupied (section_ahead, train_descriptor)
+        if sig_clear == False:
+            log_text = item_text+" has been Passed at Danger by '"+train_descriptor+"'"
+            logging.warning("RUN LAYOUT: "+log_text)
+            if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="SPAD Warning", message=log_text)
+    elif section_ahead > 0 and section_behind == 0 and not track_sections.section_occupied(section_ahead):
+        # Section AHEAD = CLEAR - section BEHIND doesn't exist - set section ahead to OCCUPIED
+        track_sections.set_section_occupied(section_ahead)
+        if sig_clear == False:
+            log_text = item_text+" has been Passed at Danger by an unidentified train"
+            logging.warning("RUN LAYOUT: "+log_text)
+            if spad_popups:  Tk.messagebox.showwarning(parent=canvas, title="SPAD Warning", message=log_text)
+    elif section_behind > 0 and section_ahead == 0 and not track_sections.section_occupied(section_behind):
+        # Section BEHIND = CLEAR - section AHEAD doesn't exist - set section behind to OCCUPIED
+       track_sections.set_section_occupied(section_behind)
+    elif section_ahead > 0 and section_behind == 0 and track_sections.section_occupied(section_ahead):
+        #  Section AHEAD = OCCUPIED - section BEHIND doesn't exist - set section ahead to CLEAR
+        track_sections.clear_section_occupied(section_ahead)
+    elif section_behind > 0 and section_ahead == 0 and track_sections.section_occupied(section_behind):
+        # Section BEHIND = OCCUPIED - section AHEAD doesn't exist -set section behind to CLEAR
+        train_descriptor = track_sections.clear_section_occupied(section_behind)
+        if sig_clear == False:
+            log_text = item_text+" has been Passed at Danger by '"+train_descriptor+"'"
+            logging.warning("RUN LAYOUT: "+log_text)
+            if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="SPAD Warning", message=log_text)
+    elif ( section_ahead > 0 and not track_sections.section_occupied(section_ahead) and
+           section_behind > 0 and not track_sections.section_occupied(section_behind) ):
+        # Section BEHIND = CLEAR and section AHEAD = CLEAR - No idea
+        log_text = item_text+" has been 'passed' but unable to determine train movement as Track Sections ahead and behind are both CLEAR"
+        logging.warning("RUN LAYOUT: "+log_text)
+        if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="Occupancy Error", message=log_text)
+
+    elif ( section_ahead > 0 and track_sections.section_occupied(section_ahead) and
+           section_behind > 0 and track_sections.section_occupied(section_behind) ):
+        # Section BEHIND = OCCUPIED and section AHEAD = OCCUPIED
+        if sig_clear == True:
+            # Assume that the train BEHIND the signal will move into the section AHEAD
+            train_descriptor = track_sections.clear_section_occupied(section_behind)
+            train_ahead_descriptor = track_sections.section_label(section_ahead)
+            track_sections.set_section_occupied (section_ahead, train_descriptor)
+            log_text = (item_text+" has been Passed at Clear by '"+train_descriptor+"' and has entered Section occupied by '"
+                                   +train_ahead_descriptor+ "'. Check and update train descriptor as required")
+            logging.info("RUN LAYOUT: "+log_text)
+            if spad_popups: Tk.messagebox.showinfo(parent=canvas, title="Occupancy Update", message=log_text)
+        else:
+            # We have no idea what train has passed the Signal / Track Section
+            log_text = item_text+" has been 'passed' but unable to determine train movement as Track Sections ahead and behind are both OCCUPIED"
+            logging.warning("RUN LAYOUT: "+log_text)
+            if spad_popups: Tk.messagebox.showwarning(parent=canvas, title="Occupancy Error", message=log_text)
+    ############################################################################################
+    # Propagate changes to any mirrored track sections - To move into Library eventually #######
+    ############################################################################################
+    if section_ahead > 0: update_mirrored_section(section_ahead)
+    if section_behind > 0: update_mirrored_section(section_behind)
+    ############################################################################################
+    return()
+
+################################################################################################
+# Function to Update a mirrored track sections on a change to one track section. Note ##########
+# the Track Section ID is a string (local or remote) - To move into Library eventually #########
+################################################################################################
 
 def update_mirrored_section(int_or_str_section_id:Union[int,str], str_section_id_just_set:str="0", recursion_level:int=0):
     if recursion_level < 20:
        # Iterate through the other sections to see if any are set to mirror this section
         for str_section_id_to_test in objects.section_index:
             section_object_to_test = objects.schematic_objects[objects.section(str_section_id_to_test)]
             str_mirrored_section_id_of_object_to_test = section_object_to_test["mirror"]
@@ -554,31 +672,32 @@
                     update_mirrored_section(str_section_id_to_test,
                                 str_mirrored_section_id_of_object_to_test,
                                 recursion_level= recursion_level+1)
     else:
         logging.error("RUN LAYOUT - Update Mirrored Section - Maximum recursion level reached")
     return()
 
+################################################################################################
+
 #-------------------------------------------------------------------------------------
 # Function to update the Signal interlocking (against points & instruments). Called on
 # sig/sub_switched, point_switched fpl_switched or block_section_ahead_updated events
 # Note that this function processes updates for all local signals on the schematic
 #------------------------------------------------------------------------------------
 
 def process_all_signal_interlocking():
-    global editing_enabled
     for str_signal_id in objects.signal_index:
         int_signal_id = int(str_signal_id)
         # Note that the ID of any associated distant signal is sig_id+100
         int_associated_distant_id = int_signal_id + 100
         distant_arms_can_be_unlocked = has_distant_arms(int_signal_id)
         signal_can_be_unlocked = False
         subsidary_can_be_unlocked = False
-        # Find the route (where points are set/cleared)
-        signal_route = find_signal_route(int_signal_id)
+        # Find the signal route (all points are set and locked by their FPLs)
+        signal_route = find_locked_route(objects.signal(int_signal_id),"pointinterlock")
         # If there is a set/locked route then the signal/subsidary can be unlocked
         if signal_route is not None:
             signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
             # 'sigroutes' and 'subroutes' represent the routes supported by the
             # signal (and its subsidary) - of the form [main, lh1, lh2, rh1, rh2]
             if signal_object["sigroutes"][signal_route.value-1]:
                 signal_can_be_unlocked = True
@@ -618,15 +737,15 @@
                 else:
                     # Must be a distant signal (colour light or semaphore)
                     if not signals.signal_clear(signal_object["itemid"]):
                         signal_can_be_unlocked = False
             # Interlock against track sections on the route ahead - note that this is the
             # one bit of interlocking functionality that we can only do in RUN mode as
             # track section objects dont 'exist' as such in EDIT mode
-            if not editing_enabled:
+            if run_mode:
                 interlocked_sections = signal_object["trackinterlock"][signal_route.value-1]
                 for section in interlocked_sections:
                     if section > 0 and track_sections.section_occupied(section):
                         # Only lock the signal if it is already ON (we always need to allow the
                         # signalman to return the signal to ON if it is currently OFF
                         if not signals.signal_clear(signal_object["itemid"]):
                             signal_can_be_unlocked = False
@@ -694,15 +813,15 @@
             signals.clear_signal_override(int_signal_id)
             if has_distant_arms(int_signal_id):
                 signals.clear_signal_override(int_signal_id + 100)
 
     # Start of main function
     for str_signal_id in objects.signal_index:
         int_signal_id = int(str_signal_id)
-        signal_route = find_signal_route(int_signal_id)
+        signal_route = find_valid_route(objects.signal(int_signal_id),"pointinterlock")
         # Override/clear the current signal based on the section ahead
         override_signal = False
         if signal_route is not None:
             signal_object = objects.schematic_objects[objects.signal(int_signal_id)]
             list_of_sections_ahead = signal_object["tracksections"][1][signal_route.value-1]
             for section_ahead in list_of_sections_ahead:
                 if (section_ahead > 0 and track_sections.section_occupied(section_ahead)
@@ -803,22 +922,24 @@
 #------------------------------------------------------------------------------------
 
 def set_all_signal_routes():
     for str_signal_id in objects.signal_index:
         set_signal_route(int(str_signal_id))
     return()
 
-#------------------------------------------------------------------------------------
-# Function to Update all mirrored track sections (LOCAL track sections only)
-#------------------------------------------------------------------------------------
+################################################################################################
+# Function to Update all LOCAL mirrored track sections - To move into Library eventually #######
+################################################################################################
 
 def update_all_mirrored_sections():
     for str_section_id in objects.section_index:
         update_mirrored_section(int(str_section_id))
 
+################################################################################################
+
 #------------------------------------------------------------------------------------
 # Function to Update all signal aspects (based on signals ahead)
 #------------------------------------------------------------------------------------
 
 def process_all_aspect_updates():
     for str_signal_id in objects.signal_index:
         process_aspect_updates(int(str_signal_id))
@@ -828,43 +949,47 @@
 # Main callback function for when anything on the layout changes
 # Note that the returned item_id could be a remote ID (str) for the following events:
 #    track_sections.section_callback_type.section_updated
 #    signals_common.sig_callback_type.sig_updated
 #------------------------------------------------------------------------------------
 
 def schematic_callback(item_id:Union[int,str], callback_type):
-    global canvas, editing_enabled, automation_enabled
     if enhanced_debugging: logging.info("RUN LAYOUT - Callback - Item: "+str(item_id)+" - Callback Type: "+str(callback_type))
-    # Timed signal sequences can be triggered by 'signal_passed' events - LOCAL SIGNALS ONLY
+    # 'signal_passed' events (from LOCAL SIGNALS) can trigger changes in track occupancy 
+    # Track Occupancy changes are enabled ONLY IN RUN MODE (as Track section library objects only 'exist'
+    # in Run mode) - and are enabled in RUN MODE whether automation is ENABLED or DISABLED
+    if callback_type == signals_common.sig_callback_type.sig_passed and run_mode:
+        if enhanced_debugging: logging.info("RUN LAYOUT - Updating Track Section occupancy (signal passed event):")
+        update_track_occupancy(objects.signal(item_id))
+    # Timed signal sequences can be triggered by 'signal_passed' events (from LOCAL SIGNALS) 
     # Timed sequences are only Enabled in RUN Mode when Automation is ENABLED
-    if (callback_type == signals_common.sig_callback_type.sig_passed and is_local_id(item_id)
-           and not editing_enabled and automation_enabled):
+    if (callback_type == signals_common.sig_callback_type.sig_passed and run_mode and automation_enabled):
         if enhanced_debugging: logging.info("RUN LAYOUT - Triggering any Timed Signal sequences (signal passed event):")
-        trigger_timed_sequence(int(item_id)) 
-    # 'signal_passed' events can trigger changes in track occupancy - LOCAL SIGNALS ONLY
+        trigger_timed_sequence(item_id) 
+    # 'sensor_passed' events can trigger changes in track occupancy - LOCAL TRACK SENSORS ONLY
     # Track Occupancy changes are enabled ONLY IN RUN MODE (as Track section library objects only 'exist'
     # in Run mode) - but remain enabled in Run Mode whether automation is Enabled or Disabled
-    if callback_type == signals_common.sig_callback_type.sig_passed and is_local_id(item_id) and not editing_enabled:
-        if enhanced_debugging: logging.info("RUN LAYOUT - Updating Track Section occupancy (signal passed event):")
-        update_track_occupancy(int(item_id))
+    if callback_type == track_sensors.track_sensor_callback_type.sensor_triggered and run_mode:
+        if enhanced_debugging: logging.info("RUN LAYOUT - Updating Track Section occupancy (Track Sensor passed event):")
+        update_track_occupancy(objects.track_sensor(item_id))
     # Signal routes are updated on 'point_switched' or 'fpl_switched' events
     # Route Setting is ENABLED in both Run and Edit Modes, whether automation is Enabled or Disabled
     if ( callback_type == points.point_callback_type.point_switched or
          callback_type == points.point_callback_type.fpl_switched ):
         if enhanced_debugging: logging.info("RUN LAYOUT - Updating Signal Routes based on Point settings:")
         set_all_signal_routes()
     # Any 'Mirrored' track sections are updated following changes to track occupancy as part of the
     # 'update_track_occupancy' function call above. The 'section_updated' callback is generated when a
     # track section is manually changed (only possible in RUN Mode) or if an update is received from
     # a remote track section (which could happen in either Run and Edit Mode). As Track sections (the
     # library objects) only "exist" in run mode this event is only processed in RUN mode, whether
     # automation is Enabled or Disabled. Note that the Item ID could local (int) or remote (str).
-    if callback_type == track_sections.section_callback_type.section_updated and not editing_enabled:
+    if callback_type == track_sections.section_callback_type.section_updated and run_mode:
         if enhanced_debugging: logging.info("RUN LAYOUT - Updating any Mirrored Track Sections:")
-        update_mirrored_section(item_id)   # Could be an int (local) or str (remote)
+        update_mirrored_section(item_id)   # Could be an int (local) or str (remote) ####################################################
     # Signal aspects need to be updated on 'sig_switched'(where a signal state has been manually
     # changed via the UI), 'sig_updated' (either a timed signal sequence or a remote signal update),
     # changes to signal overides (see above for events) or changes to the approach control state
     # of a signal ('sig_passed' or 'sig_released' events - or any changes to the signal routes)
     # any signal overrides have been SET or CLEARED (as a result of track sections ahead
     # being occupied/cleared following a signal passed event) or if any signal junction
     # approach control states have been SET or CLEARED - including the case of the signal
@@ -873,15 +998,15 @@
     if ( callback_type == signals_common.sig_callback_type.sig_updated or
          callback_type == signals_common.sig_callback_type.sig_released or
          callback_type == signals_common.sig_callback_type.sig_passed or
          callback_type == signals_common.sig_callback_type.sig_switched or
          callback_type == points.point_callback_type.point_switched or
          callback_type == points.point_callback_type.fpl_switched or
          callback_type == track_sections.section_callback_type.section_updated ):
-        if not editing_enabled and automation_enabled:
+        if run_mode and automation_enabled:
             # First we update all signal overrides based on track occupancy, but ONLY IN RUN MODE
             # (as track sections only exist in RUN Mode), if Automation is ENABLED
             if enhanced_debugging: logging.info("RUN LAYOUT - Updating Signal Overrides to reflect Track Occupancy:")
             update_all_signal_overrides()
             # Approach control is made complex by the need to support the case of setting approach
             # control on the state of home signals ahead (for layout automation). We therefore have
             # to process these changes here (which also updates the aspects of all signals).
@@ -930,36 +1055,38 @@
 #------------------------------------------------------------------------------------
 # Function to "initialise" the layout - Called on change of Edit/Run Mode, Automation
 # Enable/Disable, layout reset, layout load, object deletion (from the schematic) or
 # the configuration change of any schematic object
 #------------------------------------------------------------------------------------
 
 def initialise_layout():
-    global canvas, editing_enabled, automation_enabled
+    global list_of_movements
     if enhanced_debugging: logging.info("RUN LAYOUT - Initialising Schematic **************************************************")
+    # Reset the list of track occupancy movements
+    list_of_movements = []
     # We always process signal routes - for all modes whether automation is enabled/disabled
     if enhanced_debugging: logging.info("RUN LAYOUT - Updating Signal Routes based on Point settings:")
     set_all_signal_routes()
-    if not editing_enabled and not automation_enabled:
+    if run_mode and not automation_enabled:
         # Run Mode (Track Sections exist) with Automation Disabled. Note that we need to call
         # the process_all_aspect_updates function (as we are not making the other update calls)
-        if enhanced_debugging: logging.info("RUN LAYOUT - Updating all Mirrored Track Sections:")
-        update_all_mirrored_sections()
+        if enhanced_debugging: logging.info("RUN LAYOUT - Updating all Mirrored Track Sections:") ####################################
+        update_all_mirrored_sections() ###############################################################################################
         if enhanced_debugging: logging.info("RUN LAYOUT - Clearing down all Signal Overrides (automation disabled):")
         clear_all_signal_overrides()
         clear_all_distant_overrides()
         if enhanced_debugging: logging.info("RUN LAYOUT - Clearing down all Approach Control (automation disabled):")
         clear_all_approach_control()
         if enhanced_debugging: logging.info("RUN LAYOUT - Updating signal aspects to reflect the signals ahead:")
         process_all_aspect_updates()
-    elif not editing_enabled and automation_enabled:
+    elif run_mode and automation_enabled:
         # Run Mode (Track Sections exist) with Automation Enabled. Note that aspects are 
         # updated by update_all_signal_approach_control and update_all_distant_overrides
-        if enhanced_debugging: logging.info("RUN LAYOUT - Updating all Mirrored Track Sections:")
-        update_all_mirrored_sections()
+        if enhanced_debugging: logging.info("RUN LAYOUT - Updating all Mirrored Track Sections:") ####################################
+        update_all_mirrored_sections() ###############################################################################################
         if enhanced_debugging: logging.info("RUN LAYOUT - Overriding Signals to reflect Track Occupancy:")
         update_all_signal_overrides()
         if enhanced_debugging: logging.info("RUN LAYOUT - Updating Signal Approach Control and updating signal aspects:")
         update_all_signal_approach_control()
         if enhanced_debugging: logging.info("RUN LAYOUT - Updating Distant Signal Overrides based on Home Signals ahead:")
         update_all_distant_overrides()        
     else:
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/schematic.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/schematic.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,36 +1,36 @@
 #------------------------------------------------------------------------------------
 # This Module provides all the internal functions for editing the layout schematic
 # in terms of adding/removing objects, drag/drop objects, copy/paste objects etc
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
 #    initialise(root, callback, width, height, grid, snap) - Call once on startup
+#    configure_edit_mode(edit_mode) - True to select Edit Mode, False to set Run Mode
 #    update_canvas(width,height,grid,snap) - Call following a size update (or layout load/canvas resize)
 #    delete_all_objects() - To delete all objects for layout 'new' and layout 'load'
-#    enable_editing() - Call when 'Edit' Mode is selected (via toolbar or on load)
-#    disable_editing() - Call when 'Run' Mode is selected (via toolbar or on load)
 #
 # Makes the following external API calls to other editor modules:
 #    objects.initialise (canvas,width,height,grid) - Initialise the objects package and set defaults
 #    objects.update_canvas(width,height,grid) - update the attributes (on layout load or canvas re-size)
 #    objects.create_object(obj, type, subtype) - Create a default object on the schematic
 #    objects.delete_objects(list of obj IDs) - Delete the selected objects from the canvas
 #    objects.rotate_objects(list of obj IDs) - Rotate the selected objects on the canvas
 #    objects.copy_objects(list of obj IDs) - Copy the selected objects to the clipboard
 #    objects.paste_objects() - Paste the selected objects (returns a list of new IDs)
 #    objects.undo() / objects.redo() - Undo and re-do functions as you would expect
-#    objects.enable_editing() - Call when 'Edit' Mode is selected 
-#    objects.disable_editing() - Call when 'Run' Mode is selected
 #    configure_signal.edit_signal(root,object_id) - Open signal edit window (on double click)
 #    configure_point.edit_point(root,object_id) - Open point edit window (on double click)
 #    configure_section.edit_section(root,object_id) - Open section edit window (on double click)
 #    configure_instrument.edit_instrument(root,object_id) - Open inst edit window (on double click)
 #    configure_line.edit_line(root,object_id) - Open line edit window (on double click)
 #    configure_textbox.edit_textbox(root,object_id) - Open textbox edit window (on double click)
+#    configure_track_sensor.edit_track_sensor(root,object_id) - Open the edit window (on double click)
+#    run_layout.initialise(canvas) - Initialise the run_layout module with the canvas reference
+#
 #
 # Accesses the following external editor objects directly:
 #    objects.schematic_objects - the dict holding descriptions for all objects
 #    objects.object_type - used to establish the type of the schematic objects
 #
 # Accesses the following external library objects directly:
 #    signals_common.sig_type - Used to access the signal type
@@ -50,20 +50,22 @@
 from ..library import signals_semaphores
 from ..library import signals_ground_position
 from ..library import signals_ground_disc
 from ..library import block_instruments
 from ..library import points
 
 from . import objects
+from . import run_layout
 from . import configure_signal
 from . import configure_point
 from . import configure_section
 from . import configure_instrument
 from . import configure_line
 from . import configure_textbox
+from . import configure_track_sensor
 
 import importlib.resources
 import math
 import copy
 
 #------------------------------------------------------------------------------------
 # Global variables used to track the current selections/state of the Schematic Editor
@@ -234,14 +236,16 @@
         edit_popup = configure_signal.edit_signal(root, object_id)
     elif objects.schematic_objects[object_id]["item"] == objects.object_type.point:
         edit_popup = configure_point.edit_point(root, object_id)
     elif objects.schematic_objects[object_id]["item"] == objects.object_type.section:
         edit_popup = configure_section.edit_section(root,object_id)
     elif objects.schematic_objects[object_id]["item"] == objects.object_type.instrument:
         edit_popup = configure_instrument.edit_instrument(root,object_id)
+    elif objects.schematic_objects[object_id]["item"] == objects.object_type.track_sensor:
+        edit_popup = configure_track_sensor.edit_track_sensor(root,object_id)
     return()
 
 # The following function is for test purposes only - to close the windows opened above by the system tests
 
 def close_edit_window (ok:bool=False, cancel:bool=False, apply:bool=False, reset:bool=False):
     global edit_popup
     if ok: edit_popup.save_state(close_window=True)
@@ -814,71 +818,68 @@
     return()
 
 #------------------------------------------------------------------------------------
 # Externally called Functions to enable/disable schematic editing
 # Either from the Menubar Mode selection or the 'm' key
 #------------------------------------------------------------------------------------
 
-def enable_editing():
-    global canvas_grid_state
-    canvas_grid_state = "normal"
-    canvas.itemconfig("grid",state=canvas_grid_state)
-    # Enable editing of the schematic objects
-    objects.enable_editing()
-    # Re-pack the subframe containing the "add object" buttons to display it. Note that we
-    # first 'forget' the canvas_frame and then re-pack the button_frame first, followed by
-    # the canvas_frame - this ensures that the buttons don't dissapear on window re-size
-    canvas_frame.forget()
-    button_frame.pack(side=Tk.LEFT, expand=False, fill=Tk.BOTH)
-    canvas_frame.pack(side=Tk.LEFT, expand=True, fill=Tk.BOTH)
-    # Bind the Canvas mouse and button events to the various callback functions
-    canvas.bind("<Motion>", track_cursor)
-    canvas.bind('<Button-1>', left_button_click)
-    canvas.bind('<Button-2>', right_button_click)
-    canvas.bind('<Button-3>', right_button_click)
-    canvas.bind('<Shift-Button-1>', left_shift_click)
-    canvas.bind('<ButtonRelease-1>', left_button_release)
-    canvas.bind('<Double-Button-1>', left_double_click)
-    # Bind the canvas keypresses to the associated functions
-    enable_edit_keypress_events()
-    # Bind the Toggle Mode, arrow key and window re-size keypress events (active in Edit
-    # and Run Modes - only disabled during Edit Mode object moves and area selections)
-    canvas.bind('<Control-Key-r>', reset_window_size)
-    canvas.bind('<Control-Key-m>', canvas_event_callback)
-    enable_arrow_keypress_events()
-    # Layout Automation toggle is disabled in Edit Mode (only enabled in Run Mode)
-    canvas.unbind('<Control-Key-a>')
-    return()
-
-def disable_editing():
+def configure_edit_mode(edit_mode:bool):
     global canvas_grid_state
-    canvas_grid_state = "hidden"
-    canvas.itemconfig("grid",state=canvas_grid_state)
-    deselect_all_objects()
-    # Disable editing of the schematic objects
-    objects.disable_editing()
-    # Forget the subframe containing the "add object" buttons to hide it
-    button_frame.forget()
-    # Unbind the Canvas mouse and button events in Run Mode
-    canvas.unbind("<Motion>")
-    canvas.unbind('<Button-1>')
-    canvas.unbind('<Button-2>')
-    canvas.unbind('<Button-3>')
-    canvas.unbind('<Shift-Button-1>')
-    canvas.unbind('<ButtonRelease-1>')
-    canvas.unbind('<Double-Button-1>')
-    # Unbind the canvas keypresses in Run Mode (apart from 'm' to toggle modes)
-    disable_edit_keypress_events()
-    # Bind the Toggle Mode, arrow key and window re-size keypress events (active in Edit
-    # and Run Modes - only disabled during Edit Mode object moves and area selections)
-    canvas.bind('<Control-Key-r>', reset_window_size)
-    canvas.bind('<Control-Key-m>', canvas_event_callback)
-    enable_arrow_keypress_events()
-    # Layout Automation toggle is only enabled in Run Mode (disabled in Edit Mode)
-    canvas.bind('<Control-Key-a>', canvas_event_callback)
+    if edit_mode:
+        # Display the Edit Mode Grid
+        canvas_grid_state = "normal"
+        canvas.itemconfig("grid",state=canvas_grid_state)
+        # Re-pack the subframe containing the "add object" buttons to display it. Note that we
+        # first 'forget' the canvas_frame and then re-pack the button_frame first, followed by
+        # the canvas_frame - this ensures that the buttons don't dissapear on window re-size
+        canvas_frame.forget()
+        button_frame.pack(side=Tk.LEFT, expand=False, fill=Tk.BOTH)
+        canvas_frame.pack(side=Tk.LEFT, expand=True, fill=Tk.BOTH)
+        # Bind the Canvas mouse and button events to the various callback functions
+        canvas.bind("<Motion>", track_cursor)
+        canvas.bind('<Button-1>', left_button_click)
+        canvas.bind('<Button-2>', right_button_click)
+        canvas.bind('<Button-3>', right_button_click)
+        canvas.bind('<Shift-Button-1>', left_shift_click)
+        canvas.bind('<ButtonRelease-1>', left_button_release)
+        canvas.bind('<Double-Button-1>', left_double_click)
+        # Bind the canvas keypresses to the associated functions
+        enable_edit_keypress_events()
+        # Bind the Toggle Mode, arrow key and window re-size keypress events (active in Edit
+        # and Run Modes - only disabled during Edit Mode object moves and area selections)
+        canvas.bind('<Control-Key-r>', reset_window_size)
+        canvas.bind('<Control-Key-m>', canvas_event_callback)
+        enable_arrow_keypress_events()
+        # Layout Automation toggle is disabled in Edit Mode (only enabled in Run Mode)
+        canvas.unbind('<Control-Key-a>')
+    else:
+        # Hide the Edit Mode Grid
+        canvas_grid_state = "hidden"
+        canvas.itemconfig("grid",state=canvas_grid_state)
+        # Deselect any currently selected objects
+        deselect_all_objects()
+        # Forget the subframe containing the "add object" buttons to hide it
+        button_frame.forget()
+        # Unbind the Canvas mouse and button events in Run Mode
+        canvas.unbind("<Motion>")
+        canvas.unbind('<Button-1>')
+        canvas.unbind('<Button-2>')
+        canvas.unbind('<Button-3>')
+        canvas.unbind('<Shift-Button-1>')
+        canvas.unbind('<ButtonRelease-1>')
+        canvas.unbind('<Double-Button-1>')
+        # Unbind the canvas keypresses in Run Mode (apart from 'm' to toggle modes)
+        disable_edit_keypress_events()
+        # Bind the Toggle Mode, arrow key and window re-size keypress events (active in Edit
+        # and Run Modes - only disabled during Edit Mode object moves and area selections)
+        canvas.bind('<Control-Key-r>', reset_window_size)
+        canvas.bind('<Control-Key-m>', canvas_event_callback)
+        enable_arrow_keypress_events()
+        # Layout Automation toggle is only enabled in Run Mode (disabled in Edit Mode)
+        canvas.bind('<Control-Key-a>', canvas_event_callback)        
     return()
 
 #------------------------------------------------------------------------------------
 # Externally Called Initialisation function for the Canvas object
 #------------------------------------------------------------------------------------
 
 def initialise (root_window, event_callback, width:int, height:int, grid:int, snap_to_grid:bool, edit_mode:bool):
@@ -943,14 +944,15 @@
                                         signals_common.sig_type.ground_disc.value,
                                         signals_ground_disc.ground_disc_sub_type.standard.value) ],
                    ["lhpoint", lambda:create_object(objects.object_type.point,
                                         points.point_type.LH.value) ],
                    ["rhpoint", lambda:create_object(objects.object_type.point,
                                         points.point_type.RH.value) ],
                    ["section", lambda:create_object(objects.object_type.section) ],
+                   ["sensor", lambda:create_object(objects.object_type.track_sensor) ],
                    ["instrument", lambda:create_object(objects.object_type.instrument,
                                         block_instruments.instrument_type.single_line.value) ] ]
     # Create the buttons we need (Note that the button images are added to a global
     # list so they remain in scope (otherwise the buttons won't work)
     resource_folder = 'model_railway_signals.editor.resources'
     for index, button in enumerate (selections):
         file_name = selections[index][0]
@@ -961,16 +963,17 @@
                 button_images.append(button_image)
                 button = Tk.Button (button_frame, image=button_image,command=selections[index][1])
                 button.pack(padx=2, pady=2, fill='x')
         except:
             # Else fall back to using a text label (filename) for the button
             button = Tk.Button (button_frame, text=selections[index][0],command=selections[index][1], bg="grey85")
             button.pack(padx=2, pady=2, fill='x')
-    # Initialise the Objects package with the required parameters
-    objects.initialise(root, canvas, canvas_width, canvas_height, canvas_grid)
+    # Initialise the Objects and run_layout modules with the canvas details
+    objects.initialise(canvas, canvas_width, canvas_height, canvas_grid)
+    run_layout.initialise(canvas)
     return()
 
 # The following shutdown function is to overcome what seems to be a bug in TkInter where
 # (I think) Tkinter is trying to destroy the photo-image objects after closure of the
 # root window and this generates the following exception:
 #     Exception ignored in: <function Image.__del__ at 0xb57ce6a8>
 #     Traceback (most recent call last):
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/settings.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/settings.py`

 * *Files 0% similar despite different names*

```diff
@@ -46,17 +46,18 @@
 # These are the default settings
 #------------------------------------------------------------------------------------
 
 default_settings = {}
 default_settings["general"] = {}
 default_settings["general"]["filename"] = "new_layout.sig"
 default_settings["general"]["editmode"] = True
-default_settings["general"]["version"] = "Version 4.1.0"
+default_settings["general"]["version"] = "Version 4.2.0"
 default_settings["general"]["info"] = "Document your layout here"
 default_settings["general"]["automation"] = True
+default_settings["general"]["spadpopups"] = False
 default_settings["canvas"] = {}
 default_settings["canvas"]["width"] = 1000
 default_settings["canvas"]["height"] = 500
 default_settings["canvas"]["grid"] = 25
 default_settings["canvas"]["snaptogrid"] = True
 default_settings["logging"] = {}
 default_settings["logging"]["level"] = 2   # Warning
@@ -156,22 +157,24 @@
 
 def get_general(param=None):
     filename = settings["general"]["filename"]
     editmode = settings["general"]["editmode"]
     version = settings["general"]["version"]
     info = settings["general"]["info"]
     automation = settings["general"]["automation"]
-    return(filename, editmode, version, info, automation)
+    spad = settings["general"]["spadpopups"]
+    return(filename, editmode, version, info, automation, spad)
 
-def set_general(filename:str=None, editmode:bool=None, version:str=None, info:str=None, automation:bool=None):
+def set_general(filename:str=None, editmode:bool=None, version:str=None, info:str=None, automation:bool=None, spad:bool=None):
     if filename is not None: settings["general"]["filename"] = filename
     if editmode is not None: settings["general"]["editmode"] = editmode
     if version is not None: settings["general"]["version"] = version
     if info is not None: settings["general"]["info"] = info
     if automation is not None: settings["general"]["automation"] = automation
+    if spad is not None: settings["general"]["spadpopups"] = spad
     return()
 
 #------------------------------------------------------------------------------------
 # Functions to set/get the canvas settings
 #------------------------------------------------------------------------------------
 
 def get_canvas():
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/utilities.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/utilities.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,32 +1,36 @@
 #------------------------------------------------------------------------------------
 # This module contains all the functions for the menubar utilities
 #
 # Classes (pop up windows) called from the main editor module menubar selections
 #    dcc_programming(root, dcc_programming_enabled_function, dcc_power_on_function, dcc_power_off_function)
+#    dcc_mappings(root)
 #
 # Uses the following library functions:
 #    pi_sprog_interface.service_mode_read_cv(cv_to_read)
 #    pi_sprog_interface.service_mode_write_cv(cv_to_write,value_to_write)
 #    pi_sprog_interface.send_accessory_short_event(address, state)
 #    pi_sprog_interface.request_dcc_power_off()
 #    pi_sprog_interface.request_dcc_power_on()
+#    dcc_control.get_dcc_address_mappings()
 #
 # Uses the following common editor UI elements:
 #    common.entry_box
 #    common.integer_entry_box
+#    common.scrollable_text_frame
 #    common.CreateToolTip
 #    common.dcc_entry_box
 #------------------------------------------------------------------------------------
 
 import tkinter as Tk
 import json
 import os
 
 from ..library import pi_sprog_interface
+from ..library import dcc_control
 from . import common
 
 #------------------------------------------------------------------------------------
 # Class for a CV Programming entry element
 #------------------------------------------------------------------------------------
 
 class cv_programming_entry():
@@ -374,9 +378,84 @@
             self.cv_programming = cv_programming_element(root_window, self.window, self.labelframe2,
                     dcc_programming_enabled_function, dcc_power_off_function, dcc_power_on_function)        
         
     def ok(self):
         global dcc_programming_window
         dcc_programming_window = None
         self.window.destroy()
+        
+#------------------------------------------------------------------------------------
+# Class for the "DCC Mappings" window 
+# Note that if a window is already open then we just raise it and exit
+#------------------------------------------------------------------------------------
+
+dcc_mappings_window = None
+
+class dcc_mappings():
+    def __init__(self, root_window):
+        global dcc_mappings_window
+        # If there is already a window open then we just make it jump to the top and exit
+        if dcc_mappings_window is not None:
+            dcc_mappings_window.lift()
+            dcc_mappings_window.state('normal')
+            dcc_mappings_window.focus_force()
+        else:
+            # Create the top level window 
+            self.window = Tk.Toplevel(root_window)
+            self.window.title("DCC Mappings")
+            self.window.protocol("WM_DELETE_WINDOW", self.ok)
+            self.window.resizable(False, False)
+            dcc_mappings_window = self.window
+            # Create the ok/close and refresh buttons - pack first so they remain visible on re-sizing
+            self.frame1 = Tk.Frame(self.window)
+            self.frame1.pack(fill='x', expand=True, side=Tk.BOTTOM)
+            # Create a subframe to center the buttons in
+            self.subframe = Tk.Frame(self.frame1)
+            self.subframe.pack()
+            self.B1 = Tk.Button (self.subframe, text = "Ok / Close",command=self.ok)
+            self.B1.pack(side=Tk.LEFT, padx=2, pady=2)
+            self.TT1 = common.CreateToolTip(self.B1, "Close window")
+            self.B2 = Tk.Button (self.subframe, text = "Refresh",command=self.refresh_display)
+            self.B2.pack(side=Tk.LEFT, padx=2, pady=2)
+            self.TT1 = common.CreateToolTip(self.B2, "Reload the current DCC address mappings")
+            # Create an overall frame to pack everything else in
+            self.mappings_frame = None
+            self.refresh_display()
+        
+    def ok(self):
+        global dcc_mappings_window
+        dcc_mappings_window = None
+        self.window.destroy()
+    
+    def refresh_display(self):
+        # Create a frame to hold the mappings (destroy the old one first if needed)
+        if self.mappings_frame is not None:
+            self.mappings_frame.destroy()
+        self.mappings_frame = Tk.Frame(self.window)
+        self.mappings_frame.pack(fill='both', expand=True)
+        #create a subframe 
+        # Retrieve the sorted dictionary of DCC address mappings
+        dcc_address_mappings = dcc_control.get_dcc_address_mappings()
+        # If there are no mappings then just display a warning
+        if len(dcc_address_mappings) == 0:
+            label = Tk.Label(self.mappings_frame, text="No DCC address mappings defined")
+            label.pack(padx=20, pady=20)
+        else:
+            # Build the table of DCC mappings
+            row_index = 0
+            for dcc_address in dict(sorted(dcc_address_mappings.items())):
+                if row_index == 0:
+                    column_frame = Tk.LabelFrame(self.mappings_frame, text="DCC addresses")
+                    column_frame.pack(side=Tk.LEFT, pady=2, padx=2, fill='both', expand=True, anchor='n')
+                # Create a subframe for the row (pack in the column frame)
+                row_frame = Tk.Frame(column_frame)
+                row_frame.pack(fill='x')
+                # Create the labels with the DCC mapping text (pack in the row subframe)
+                mapping_text = u"\u2192"+" "+dcc_address_mappings[dcc_address][0]+" "+str(dcc_address_mappings[dcc_address][1])
+                label1 = Tk.Label(row_frame, width=5, text=dcc_address, anchor="e")
+                label1.pack(side=Tk.LEFT)
+                label2 = Tk.Label(row_frame, width=10, text=mapping_text, anchor="w")
+                label2.pack(side=Tk.LEFT)
+                row_index = row_index + 1
+                if row_index >= 20: row_index = 0
 
 #############################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/__init__.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/__init__.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,60 +1,57 @@
 #------------------------------------------------------------------------------------
 # These are the Public API functions for the Objects sub-package
 #------------------------------------------------------------------------------------
 #
 # Externalised API functions intended for use by other editor modules:
-#    initialise (canvas,x,y,grid) - Initialise the objects package and set defaults
-#    update_canvas(x,y,grid) - update the attributes (on load and re-size)
+#    initialise (canvas,width,height,grid) - Initialise the objects package and set defaults
+#    update_canvas(width,height,grid) - update the attributes (on load and re-size)
+#
 #    signal(item_id:int) - helper function to find the object Id by Item ID
 #    point(item_id:int) - helper function to find the object Id by Item ID
 #    section(item_id:int) - helper function to find the object Id by Item ID
 #    instrument(item_id:int) - helper function to find the object Id by Item ID
 #    line(item_id:int) - helper function to find the object Id by Item ID
-#    signal_exists(item_id:int) - Common function to see if a given item exists
-#    point_exists(item_id:int) - Common function to see if a given item exists
-#    section_exists(item_id:int) - Common function to see if a given item exists
-#    instrument_exists(item_id:int) - Common function to see if a given item exists
-#    line_exists (item_id:int) - Common function to see if a given item exists
-#    update_local_sensors(trigger,timeout,mappings) - configure local track sections
+#    section_exists(item_id:int) - Common function to see if a given item exists ###############
+#    line_exists (item_id:int) - Common function to see if a given item exists #################
+#
+#    update_local_gpio_sensors(trigger,timeout,mappings) - configure local track sections
 #    mqtt_update_sensors(pub_list, sub_list) - configure MQTT publish/subscribe
 #    mqtt_update_signals(pub_list, sub_list) - configure MQTT publish/subscribe
 #    mqtt_update_sections(pub_list, sub_list) - configure MQTT publish/subscribe
 #    mqtt_update_instruments(pub_list, sub_list) - configure MQTT publish/subscribe
-#    save_schematic_state(reset_pointer:bool) - save a snapshot of the schematic objects
-#         (reset_pointer=True will clear the undo buffer (deleting the undo history)
+#
+#    configure_edit_mode(edit_mode) - True to select Edit Mode, False to set Run Mode
+#    reset_objects() - resets all points, signals, instruments and sections to default state
 #    set_all(new_objects) - Creates a new dictionary of objects (following a load)
 #    get_all() - returns the current dictionary of objects (for saving to file)
-#    undo() / redo() - Undo and re-do functions as you would expect
+#    save_schematic_state(reset_pointer:bool) - save a snapshot of the schematic objects
+#         (reset_pointer=True will clear the undo buffer (deleting the undo history)
+#
 #    create_object(obj_type, item_type, item_subtype) - create a new object on the canvas
 #    delete_objects([object_IDs]) - Delete the selected objects from the canvas
 #    rotate_objects([object_IDs]) - Rotate the selected objects on the canvas
 #    move_objects([object_IDs]) - Finalises the move of selected objects
 #    copy_objects([object_IDs]) - Copy the selected objects to the clipboard
 #    paste_objects() - Paste Clipboard objects onto the canvas (returns list of new IDs)
 #    update_object(object_ID, new_object) - update the config of an existing object
-#    enable_editing() - Call when 'Edit' Mode is selected (from Schematic Module)
-#    disable_editing() - Call when 'Run' Mode is selected (from Schematic Module)
-#    reset_objects() - resets all points, signals, instruments and sections to default state
+#    undo() / redo() - Undo and re-do functions as you would expect
 #    get_endstop_offsets(x1,y1,x2,y2)- used by the schematics module to get the offsets
 #        for line 'end stops' so they can be moved with the line ends during editing
 #
 # Objects intended to be accessed directly by other editor modules:
 #    object_type - Enumeration type for the supported objects
 #    schematic_objects - For accessing/editing the configuration of an object
 #    signal_index - for iterating through all the signal objects
 #    point_index - for iterating through all the point objects
 #    instrument_index - for iterating through all the instrument objects
 #    section_index - for iterating through all the section objects
 #
 # Makes the following external API calls to other editor modules:
-#    run_layout.initialise(canvas) - Initialise the module with the canvas reference on startup
 #    run_layout.initialise_layout() - Re-initiallise the state of schematic objects following a change
-#    run_layout.enable_editing() - To set "edit mode" for processing schematic object callbacks
-#    run_layout.disable_editing() - To set "edit mode" for processing schematic object callbacks
 #    run_layout.schematic_callback - the callback reference to use when creating library objects
 #
 #------------------------------------------------------------------------------------
 
 from .objects import set_all
 from .objects import get_all
 from .objects import undo
@@ -63,44 +60,43 @@
 from .objects import delete_objects
 from .objects import rotate_objects
 from .objects import move_objects
 from .objects import copy_objects
 from .objects import paste_objects
 from .objects import update_object
 from .objects import save_schematic_state
-from .objects import enable_editing
-from .objects import disable_editing
+from .objects import configure_edit_mode
 from .objects import reset_objects
 from .objects_common import initialise
 from .objects_common import update_canvas
 from .objects_common import signal 
 from .objects_common import point 
 from .objects_common import section
 from .objects_common import instrument
 from .objects_common import line
-from .objects_common import signal_exists
-from .objects_common import point_exists
-from .objects_common import section_exists
-from .objects_common import instrument_exists
-from .objects_common import line_exists
+from .objects_common import track_sensor
+
+from .objects_common import section_exists  ####################
+from .objects_common import line_exists  #######################
 
 from .objects_common import object_type
 from .objects_common import schematic_objects 
 from .objects_common import signal_index 
 from .objects_common import point_index 
 from .objects_common import section_index 
 from .objects_common import instrument_index
 from .objects_common import line_index
+from .objects_common import track_sensor_index
 
 from .objects_lines import get_endstop_offsets
-from .objects_signals import update_local_sensors
-from .objects_signals import mqtt_update_sensors
 from .objects_signals import mqtt_update_signals
 from .objects_sections import mqtt_update_sections
 from .objects_instruments import mqtt_update_instruments
+from .objects_gpio import update_local_gpio_sensors
+from .objects_gpio import mqtt_update_gpio_sensors
 
 # The following code does nothing apart from suppressing
 # the spurious pyflakes warnings for unused imports
 
 assert set_all
 assert get_all
 assert undo
@@ -109,37 +105,35 @@
 assert delete_objects
 assert rotate_objects
 assert move_objects
 assert copy_objects
 assert paste_objects
 assert update_object
 assert save_schematic_state
-assert enable_editing
-assert disable_editing
+assert configure_edit_mode
 assert reset_objects
 assert initialise
 assert update_canvas
 assert signal 
 assert point 
 assert section
 assert instrument
 assert line
-assert signal_exists
-assert point_exists
-assert section_exists
-assert instrument_exists
-assert line_exists
+assert track_sensor
+assert section_exists  #######################
+assert line_exists  ##########################
 assert object_type
 assert get_endstop_offsets
-assert update_local_sensors
-assert mqtt_update_sensors
+assert update_local_gpio_sensors
+assert mqtt_update_gpio_sensors
 assert mqtt_update_signals
 assert mqtt_update_sections
 assert mqtt_update_instruments
 assert type(schematic_objects) 
 assert type(signal_index)
 assert type(point_index)
 assert type(section_index)
 assert type(instrument_index)
 assert type(line_index)
+assert type(track_sensor_index)
 
 ##########################################################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects.py`

 * *Files 2% similar despite different names*

```diff
@@ -12,14 +12,15 @@
 #    delete_objects(list of obj IDs) - Delete the selected objects from the canvas
 #    rotate_objects(list of obj IDs) - Rotate the selected objects on the canvas
 #    move_objects(list of obj IDs) - Finalises the move of selected objects
 #    copy_objects(list of obj IDs) - Copy the selected objects to the clipboard
 #    paste_objects() - Paste Clipboard objects onto the canvas (returnslist of new IDs)
 #    update_object(object ID, new_object) - update the config of an existing object
 #    reset_objects() - resets all points, signals, instruments and sections to default state
+#    configure_edit_mode(edit_mode) - True to select Edit Mode, False to set Run Mode
 #
 # Makes the following external API calls to other editor modules:
 #    run_layout.initialise_layout() - Re-initiallise the state of schematic objects following a change
 #    run_layout.enable_editing() - To set "edit mode" for processing schematic object callbacks
 #    run_layout.disable_editing() - To set "edit mode" for processing schematic object callbacks
 #    objects_instruments.create_instrument(type) - Create a default object on the schematic
 #    objects_instruments.delete_instrument(object_id) - Hard Delete an object when deleted from the schematic
@@ -75,14 +76,15 @@
 from . import objects_common
 from . import objects_signals
 from . import objects_points
 from . import objects_lines
 from . import objects_sections
 from . import objects_instruments
 from . import objects_textboxes
+from . import objects_sensors
 
 from .. import run_layout
 
 #######################################################################################################
 ### Handle change of sensors being a configuration item in their own right from release 3.6.0 #########
 #######################################################################################################
 from .. import settings 
@@ -119,14 +121,16 @@
             objects_signals.redraw_signal_object(object_id)
         elif this_object_type == objects_common.object_type.point:
             objects_points.redraw_point_object(object_id)
         elif this_object_type == objects_common.object_type.section:
             objects_sections.redraw_section_object(object_id, reset_state=reset_state)
         elif this_object_type == objects_common.object_type.instrument:
             objects_instruments.redraw_instrument_object(object_id)
+        elif this_object_type == objects_common.object_type.track_sensor:
+            objects_sensors.redraw_track_sensor_object(object_id)
     # Ensure all track sections are brought forward on the schematic (in front of any lines)
     bring_track_sections_to_the_front()
     return()
 
 #------------------------------------------------------------------------------------
 # Internal function to reset all item-specific indexes from the main schematic_objects
 # dictionary - called following item load and as part of undo/redo. Note that for
@@ -144,14 +148,16 @@
             objects_common.signal_index[str(this_object_item_id)] = object_id
         elif this_object_type == objects_common.object_type.point:
             objects_common.point_index[str(this_object_item_id)] = object_id
         elif this_object_type == objects_common.object_type.section:
             objects_common.section_index[str(this_object_item_id)] = object_id
         elif this_object_type == objects_common.object_type.instrument:
             objects_common.instrument_index[str(this_object_item_id)] = object_id
+        elif this_object_type == objects_common.object_type.track_sensor:
+            objects_common.track_sensor_index[str(this_object_item_id)] = object_id
         # Note that textboxes don't have an index as we don't track their IDs
     return()
 
 #------------------------------------------------------------------------------------
 # Undo and redo functions - the 'save_schematic_state' function should be called after
 # every change the schematic or a change to any object on the schematic to take a snapshot
 # and add this to the undo buffer. 'undo' and 'redo' then work as you'd expect
@@ -216,23 +222,20 @@
     objects_points.reset_point_interlocking_tables()
     return()
 
 #------------------------------------------------------------------------------------
 # Functions to Enable and disable editing 
 #------------------------------------------------------------------------------------
 
-def enable_editing():
-    objects_sections.enable_editing()
-    run_layout.enable_editing()
-    return()
-
-def disable_editing():
-    objects_sections.disable_editing()
-    run_layout.disable_editing()
+############################################################################
+def configure_edit_mode(edit_mode:bool):
+    if edit_mode: objects_sections.enable_editing()
+    else: objects_sections.disable_editing()
     return()
+###########################################################################
 
 #------------------------------------------------------------------------------------
 # Function to reset the schematic back to its default state with all signals 'on',
 # all points 'unswitched', all track sections 'unoccupied' and all block instruments
 # showing 'line blocked' (by soft deleting all objects and redrawing them)
 #------------------------------------------------------------------------------------
 
@@ -248,14 +251,16 @@
             objects_signals.delete_signal_object(object_id)
         elif type_of_object == objects_common.object_type.point:
              objects_points.delete_point_object(object_id)
         elif type_of_object == objects_common.object_type.section:
             objects_sections.delete_section_object(object_id)
         elif type_of_object == objects_common.object_type.instrument:
             objects_instruments.delete_instrument_object(object_id)
+        elif type_of_object == objects_common.object_type.track_sensor:
+            objects_sensors.delete_track_sensor_object(object_id)
     # Redraw all point, section, instrument and signal objects in their default state
     # We don't need to create a new bbox as soft_delete keeps the tkinter object
     redraw_all_objects(create_new_bbox=False, reset_state=True)
     # Ensure all track sections are brought forward on the schematic (in front of any lines)
     bring_track_sections_to_the_front()
     # Process any layout changes (interlocking, signal ahead etc)
     # that might be dependent on the object configuration change
@@ -276,14 +281,16 @@
         object_id = objects_signals.create_signal(item_type, item_subtype)
     elif new_object_type == objects_common.object_type.point:
          object_id = objects_points.create_point(item_type)
     elif new_object_type == objects_common.object_type.section:
         object_id = objects_sections.create_section()
     elif new_object_type == objects_common.object_type.instrument:
         object_id = objects_instruments.create_instrument(item_type)
+    elif new_object_type == objects_common.object_type.track_sensor:
+        object_id = objects_sensors.create_track_sensor()
     else:
         object_id = None
     # save the current state (for undo/redo)
     save_schematic_state()
     # As we are creating 'new' objects we don't need to process layout changes
     return(object_id)
 
@@ -302,14 +309,16 @@
         objects_signals.update_signal(object_id, new_object)
     elif type_of_object == objects_common.object_type.point:
         objects_points.update_point(object_id, new_object)
     elif type_of_object == objects_common.object_type.section:
         objects_sections.update_section(object_id, new_object)
     elif type_of_object == objects_common.object_type.instrument:
         objects_instruments.update_instrument(object_id, new_object)
+    elif type_of_object == objects_common.object_type.track_sensor:
+        objects_sensors.update_track_sensor(object_id, new_object)
     # Ensure all track sections are brought forward on the schematic (in front of any lines)
     bring_track_sections_to_the_front()
     # save the current state (for undo/redo)
     save_schematic_state()
     # Process any layout changes (interlocking, signal ahead etc)
     # that might be dependent on the object configuration change
     run_layout.initialise_layout()
@@ -330,14 +339,16 @@
         objects_signals.delete_signal(object_id)
     elif type_of_object == objects_common.object_type.point:
          objects_points.delete_point(object_id)
     elif type_of_object == objects_common.object_type.section:
         objects_sections.delete_section(object_id)
     elif type_of_object == objects_common.object_type.instrument:
         objects_instruments.delete_instrument(object_id)
+    elif type_of_object == objects_common.object_type.track_sensor:
+        objects_sensors.delete_track_sensor(object_id)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to permanently Delete one or more objects from the schematic
 # Called from the Schematic Module when selected objects are deleted
 #------------------------------------------------------------------------------------
 
@@ -452,14 +463,16 @@
             new_object_id = objects_signals.paste_signal(object_to_paste, deltax, deltay)
         elif type_of_object == objects_common.object_type.point:
             new_object_id = objects_points.paste_point(object_to_paste, deltax, deltay)
         elif type_of_object == objects_common.object_type.section:
             new_object_id = objects_sections.paste_section(object_to_paste, deltax, deltay)
         elif type_of_object == objects_common.object_type.instrument:
             new_object_id = objects_instruments.paste_instrument(object_to_paste, deltax, deltay)
+        elif type_of_object == objects_common.object_type.track_sensor:
+            new_object_id = objects_sensors.paste_track_sensor(object_to_paste, deltax, deltay)
         # Add the new object to the list of clipboard objects
         # in case the user wants to paste the same objects again
         list_of_new_object_ids.append(new_object_id)
     # Ensure all track sections are in front of any lines
     bring_track_sections_to_the_front()
     # save the current state (for undo/redo)
     save_schematic_state()
@@ -498,14 +511,16 @@
             default_object = objects_signals.default_signal_object
         elif new_object_type == objects_common.object_type.point:
             default_object = objects_points.default_point_object
         elif new_object_type == objects_common.object_type.section:
             default_object = objects_sections.default_section_object
         elif new_object_type == objects_common.object_type.instrument:
             default_object = objects_instruments.default_instrument_object
+        elif new_object_type == objects_common.object_type.track_sensor:
+            default_object = objects_sensors.default_track_sensor_object
         else:
             default_object = {}
             logging.debug("LOAD LAYOUT - "+new_object_type+" "+str(item_id)+
                                 " - Unrecognised object type - DISCARDED")
         # Populate each element at a time and report any elements not recognised
         if default_object != {}:
             objects_common.schematic_objects[object_id] = copy.deepcopy(default_object)
@@ -561,14 +576,26 @@
                         logging.debug("LOAD LAYOUT - "+new_object_type+" "+str(item_id)+
                                 " - Handling version 3.6.0 breaking change to : '"+element+"'")
                     else:
                         objects_common.schematic_objects[object_id][element] = new_objects[object_id][element]
                 #############################################################################################
                 ## End of Handle breaking change for track sections and sensor IDs ##########################
                 #############################################################################################
+                ########################################################################################################
+                ## Handle bugfix for Signal point interlocking tables (i.e. length point list was wrongly getting 7 ####
+                ## points assigned on point deletion whereas the list should only ever include 6 points ################ 
+                ########################################################################################################
+                elif new_object_type == objects_common.object_type.signal and element == "pointinterlock":
+                    for index, route in enumerate (new_objects[object_id][element]):
+                        objects_common.schematic_objects[object_id][element][index][0] = route[0][0:6]
+                        objects_common.schematic_objects[object_id][element][index][1] = route[1]
+                        objects_common.schematic_objects[object_id][element][index][2] = route[2]
+                ########################################################################################################
+                ## End of Handle bugfix for Signal point interlocking tables ###########################################
+                ########################################################################################################
                 else:
                     objects_common.schematic_objects[object_id][element] = new_objects[object_id][element]
             ##################################################################################
             ### Handle change of sensor IDs being strings from Release 3.6.0 onwards #########
             ##################################################################################
             if len(list_of_track_sensors_to_create) > 0:
                 logging.debug("LOAD LAYOUT - Populating track sensor mappings to handle version 3.6.0 breaking change")
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_common.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_common.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,59 +1,60 @@
 #------------------------------------------------------------------------------------
 # This module contains all the common internal functions for managing layout objects
 #------------------------------------------------------------------------------------
 #
 # External API functions intended for use by other editor modules:
+#
 #    initialise (canvas,width,height,grid) - Initialise the objects package and set defaults
 #    update_canvas(width,height,grid) - update the attributes (on layout load or canvas re-size)
 #    set_bbox - Common function to create/update the boundary box for a schematic object
 #    find_initial_canvas_position - common function to return the next 'free' position (x,y)
 #    new_item_id - Common function - common function to return the next 'free' item ID
-#    signal_exists (item_id:int) - Common function to see if a given item exists
-#    point_exists (item_id:int) - Common function to see if a given item exists
-#    section_exists (item_id:int) - Common function to see if a given item exists
-#    instrument_exists (item_id:int) - Common function to see if a given item exists
-#    line_exists (item_id:int) - Common function to see if a given item exists
+#
+#    section_exists (item_id:int) - Common function to see if a given item exists  #####################
+#    line_exists (item_id:int) - Common function to see if a given item exists  ########################
+#
 #    signal(item_id:int) - helper function to find the object Id by Item ID
 #    point(item_id:int) - helper function to find the object Id by Item ID
 #    section(item_id:int) - helper function to find the object Id by Item ID
 #    instrument(item_id:int) - helper function to find the object Id by Item ID
 #    line(item_id:int) - helper function to find the object Id by Item ID
+#    track_sensor(item_id:int) - helper function to find the object Id by Item ID
 #
 # Objects intended to be accessed directly by other editor modules:
+#
+#    canvas - global reference to the Tkinter drawing object
 #    object_type - Enumeration type for the supported objects
 #    schematic_objects - for accessing/editing the configuration of an object
+#    canvas_width, canvas_height, canvas_grid - for creating/pasting objects
+#    canvas - global reference to the Tkinter drawing object
+#
 #    signal_index - for iterating through all the signal objects
 #    point_index - for iterating through all the point objects
 #    instrument_index - for iterating through all the instrument objects
 #    section_index - for iterating through all the section objects
 #    line_index - for iterating through all the line objects
-#    canvas_width, canvas_height, canvas_grid - for creating/pasting objects
-#    canvas - global reference to the Tkinter drawing object
-#
-# Makes the following external API calls to other editor modules:
-#    run_layout.initialise(canvas) - Initialise the run_layout module with the canvas reference
+#    track_sensor_index - for iterating through all the sensor objects
 #
 #------------------------------------------------------------------------------------
 
-from .. import run_layout
-
 #------------------------------------------------------------------------------------
 # Global class used for the object_type - we use normal strings rather than enumeration
 # types so we can easily serialise/deserialise to/from json for save and load
 #------------------------------------------------------------------------------------
 
 class object_type():
     none:str = "none"
     textbox:str = "textbox"
     line:str = "line"
     point:str = "point"
     signal:str = "signal"
     section:str = "section"
     instrument:str = "instrument"
+    track_sensor:str = "tracksensor"
 
 #------------------------------------------------------------------------------------
 # All Objects we create (and their configuration) are stored in a global dictionary
 # and are indexed by their UUID (object_id) - which is assigned at creation time
 #------------------------------------------------------------------------------------
 
 schematic_objects:dict={}
@@ -64,34 +65,33 @@
 #------------------------------------------------------------------------------------
 
 signal_index:dict={}
 point_index:dict={}
 instrument_index:dict={}
 section_index:dict={}
 line_index:dict={}
+track_sensor_index:dict={}
 
 #------------------------------------------------------------------------------------
 # Helper functions to get the main dictionary index (the object_id) from the item_id
 #------------------------------------------------------------------------------------
 
 def signal(ID:int): return (signal_index[str(ID)])
 def point(ID:int): return (point_index[str(ID)])
 def instrument(ID:int): return (instrument_index[str(ID)])
 def section(ID:int): return (section_index[str(ID)])
 def line(ID:int): return (line_index[str(ID)])
+def track_sensor(ID:int): return (track_sensor_index[str(ID)])
 
 #------------------------------------------------------------------------------------
 # Simple functions to test if a particular item_id already exists (for an item_type)
 #------------------------------------------------------------------------------------
 
-def signal_exists(ID:int): return (str(ID) in signal_index.keys())
-def point_exists(ID:int): return (str(ID) in point_index.keys())
-def instrument_exists(ID:int): return (str(ID) in instrument_index.keys())
-def section_exists(ID:int): return (str(ID) in section_index.keys())
-def line_exists(ID:int): return (str(ID) in line_index.keys())
+def section_exists(ID:int): return (str(ID) in section_index.keys())  ####################
+def line_exists(ID:int): return (str(ID) in line_index.keys())  ##########################
 
 #------------------------------------------------------------------------------------
 # Common parameters for a Default Layout Object (i.e. state at creation)
 # These elements are common to all schematic layout objects and are primarily
 # used to support the schematic editor functions (move, select, etc)
 #------------------------------------------------------------------------------------
 
@@ -107,26 +107,23 @@
 # Function to set the required defaults for the Objects package at application start
 # The Tkinter Canvas Object and default canvas attributes (dimentions and grid size)
 # are saved as global variables for easy referencing. The Canvas width, height and grid
 # are used for optimising the positioning of objects on creation or 'paste'
 # Also calls the run_layout.initialise function to set the tkinter canvas object
 #------------------------------------------------------------------------------------
 
-root = None
 canvas = None
 canvas_width = 0
 canvas_height = 0
 canvas_grid = 0
 
-def initialise (root_object,canvas_object, width:int, height:int, grid:int):
-    global canvas, root
-    root = root_object
+def initialise (canvas_object, width:int, height:int, grid:int):
+    global canvas
     canvas = canvas_object
     update_canvas(canvas_width, canvas_height, grid)
-    run_layout.initialise(canvas)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to update the Canvas Attributes (following layout load or canvas resize)
 #------------------------------------------------------------------------------------
 
 def update_canvas(width:int, height:int, grid:int):
@@ -142,15 +139,15 @@
 #------------------------------------------------------------------------------------
 
 def set_bbox(object_id:str,bbox:[int,int,int,int]):
     global schematic_objects
     x1, y1 = bbox[0] - 2, bbox[1] - 2
     x2, y2 = bbox[2] + 2, bbox[3] + 2
     # If the tkinter object exists we leave it in its current selected/unselected state
-    # If it doesn't exist then we create it (in the default object unselected state)
+    # If it doesn't exist then we create it (in the default unselected state)
     if schematic_objects[object_id]["bbox"]:
         canvas.coords(schematic_objects[object_id]["bbox"],x1,y1,x2,y2)
     else:
         schematic_objects[object_id]["bbox"] = canvas.create_rectangle(x1,y1,x2,y2,state='hidden')
     return()
 
 #------------------------------------------------------------------------------------
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_instruments.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_instruments.py`

 * *Files 7% similar despite different names*

```diff
@@ -12,30 +12,30 @@
 #    default_instrument_object - The dictionary of default values for the object
 #    mqtt_update_instruments(pub_list, sub_list) - Configure MQTT publish/subscribe
 #
 # Makes the following external API calls to other editor modules:
 #    objects_common.set_bbox - to create/update the boundary box for the schematic object
 #    objects_common.find_initial_canvas_position - to find the next 'free' canvas position
 #    objects_common.new_item_id - to find the next 'free' item ID when creating objects
-#    objects_common.instrument_exists - Common function to see if a given item exists
 #    objects_signals.update_references_to_instrument - when the instrument ID is changed
 #    objects_signals.remove_references_to_instrument - when the instrument is deleted
 #
 # Accesses the following external editor objects directly:
 #    run_layout.schematic_callback - setting the object callbacks when created/recreated
 #    objects_common.schematic_objects - the master dictionary of Schematic Objects
 #    objects_common.instrument_index - The index of Instrument Objects (for iterating)
 #    objects_common.default_object - The common dictionary element for all objects
 #    objects_common.object_type - The Enumeration of supported objects
 #    objects_common.canvas - Reference to the Tkinter drawing canvas
 #
 # Makes the following external API calls to library modules:
+#    block_instruments.instrument_exists - Common function to see if a given item exists
 #    block_instruments.delete_instrument(id) - delete library drawing object (part of soft delete)
 #    block_instruments.create_block_instrument(id) -  To create the library object (create or redraw)
-#    block_instruments.update_linked_to(old_id, new_id) - update the linked instrument reference
+#    block_instruments.update_linked_instrument(old_id, new_id) - update the linked instrument reference
 #    block_instruments.get_tags(id) - get the canvas 'tags' for the instrument drawing objects
 #    block_instruments.reset_mqtt_configuration - reset MQTT networking prior to reconfiguration
 #    block_instruments.set_instruments_to_publish_state(IDs) - configure MQTT networking
 #    block_instruments.subscribe_to_remote_instrument(ID) - configure MQTT networking
 #------------------------------------------------------------------------------------
 
 import uuid
@@ -65,29 +65,29 @@
 def update_references_to_instrument(old_inst_id:int, new_inst_id:int):
     # Iterate through all the instruments on the schematic
     for instrument_id in objects_common.instrument_index:
         # get the instrument object (so we can query the ID of the linked instrument)
         instrument_object = objects_common.instrument(instrument_id)
         if objects_common.schematic_objects[instrument_object]["linkedto"] == str(old_inst_id):
             objects_common.schematic_objects[instrument_object]["linkedto"] = str(new_inst_id)
-            block_instruments.update_linked_to(int(instrument_id), str(new_inst_id))
+            block_instruments.update_linked_instrument(int(instrument_id), str(new_inst_id))
     return()
 
 #------------------------------------------------------------------------------------
 # Internal function to Remove references from instruments linked to this one
 #------------------------------------------------------------------------------------
 
 def remove_references_to_instrument(deleted_inst_id:int):
     # Iterate through all the instruments on the schematic
     for instrument_id in objects_common.instrument_index:
         # get the instrument object (so we can query the ID of the linked instrument)
         instrument_object = objects_common.instrument(instrument_id)
         if objects_common.schematic_objects[instrument_object]["linkedto"] == str(deleted_inst_id):
             objects_common.schematic_objects[instrument_object]["linkedto"] = ""
-            block_instruments.update_linked_to(int(instrument_id), None)
+            block_instruments.update_linked_instrument(int(instrument_id), "")
     return()
     
 #------------------------------------------------------------------------------------
 # Function to to update an instrument object after a configuration change
 #------------------------------------------------------------------------------------
 
 def update_instrument(object_id, new_object_configuration):
@@ -114,40 +114,40 @@
 # is first reated or after the object configuration has been updated.
 #------------------------------------------------------------------------------------
 
 def redraw_instrument_object(object_id):
     # Turn the instrument type value back into the required enumeration type
     instrument_type = block_instruments.instrument_type(objects_common.schematic_objects[object_id]["itemtype"])
     # Create the new Block Instrument object
-    block_instruments.create_block_instrument (
-                canvas = objects_common.canvas,
-                block_id = objects_common.schematic_objects[object_id]["itemid"],
-                x = objects_common.schematic_objects[object_id]["posx"],
-                y = objects_common.schematic_objects[object_id]["posy"],
-                block_callback = run_layout.schematic_callback,
-                inst_type = instrument_type,
-                bell_sound_file = objects_common.schematic_objects[object_id]["bellsound"],
-                telegraph_sound_file = objects_common.schematic_objects[object_id]["keysound"],
-                linked_to = objects_common.schematic_objects[object_id]["linkedto"])
+    canvas_tags = block_instruments.create_instrument (
+                        canvas = objects_common.canvas,
+                        inst_id = objects_common.schematic_objects[object_id]["itemid"],
+                        inst_type = instrument_type,
+                        x = objects_common.schematic_objects[object_id]["posx"],
+                        y = objects_common.schematic_objects[object_id]["posy"],
+                        callback = run_layout.schematic_callback,
+                        bell_sound_file = objects_common.schematic_objects[object_id]["bellsound"],
+                        telegraph_sound_file = objects_common.schematic_objects[object_id]["keysound"],
+                        linked_to = objects_common.schematic_objects[object_id]["linkedto"])
     # Create/update the canvas "tags" and selection rectangle for the instrument
-    objects_common.schematic_objects[object_id]["tags"] = block_instruments.get_tags(objects_common.schematic_objects[object_id]["itemid"])
-    objects_common.set_bbox (object_id, objects_common.canvas.bbox(objects_common.schematic_objects[object_id]["tags"]))         
+    objects_common.schematic_objects[object_id]["tags"] = canvas_tags
+    objects_common.set_bbox (object_id, objects_common.canvas.bbox(canvas_tags))         
     return()
 
 #------------------------------------------------------------------------------------
 # Function to Create a new default Block Instrument (and draw it on the canvas)
 #------------------------------------------------------------------------------------
         
 def create_instrument(item_type):
     # Generate a new object from the default configuration with a new UUID 
     object_id = str(uuid.uuid4())
     objects_common.schematic_objects[object_id] = copy.deepcopy(default_instrument_object)
     # Find the initial canvas position for the new object and assign the item ID
     x, y = objects_common.find_initial_canvas_position()
-    item_id = objects_common.new_item_id(exists_function=objects_common.instrument_exists)
+    item_id = objects_common.new_item_id(exists_function=block_instruments.instrument_exists)
     # Add the specific elements for this particular instance of the instrument
     objects_common.schematic_objects[object_id]["itemid"] = item_id
     objects_common.schematic_objects[object_id]["itemtype"] = item_type
     objects_common.schematic_objects[object_id]["posx"] = x
     objects_common.schematic_objects[object_id]["posy"] = y
     # Add the new object to the index of instruments
     objects_common.instrument_index[str(item_id)] = object_id 
@@ -163,15 +163,15 @@
 #------------------------------------------------------------------------------------
 
 def paste_instrument(object_to_paste, deltax:int, deltay:int):
     # Create a new UUID for the pasted object
     new_object_id = str(uuid.uuid4())
     objects_common.schematic_objects[new_object_id] = copy.deepcopy(object_to_paste)
     # Assign a new type-specific ID for the object and add to the index
-    new_id = objects_common.new_item_id(exists_function=objects_common.instrument_exists)
+    new_id = objects_common.new_item_id(exists_function=block_instruments.instrument_exists)
     objects_common.schematic_objects[new_object_id]["itemid"] = new_id
     objects_common.instrument_index[str(new_id)] = new_object_id
     # Set the position for the "pasted" object (offset from the original position)
     objects_common.schematic_objects[new_object_id]["posx"] += deltax
     objects_common.schematic_objects[new_object_id]["posy"] += deltay
     # Now set the default values for all elements we don't want to copy:
     objects_common.schematic_objects[new_object_id]["linkedto"] = default_instrument_object["linkedto"]
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_lines.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_lines.py`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_points.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_points.py`

 * *Files 4% similar despite different names*

```diff
@@ -14,31 +14,33 @@
 #
 # Makes the following external API calls to other editor modules:
 #    objects_common.set_bbox - to create/update the boundary box for the schematic object
 #    objects_common.find_initial_canvas_position - to find the next 'free' canvas position
 #    objects_common.new_item_id - to find the next 'free' item ID when creating objects
 #    objects_common.point - To get The Object_ID for a given Item_ID
 #    objects_common.signal - To get The Object_ID for a given Item_ID
-#    objects_common.point_exists - Common function to see if a given item exists
 #    objects_signals.update_references_to_point - called when the point ID is changed
 #    objects_signals.remove_references_to_point - called when the point is deleted
+#    objects_sensors.update_references_to_point - called when the point ID is changed
+#    objects_sensors.remove_references_to_point - called when the point is deleted
 #
 # Accesses the following external editor objects directly:
 #    run_layout.schematic_callback - to set the callbacks when creating/recreating
 #    objects_common.schematic_objects - the master dictionary of Schematic Objects
 #    objects_common.point_index - The index of Point Objects (for iterating)
 #    objects_common.signal_index - The index of Signal Objects (for iterating)
 #    objects_common.default_object - The common dictionary element for all objects
 #    objects_common.object_type - The Enumeration of supported objects
 #    objects_common.canvas - Reference to the Tkinter drawing canvas
 #
 # Accesses the following external library objects directly:
 #    points.point_type - for setting the enum value when creating the object
 #
 # Makes the following external API calls to library modules:
+#    points.point_exists - Common function to see if a given item exists
 #    points.delete_point(id) - delete library drawing object (part of soft delete)
 #    points.create_point(id) -  To create the library object (create or redraw)
 #    points.update_autoswitch(id,autoswitch_id) - to change the config of an existing point
 #    points.get_tags(id) - get the canvas 'tags' for the point drawing objects
 #    points.point_switched(id) - test if a point is switched (when updating dependent objects)
 #    points.toggle_point_state(id) - to toggle point (when updating dependent objects)
 #    dcc_control.delete_point_mapping - delete mappings when deleting point / prior to recreating
@@ -50,14 +52,15 @@
 import copy
 
 from ...library import points
 from ...library import dcc_control
 
 from . import objects_common
 from . import objects_signals
+from . import objects_sensors
 from .. import run_layout
 
 #------------------------------------------------------------------------------------
 # Default Point Objects (i.e. state at creation)
 #------------------------------------------------------------------------------------
 
 default_point_object = copy.deepcopy(objects_common.default_object)
@@ -124,15 +127,15 @@
 
 def update_references_to_point(old_point_id:int, new_point_id:int):
     # Iterate through all the points on the schematic
     for point_id in objects_common.point_index:
         point_object = objects_common.point(point_id)
         if objects_common.schematic_objects[point_object]["alsoswitch"] == old_point_id:
             objects_common.schematic_objects[point_object]["alsoswitch"] = new_point_id
-            points.update_autoswitch(point_id=point_id, autoswitch_id=new_point_id)
+            points.update_autoswitch(point_id=int(point_id), autoswitch_id=new_point_id)
     return()
 
 #------------------------------------------------------------------------------------
 # Internal function to remove references to this point from points configured to "also
 # switch" the deleted point. Note that we use the non-public API function for updating
 # the 'autoswitched' ID rather than deleting the point and then re-creating it in its new
 # state. The main use case is when bulk deleting objects via the schematic editor, where
@@ -141,15 +144,15 @@
 #------------------------------------------------------------------------------------
 
 def remove_references_to_point(deleted_point_id:int):
     for point_id in objects_common.point_index:
         point_object = objects_common.point(point_id)
         if objects_common.schematic_objects[point_object]["alsoswitch"] == deleted_point_id:
             objects_common.schematic_objects[point_object]["alsoswitch"] = 0
-            points.update_autoswitch(point_id=point_id, autoswitch_id=0)
+            points.update_autoswitch(point_id=int(point_id), autoswitch_id=0)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to to update a point object after a configuration change
 #------------------------------------------------------------------------------------
 
 def update_point(object_id, new_object_configuration):
@@ -164,61 +167,61 @@
     # Check to see if the Type-specific ID has been changed
     if old_item_id != new_item_id:
         # Update the type-specific index
         del objects_common.point_index[str(old_item_id)]
         objects_common.point_index[str(new_item_id)] = object_id
         # Update any other point that "also switches" this point to use the new ID
         update_references_to_point(old_item_id,new_item_id)
-        # Update any affected signal interlocking tables to reference the new point ID
+        # Update any affected signal / track sensor tables to reference the new point ID
         objects_signals.update_references_to_point(old_item_id, new_item_id)
+        objects_sensors.update_references_to_point(old_item_id, new_item_id)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to redraw a Point object on the schematic. Called when the object is first
 # created or after the object configuration has been updated.
 #------------------------------------------------------------------------------------
 
 def redraw_point_object(object_id):
     # Create the new DCC Mapping for the point
-    if objects_common.schematic_objects[object_id]["dccaddress"] > 0:
-        dcc_control.map_dcc_point (objects_common.schematic_objects[object_id]["itemid"],
-                                   objects_common.schematic_objects[object_id]["dccaddress"],
-                                   objects_common.schematic_objects[object_id]["dccreversed"])
+    dcc_control.map_dcc_point (objects_common.schematic_objects[object_id]["itemid"],
+                               objects_common.schematic_objects[object_id]["dccaddress"],
+                               objects_common.schematic_objects[object_id]["dccreversed"])
     # Turn the point type value back into the required enumeration type
     point_type = points.point_type(objects_common.schematic_objects[object_id]["itemtype"])
     # Create the new point object
-    points.create_point (
+    canvas_tags = points.create_point (
                 canvas = objects_common.canvas,
                 point_id = objects_common.schematic_objects[object_id]["itemid"],
                 pointtype = point_type,
                 x = objects_common.schematic_objects[object_id]["posx"],
                 y = objects_common.schematic_objects[object_id]["posy"],
+                callback = run_layout.schematic_callback,
                 colour = objects_common.schematic_objects[object_id]["colour"],
                 orientation = objects_common.schematic_objects[object_id]["orientation"],
-                point_callback = run_layout.schematic_callback,
                 also_switch = objects_common.schematic_objects[object_id]["alsoswitch"],
                 reverse = objects_common.schematic_objects[object_id]["reverse"],
                 auto = objects_common.schematic_objects[object_id]["automatic"],
                 fpl = objects_common.schematic_objects[object_id]["hasfpl"])
     # Create/update the canvas "tags" and selection rectangle for the point
-    objects_common.schematic_objects[object_id]["tags"] = points.get_tags(objects_common.schematic_objects[object_id]["itemid"])
-    objects_common.set_bbox (object_id, objects_common.canvas.bbox(objects_common.schematic_objects[object_id]["tags"]))         
+    objects_common.schematic_objects[object_id]["tags"] = canvas_tags
+    objects_common.set_bbox (object_id, objects_common.canvas.bbox(canvas_tags))         
     return()
 
 #------------------------------------------------------------------------------------
 # Function to Create a new default Point (and draw it on the canvas)
 #------------------------------------------------------------------------------------
         
 def create_point(item_type):
     # Generate a new object from the default configuration with a new UUID 
     object_id = str(uuid.uuid4())
     objects_common.schematic_objects[object_id] = copy.deepcopy(default_point_object)
     # Find the initial canvas position for the new object and assign the item ID
     x, y = objects_common.find_initial_canvas_position()
-    item_id = objects_common.new_item_id(exists_function=objects_common.point_exists)
+    item_id = objects_common.new_item_id(exists_function=points.point_exists)
     # Add the specific elements for this particular instance of the point
     objects_common.schematic_objects[object_id]["itemid"] = item_id
     objects_common.schematic_objects[object_id]["itemtype"] = item_type
     objects_common.schematic_objects[object_id]["posx"] = x
     objects_common.schematic_objects[object_id]["posy"] = y
     # Add the new object to the index of points
     objects_common.point_index[str(item_id)] = object_id
@@ -234,15 +237,15 @@
 #------------------------------------------------------------------------------------
 
 def paste_point(object_to_paste, deltax:int, deltay:int):
     # Create a new UUID for the pasted object
     new_object_id = str(uuid.uuid4())
     objects_common.schematic_objects[new_object_id] = copy.deepcopy(object_to_paste)
     # Assign a new type-specific ID for the object and add to the index
-    new_id = objects_common.new_item_id(exists_function=objects_common.point_exists)
+    new_id = objects_common.new_item_id(exists_function=points.point_exists)
     objects_common.schematic_objects[new_object_id]["itemid"] = new_id
     objects_common.point_index[str(new_id)] = new_object_id
     # Set the position for the "pasted" object (offset from the original position)
     objects_common.schematic_objects[new_object_id]["posx"] += deltax
     objects_common.schematic_objects[new_object_id]["posy"] += deltay
     # Now set the default values for all elements we don't want to copy:
     objects_common.schematic_objects[new_object_id]["alsoswitch"] = default_point_object["alsoswitch"]
@@ -273,16 +276,17 @@
 #------------------------------------------------------------------------------------
 
 def delete_point(object_id):
     # Soft delete the associated library objects from the canvas
     delete_point_object(object_id)
     # Remove any references to the point from other points ('also switch' points).
     remove_references_to_point(objects_common.schematic_objects[object_id]["itemid"])
-    # Remove any references to the point from the signal interlocking tables
+    # Remove any references to the point from the signal / track sensor tables
     objects_signals.remove_references_to_point(objects_common.schematic_objects[object_id]["itemid"])
+    objects_sensors.remove_references_to_point(objects_common.schematic_objects[object_id]["itemid"])
     # "Hard Delete" the selected object - deleting the boundary box rectangle and deleting
     # the object from the dictionary of schematic objects (and associated dictionary keys)
     objects_common.canvas.delete(objects_common.schematic_objects[object_id]["bbox"])
     del objects_common.point_index[str(objects_common.schematic_objects[object_id]["itemid"])]
     del objects_common.schematic_objects[object_id]
     return()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_sections.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_sections.py`

 * *Files 2% similar despite different names*

```diff
@@ -18,14 +18,16 @@
 #    objects_common.set_bbox - to create/update the boundary box for the schematic object
 #    objects_common.find_initial_canvas_position - to find the next 'free' canvas position
 #    objects_common.new_item_id - to find the next 'free' item ID when creating objects
 #    objects_common.section - To get The Object_ID for a given Item_ID
 #    objects_common.section_exists - Common function to see if a given item exists
 #    objects_signals.update_references_to_instrument - when the instrument ID is changed
 #    objects_signals.remove_references_to_instrument - when the instrument is deleted
+#    objects_sensors.update_references_to_point - called when the point ID is changed
+#    objects_sensors.remove_references_to_point - called when the point is deleted
 #    
 # Accesses the following external editor objects directly:
 #    run_layout.schematic_callback - setting the object callbacks when created/recreated
 #    objects_common.objects_common.schematic_objects - the master dictionary of Schematic Objects
 #    objects_common.objects_common.section_index - The index of Section Objects (for iterating)
 #    objects_common.default_object - The common dictionary element for all objects
 #    objects_common.object_type - The Enumeration of supported objects
@@ -44,14 +46,15 @@
 import uuid
 import copy
 
 from ...library import track_sections
 
 from . import objects_common
 from . import objects_signals
+from . import objects_sensors
 from .. import run_layout 
 
 #------------------------------------------------------------------------------------
 # Default Track Section Objects (i.e. state at creation)
 #------------------------------------------------------------------------------------
 
 default_section_object = copy.deepcopy(objects_common.default_object)
@@ -163,16 +166,17 @@
     objects_common.schematic_objects[object_id] = copy.deepcopy(new_object_configuration)
     redraw_section_object(object_id)
     # Check to see if the Type-specific ID has been changed
     if old_item_id != new_item_id:
         # Update the type-specific index
         del objects_common.section_index[str(old_item_id)]
         objects_common.section_index[str(new_item_id)] = object_id
-        # Update any references to the section from the Signal automation tables
+        # Update any references to the section from the Signal / track sensor tables
         objects_signals.update_references_to_section(old_item_id, new_item_id)
+        objects_sensors.update_references_to_section(old_item_id, new_item_id)
         # Update any references from other Track Sections (mirrored sections)
         update_references_to_section(old_item_id, new_item_id)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to redraw a Section object on the schematic. Called when the object is first
 # created or after the object configuration has been updated. The 'reset_state' flag
@@ -292,16 +296,17 @@
 # Function to 'hard delete' a track occupancy section (drawing objects and the main
 # dictionary entry). Function called when object is deleted from the schematic.
 #------------------------------------------------------------------------------------
     
 def delete_section(object_id):
     # Soft delete the associated library objects from the canvas
     delete_section_object(object_id)
-    # Remove any references to the section from the signal track occupancy tables
+    # Remove any references to the section from the signal / track sensor tables
     objects_signals.remove_references_to_section(objects_common.schematic_objects[object_id]["itemid"])
+    objects_sensors.remove_references_to_section(objects_common.schematic_objects[object_id]["itemid"])
     # Remove any references from other Track Sections (mirrored sections)
     remove_references_to_section(objects_common.schematic_objects[object_id]["itemid"])
     # "Hard Delete" the selected object - deleting the boundary box rectangle and deleting
     # the object from the dictionary of schematic objects (and associated dictionary keys)
     objects_common.canvas.delete(objects_common.schematic_objects[object_id]["bbox"])
     del objects_common.section_index[str(objects_common.schematic_objects[object_id]["itemid"])]
     del objects_common.schematic_objects[object_id]
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_signals.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_signals.py`

 * *Files 3% similar despite different names*

```diff
@@ -22,26 +22,26 @@
 #    update_references_to_instrument(old_id, new_id) - update inst_id in the interlocking tables
 #
 # Makes the following external API calls to other editor modules:
 #    objects_common.set_bbox - to create/update the boundary box for the schematic object
 #    objects_common.find_initial_canvas_position - to find the next 'free' canvas position
 #    objects_common.new_item_id - to find the next 'free' item ID when creating objects
 #    objects_common.signal - To get The Object_ID for a given Item_ID
-#    objects_common.signal_exists - Common function to see if a given item exists
 #    objects_points.reset_point_interlocking_tables() - recalculate interlocking tables 
 #
 # Accesses the following external editor objects directly:
 #    run_layout.schematic_callback - setting the object callbacks when created/recreated
 #    objects_common.schematic_objects - the master dictionary of Schematic Objects
 #    objects_common.signal_index - The Index of Signal Objects (for iterating)
 #    objects_common.default_object - The common dictionary element for all objects
 #    objects_common.object_type - The Enumeration of supported objects
 #    objects_common.canvas - Reference to the Tkinter drawing canvas
 #
 # Accesses the following external library objects directly:
+#    signals_common.sig_exists - Common function to see if a given item exists
 #    signals_common.sig_type - for setting the enum value when creating the object
 #    signals_colour_lights.signal_sub_type - for setting the enum value when creating the object
 #    signals_semaphores.semaphore_sub_type - for setting the enum value when creating the object
 #    signals_ground_position.ground_pos_sub_type - for setting the enum value when creating the object
 #    signals_ground_disc.ground_disc_sub_type - for setting the enum value when creating the object
 #
 # Makes the following external API calls to library modules:
@@ -55,34 +55,30 @@
 #    signals_common.delete_signal(id) - delete library drawing object (part of soft delete)
 #    signals.reset_mqtt_configuration - reset MQTT networking prior to reconfiguration
 #    signals.set_signals_to_publish_state(IDs) - configure MQTT networking
 #    signals.subscribe_to_remote_signal(ID,callback) - configure MQTT networking
 #    dcc_control.delete_signal_mapping - delete the existing DCC mapping for the signal
 #    dcc_control.map_dcc_signal - to create a new DCC mapping for the signal
 #    dcc_control.map_semaphore_signal - to create a new DCC mapping for the signal
-#    track_sensors.update_sensor_callback - For managing track sensor objects
-#    track_sensors.remove_sensor_callbacks - For managing track sensor objects
-#    track_sensors.delete_all_local_track_sensors - For managing track sensor objects
-#    track_sensors.reset_mqtt_configuration - For managing track sensor objects
-#    track_sensors.set_sensors_to_publish_state - For managing track sensor objects
-#    track_sensors.subscribe_to_remote_sensor - For managing track sensor objects
-#    track_sensors.create_track_sensor - For managing track sensor objects
+#    gpio_sensors.add_gpio_sensor_callback - To set up a GPIO Sensor triggered callback
+#    gpio_sensors.remove_gpio_sensor_callback - To remove any GPIO Sensor triggered callbacks
+#
 #------------------------------------------------------------------------------------
 
 import uuid
 import copy
 
 from ...library import signals
 from ...library import signals_common
 from ...library import signals_colour_lights
 from ...library import signals_semaphores
 from ...library import signals_ground_position
 from ...library import signals_ground_disc
 from ...library import dcc_control
-from ...library import track_sensors
+from ...library import gpio_sensors
 
 from . import objects_common
 from . import objects_points
 from .. import run_layout
 
 #------------------------------------------------------------------------------------
 # Default Signal Objects (i.e. state at creation)
@@ -320,15 +316,15 @@
         sig_object = objects_common.signal(signal_id)
         # Iterate through each route in the interlocking table
         interlocking_table = objects_common.schematic_objects[sig_object]["pointinterlock"]
         for index1, interlocked_route in enumerate(interlocking_table):
             list_of_interlocked_points = interlocked_route[0]
             # Create a new 'blank' list for copying the points (that haven't been deleted) across
             # We do this to 'tidy up' the list (i.e. remove the 'blanks' caused by the point removal)
-            new_list_of_interlocked_points = [[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]]
+            new_list_of_interlocked_points = [[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]]
             index2 = 0
             # Iterate through each point on the route in the interlocking table
             # to build up the new list of points (that are to be retained)
             for interlocked_point in list_of_interlocked_points:
                 if interlocked_point[0] != point_id:
                     new_list_of_interlocked_points[index2] = interlocked_point
                     index2 = index2 +1
@@ -449,14 +445,15 @@
 #------------------------------------------------------------------------------------
 
 def update_signal(object_id, new_object_configuration):
     # We need to track whether the Item ID has changed
     old_item_id = objects_common.schematic_objects[object_id]["itemid"]
     new_item_id = new_object_configuration["itemid"]    
     # Delete the existing signal object, copy across the new configuration and redraw
+    # Note that the delete_signal_object function will also delete any DCC or sensor mappings
     delete_signal_object(object_id)
     objects_common.schematic_objects[object_id] = copy.deepcopy(new_object_configuration)
     redraw_signal_object(object_id)                
     # Check to see if the Type-specific ID has been changed
     if old_item_id != new_item_id:
         # Update the type-specific index
         del objects_common.signal_index[str(old_item_id)]
@@ -473,18 +470,18 @@
 #------------------------------------------------------------------------------------
 
 def redraw_signal_object(object_id):
     # Turn the signal type value back into the required enumeration type
     sig_type = signals_common.sig_type(objects_common.schematic_objects[object_id]["itemtype"])
     # Update the sensor mapping callbacks for the signal (if any have been specified)
     if objects_common.schematic_objects[object_id]["passedsensor"][1] != "":     
-        track_sensors.update_sensor_callback(objects_common.schematic_objects[object_id]["passedsensor"][1],
+        gpio_sensors.add_gpio_sensor_callback(objects_common.schematic_objects[object_id]["passedsensor"][1],
                                     signal_passed = objects_common.schematic_objects[object_id]["itemid"] )
     if objects_common.schematic_objects[object_id]["approachsensor"][1] != "":  
-        track_sensors.update_sensor_callback(objects_common.schematic_objects[object_id]["approachsensor"][1],
+        gpio_sensors.add_gpio_sensor_callback(objects_common.schematic_objects[object_id]["approachsensor"][1],
                                     signal_approach = objects_common.schematic_objects[object_id]["itemid"] )
     # Create the DCC Mappings for the signal (depending on signal type)
     if (sig_type == signals_common.sig_type.colour_light or
             sig_type == signals_common.sig_type.ground_position):
         # Create the new DCC Mapping for the Colour Light Signal
         dcc_control.map_dcc_signal (objects_common.schematic_objects[object_id]["itemid"],
                     auto_route_inhibit = objects_common.schematic_objects[object_id]["dccautoinhibit"],
@@ -637,15 +634,15 @@
 
 def create_signal(item_type, item_subtype):
     # Generate a new object from the default configuration with a new UUID 
     object_id = str(uuid.uuid4())
     objects_common.schematic_objects[object_id] = copy.deepcopy(default_signal_object)
     # Find the initial canvas position for the new object and assign the item ID
     x, y = objects_common.find_initial_canvas_position()
-    item_id = objects_common.new_item_id(exists_function=objects_common.signal_exists)
+    item_id = objects_common.new_item_id(exists_function=signals_common.sig_exists)
     # Add the specific elements for this particular instance of the object
     objects_common.schematic_objects[object_id]["itemid"] = item_id
     objects_common.schematic_objects[object_id]["itemtype"] = item_type
     objects_common.schematic_objects[object_id]["itemsubtype"] = item_subtype
     objects_common.schematic_objects[object_id]["posx"] = x
     objects_common.schematic_objects[object_id]["posy"] = y
     # Add the new object to the index of signals
@@ -662,15 +659,15 @@
 #------------------------------------------------------------------------------------
 
 def paste_signal(object_to_paste, deltax:int, deltay:int):
     # Create a new UUID for the pasted object
     new_object_id = str(uuid.uuid4())
     objects_common.schematic_objects[new_object_id] = copy.deepcopy(object_to_paste)
     # Assign a new type-specific ID for the object and add to the index
-    new_id = objects_common.new_item_id(exists_function=objects_common.signal_exists)
+    new_id = objects_common.new_item_id(exists_function=signals_common.sig_exists)
     objects_common.schematic_objects[new_object_id]["itemid"] = new_id
     objects_common.signal_index[str(new_id)] = new_object_id
     # Set the position for the "pasted" object (offset from the original position)
     objects_common.schematic_objects[new_object_id]["posx"] += deltax
     objects_common.schematic_objects[new_object_id]["posy"] += deltay
     # Now set the default values for all elements we don't want to copy:
     # Enabled routes for the signal (all route definitions are cleared with interlocking)
@@ -717,19 +714,22 @@
 #------------------------------------------------------------------------------------
 
 def delete_signal_object(object_id):
     # Delete the signal drawing objects and associated DCC mapping
     signals_common.delete_signal(objects_common.schematic_objects[object_id]["itemid"])
     dcc_control.delete_signal_mapping(objects_common.schematic_objects[object_id]["itemid"])
     # Delete the track sensor mappings for the signal (if any)
-    track_sensors.remove_sensor_callbacks(objects_common.schematic_objects[object_id]["itemid"]*10)
-    track_sensors.remove_sensor_callbacks(objects_common.schematic_objects[object_id]["itemid"]*10+1)
+    passed_sensor = objects_common.schematic_objects[object_id]["passedsensor"][1]
+    approach_sensor = objects_common.schematic_objects[object_id]["approachsensor"][1]
+    if passed_sensor != "": gpio_sensors.remove_gpio_sensor_callback(passed_sensor)
+    if approach_sensor != "": gpio_sensors.remove_gpio_sensor_callback(approach_sensor)
     # Delete the associated distant signal (if there is one)
-    signals_common.delete_signal(objects_common.schematic_objects[object_id]["itemid"]+100)
-    dcc_control.delete_signal_mapping(objects_common.schematic_objects[object_id]["itemid"]+100)
+    if has_associated_distant(object_id):
+        signals_common.delete_signal(objects_common.schematic_objects[object_id]["itemid"]+100)
+        dcc_control.delete_signal_mapping(objects_common.schematic_objects[object_id]["itemid"]+100)
     return()
 
 #------------------------------------------------------------------------------------
 # Function to 'hard delete' a signal (drawing objects, DCC mappings, sensor mappings,
 # and the main dict entry). Function called when signal is deleted from the schematic.
 #------------------------------------------------------------------------------------
 
@@ -756,66 +756,8 @@
 def mqtt_update_signals(signals_to_publish:list, signals_to_subscribe_to:list):
     signals_common.reset_mqtt_configuration()
     signals.set_signals_to_publish_state(*signals_to_publish)
     for signal_identifier in signals_to_subscribe_to:
         signals.subscribe_to_remote_signal(signal_identifier, run_layout.schematic_callback)
     return()
 
-########################################################################################################
-# The following functions are specific to Track Sensor Objects
-########################################################################################################
-
-#------------------------------------------------------------------------------------
-# Function to re-create local sensors (following a sensor settings update) - this
-# ensures that any signal event mappings are retained for the 'new' sensors
-#------------------------------------------------------------------------------------
-
-def update_local_sensors(trigger:float, timeout:float, mappings:list):
-    # Delete all track sensor objects and then re-create from the updated settings
-    track_sensors.delete_all_local_track_sensors()
-    # Iterate through the sensor mappings to create each (new) track sensor objectin turn
-    for mapping in mappings:
-        sensor_id, gpio_port = mapping[0], mapping[1]
-        signal_passed, signal_approach = 0, 0
-        # Iterate through the signals to find if the sensor has been mapped to a signal approach/passed event
-        for signal_id in objects_common.signal_index:
-            signal_object =  objects_common.schematic_objects[objects_common.signal(signal_id)]
-            # Re-create the signal event mappings if the specified sensor exists in the new configuration 
-            # If not, the sensor is created without any event mappings (these can be added later as required)
-            if signal_object["passedsensor"][1] == str(sensor_id):
-                signal_passed = int(signal_id)
-                break
-            if signal_object["approachsensor"][1] == str(sensor_id):
-                signal_approach = int(signal_id)
-                break
-        track_sensors.create_track_sensor(sensor_id, gpio_port, signal_passed=signal_passed,
-                    signal_approach=signal_approach, trigger_period=trigger, sensor_timeout=timeout)
-    return()
-
-#------------------------------------------------------------------------------------
-# Function to re-create local sensors (following a sensor settings update) - this
-# ensures that any signal event mappings are retained for the 'new' sensors
-#------------------------------------------------------------------------------------
-
-def mqtt_update_sensors(pub_sensors:list,sub_sensors:list):
-    # Delete all publish/subscribe configuration prior to re-creating
-    track_sensors.reset_mqtt_configuration()
-    track_sensors.set_sensors_to_publish_state(*pub_sensors)
-    # Iterate through the list of sensors to subscribe to - to create each (new) subscription in turn
-    for remote_identifier in sub_sensors:
-        signal_passed, signal_approach = 0, 0
-        # Iterate through the signals to find if the sensor has been mapped to a signal approach/passed event
-        for signal_id in objects_common.signal_index:
-            signal_object =  objects_common.schematic_objects[objects_common.signal(signal_id)]
-            # Re-create the signal event mappings if the specified sensor exists in the new configuration 
-            # If not, the sensor is created without any event mappings (these can be added later as required)
-            if signal_object["passedsensor"][1] == remote_identifier:
-                signal_passed = int(signal_id)
-                break
-            if signal_object["approachsensor"][1] == remote_identifier:
-                signal_approach = int(signal_id)
-                break
-        track_sensors.subscribe_to_remote_sensor(remote_identifier,
-                    signal_passed=signal_passed, signal_approach=signal_approach)
-    return()
-
 ####################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/objects/objects_textboxes.py` & `model_railway_signals-4.2.0/model_railway_signals/editor/objects/objects_textboxes.py`

 * *Files 1% similar despite different names*

```diff
@@ -87,18 +87,20 @@
     return()
 
 #------------------------------------------------------------------------------------
 # Function to Create a new default Text Box (and draw it on the canvas)
 #------------------------------------------------------------------------------------
         
 def create_textbox():
-    # Generate a new object from the default configuration with a new UUID 
+    # Generate a new object from the default configuration with a new UUID
+    # Note that we don't need to assign the 'itemID' as textboxes are just
+    # for annotating the schematic (not used in layout configuration/automation)
     object_id = str(uuid.uuid4())
     objects_common.schematic_objects[object_id] = copy.deepcopy(default_textbox_object)
-    # Find the initial canvas position for the new object and assign the item ID
+    # Find the initial canvas position
     x, y = objects_common.find_initial_canvas_position()
     # Add the specific elements for this particular instance of the object
     objects_common.schematic_objects[object_id]["posx"] = x
     objects_common.schematic_objects[object_id]["posy"] = y
     # Draw the text box on the canvas
     redraw_textbox_object(object_id)
     return(object_id)
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow1.png` & `model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow1.png`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow2.png` & `model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow2.png`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow3.png` & `model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow3.png`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/resources/arrow4.png` & `model_railway_signals-4.2.0/model_railway_signals/editor/resources/arrow4.png`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/editor/resources/endstop.png` & `model_railway_signals-4.2.0/model_railway_signals/editor/resources/endstop.png`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/block_instruments.py` & `model_railway_signals-4.2.0/model_railway_signals/library/block_instruments.py`

 * *Files 18% similar despite different names*

```diff
@@ -1,85 +1,93 @@
 # -----------------------------------------------------------------------------------------------
 # This module is used for creating and managing Block instruments. Both single line (bi directional)
 # and twin line instruments are supported. Sound files credited to https://www.soundjay.com/tos.html
 # -----------------------------------------------------------------------------------------------
 #
-# Public types and functions: 
+# External API - classes and functions (used by the Schematic Editor):
 # 
-# block_callback_type (tells the calling program what has triggered the callback)
-#     block_section_ahead_updated - The block section AHEAD of our block section has been updated
-#                             (i.e. the block section state represented by the Repeater indicator)
+#   instrument_type (use when creating instruments)
+#      instrument_type.single_line
+#      instrument_type.double_line
 #
-# instrument_type - enumeration type - single_line or double_line
+#   block_callback_type (tells the calling program what has triggered the callback)
+#      block_callback_type. block_section_ahead_updated - The block section AHEAD has been updated
+#                               (i.e. the block section state of the linked block instrument)
 # 
-# create_block_instrument - Creates a Block Section Instrument on the schematic
-#   Mandatory Parameters:
-#       Canvas - The Tkinter Drawing canvas on which the instrument is to be displayed
-#       block_id:int - The local identifier to be used for the Block Instrument 
-#       x:int, y:int - Position of the instrument on the canvas (in pixels)
-#   Optional Parameters:
-#       inst_type:instrument_type - either instrument_type.single_line or instrument_type.double_line
-#       block_callback - The function to call when the repeater indicator on our instrument has been
-#                        updated (i.e. the block changed on the linked instrument) - default: null
-#                        Note that the callback function returns (item_id, callback type)
-#       bell_sound_file:str - The filename of the soundfile (in the local package resources
-#                           folder) to use for the bell sound (default "bell-ring-01.wav")
-#       telegraph_sound_file:str - The filename of the soundfile (in the local package resources)
-#                           to use for the Telegraph key sound (default "telegraph-key-01.wav")
-#       linked_to:int/str - the identifier for the "paired" block instrument - can be specified
-#                           either as an integer (representing the ID of a Block Instrument on the
-#                           the local schematic), or a string representing a Block Instrument 
-#                           running on a remote node - see MQTT networking (default = None)
+#   create_instrument - Creates an instrument and returns the "tag" for all tkinter canvas drawing objects 
+#                       This allows the editor to move the point object on the schematic as required
+#      Mandatory Parameters:
+#        Canvas - The Tkinter Drawing canvas on which the instrument is to be displayed
+#        inst_id:int - The local identifier to be used for the Block Instrument 
+#        inst_type:instrument_type - either instrument_type.single_line or instrument_type.double_line
+#        x:int, y:int - Position of the instrument on the canvas (in pixels)
+#        callback - The function to call on block section ahead updated events
+#                   Note that the callback function returns (item_id, callback type)
+#      Optional Parameters:
+#        bell_sound_file:str - The filename of the soundfile (in the local package resources
+#                             folder) to use for the bell sound (default "bell-ring-01.wav")
+#        telegraph_sound_file:str - The filename of the soundfile (in the local package resources)
+#                             to use for the Telegraph key sound (default "telegraph-key-01.wav")
+#        linked_to:int/str - the identifier for the "paired" block instrument - can be specified
+#                            either as an integer (representing the ID of a Block Instrument on the
+#                            the local schematic), or a string representing a Block Instrument 
+#                            running on a remote node - see MQTT networking (default = None)
 # 
-# Note that automatic MQTT networking publish/subscribe on instrument creation is now DEPRECATED.
-# The 'set_instruments_to_publish_state' and 'subscribe_to_instrument_updates' functions should
-# be called to configure networking prior to creating Block Instruments on the local schematic.
-# This is to provide a level of consistency between other MQTT publish/subscribe functions.
+#   instrument_exists(inst_id:int/str) - returns true if the Block Instrument 'exists' (either a block instrument
+#        has been created on the local schematic or the block_instrument has been subscribed to via MQTT networking)
+#
+#   update_linked_instrument(inst_id:int, linked_to:str) - updated the linked instrument in a block Instrument
+#                            configuration (updating the repeater on the new linked instrument as required)
+#
+#   delete_instrument(inst_id:int) - To delete the specified Block Instrument from the schematic
+#
+#   block_section_ahead_clear(inst_id:int) - Returns the state of the ASSOCIATED block instrument
+#                       (i.e. the linked instrument controlling the state of the block section ahead)
+#
+# The following API functions are for configuring the pub/sub of Block Instrument events. The functions are
+# called by the editor on 'Apply' of the MQTT settings. First, 'reset_mqtt_configuration' is called to clear down
+# the existing pub/sub configuration, followed by 'set_instruments_to_publish_state' (with the list of LOCAL Block
+# Instruments to publish) and 'subscribe_to_remote_instrument' for each REMOTE Block Instrument that has been subscribed.
+#
+#   reset_mqtt_configuration() - Clears down the current Block Instrument pub/sub configuration
 # 
-# block_section_ahead_clear(block_id:int) - Returns the state of the ASSOCIATED block instrument
-#           (i.e. the linked instrument controlling the state of the block section ahead of ours)
-#           This can be used to implement full interlocking of the Starter signal in our section
-#           (i.e. signal locked at danger until the box ahead sets their instrument to LINE-CLEAR)
-#           Returned state is: True = LINE-CLEAR, False = LINE-BLOCKED or TRAIN-ON-LINE
-#
-# If you want to use Block Instruments with full sound enabled (bell rings and telegraph key sounds)
-# then you will also need to install the 'simpleaudio' package. Note that for Windows it has a dependency 
-# on Microsoft Visual C++ 14.0 or greater (so you will need to ensure Visual Studio 2015 is installed first)
-# If 'simpleaudio' is not installed then the software will still function correctly (just without sound)
+#   set_instruments_to_publish_state(*sensor_ids:int) - Enable the publication of Block Instrument events.
 #
-# ------------------------------------------------------------------------------------------
+#   subscribe_to_remote_instrument(remote_id:str) - Subscribes to a remote Block Instrument
 #
-# The following functions are associated with the MQTT networking Feature:
+# Classes and functions used by the other library modules:
 #
-# subscribe_to_remote_instrument - Subscribes to a remote block instrument object
-#   Mandatory Parameters:
-#       remote_identifier:str - the remote identifier for the block instrument in the form 'node-id'
-#
-# set_instruments_to_publish_state - Enable the publication of state updates for block instruments.
-#                All subsequent changes will be automatically published to remote subscribers
-#   Mandatory Parameters:
-#       *inst_ids:int - The block instruments to publish (multiple Instrument_IDs can be specified)
+#   handle_mqtt_instrument_updated_event(message) - called on receipt of a remote 'instrument_updated' event
 #
-# -----------------------------------------------------------------------------------------------
+#   handle_mqtt_ring_section_bell_event(message) - called on receipt of a remote 'telegraph key' event
+#
+# ------------------------------------------------------------------------------------------
+# To use Block Instruments with full sound enabled (bell rings and telegraph key sounds) then
+# the 'simpleaudio' package will need to be installed. Note that for Windows it has a dependency 
+# on Microsoft Visual C++ 14.0 or greater (so Visual Studio 2015 should be installed first)
+# If 'simpleaudio' is not installed then the software will function without sound.
+# ------------------------------------------------------------------------------------------
 
 from . import common
 from . import mqtt_interface
 from . import file_interface
 from typing import Union
 import tkinter as Tk
 import enum
 import os
 import logging
 import importlib.resources
 
+# -------------------------------------------------------------------------
 # We can only use audio for the block instruments if 'simpleaudio' is installed
 # Although this package is supported across different platforms, for Windows
 # it has a dependency on Visual C++ 14.0. As this is quite a faff to install I
 # haven't made audio a hard and fast dependency for the 'model_railway_signals'
-# pack age as a whole - its up to the user to install if required
+# package as a whole - its up to the user to install if required
+# -------------------------------------------------------------------------
 
 def is_simpleaudio_installed():
     global simpleaudio
     try:
         import simpleaudio
         return (True)
     except Exception: pass
@@ -111,35 +119,14 @@
 
 # --------------------------------------------------------------------------------
 # Global list of block instruments to publish to the MQTT Broker
 # --------------------------------------------------------------------------------
 
 list_of_instruments_to_publish = []
 
-# -------------------------------------------------------------------------
-# The default "External" callback for Block Instruments if one isn't specified
-# -------------------------------------------------------------------------
-
-def null_callback(block_id:int, callback_type):
-    return(block_id, callback_type)
-
-# -------------------------------------------------------------------------
-# Helper function to return an instrument ID ofthe right python Type - depending
-# on whether it is a local (int) or remote (str) ID. We need to do this for the
-# editor as the editor will give us both local and remote IDs as a string
-# -------------------------------------------------------------------------
-
-def set_item_id_type(input_id:Union[int,str]):
-    if input_id is None or input_id == "":
-        output_id = None
-    else:
-        try: output_id = int(input_id)
-        except: output_id = str(input_id)
-    return(output_id)
-
 # --------------------------------------------------------------------------------
 # Internal Function to Open a window containing a list of common signal box bell
 # codes on the right click of the TELEGRAPH Button on any Block Instrument. The
 # window will always be displayed on top of the other Tkinter windows until closed.
 # Only one Telegraph Bell Codes window can be open at a time
 # --------------------------------------------------------------------------------
 
@@ -185,273 +172,336 @@
             text_entry_box2.grid(row=row,column=2)
             text_entry_box2.config(state='disabled')
             text_entry_box2.config({'disabledbackground':'white'}) 
             text_entry_box2.config({'disabledforeground':'black'}) 
     return()
 
 # --------------------------------------------------------------------------------
-# Internal Function to check if a Block Instrument exists in the list of Instruments
+# API Function to check if a Block Instrument exists in the list of Instruments
 # Used in most externally-called functions to validate the Block instrument ID
 # Note the function will take in either local or (subscribed to) remote IDs
 # --------------------------------------------------------------------------------
 
-def instrument_exists(block_id:Union[int,str]):
-    return (str(block_id) in instruments.keys() )
+def instrument_exists(inst_id:Union[int,str]):
+    if not isinstance(inst_id, int) and not isinstance(inst_id, str):
+        logging.error("Instrument "+str(inst_id)+": instrument_exists - Instrument ID must be an int or str")
+        instrument_exists = False
+    else:
+        instrument_exists = str(inst_id) in instruments.keys()
+    return(instrument_exists)
 
 # --------------------------------------------------------------------------------
-# Callbacks for handling button push events
+# Internal Callbacks for handling button push events
 # --------------------------------------------------------------------------------
 
-def occup_button_event (block_id:int):
-    logging.info ("Block Instrument "+str(block_id)+": Occup button event ***********************************************")
-    set_section_occupied(block_id)
+def occup_button_event(inst_id:int):
+    logging.info ("Instrument "+str(inst_id)+": Occup button event ***********************************************")
+    set_section_occupied(inst_id)
     return()
 
-def clear_button_event (block_id:int):
-    logging.info ("Block Instrument "+str(block_id)+": Clear button event ***********************************************")
-    set_section_clear(block_id)
+def clear_button_event(inst_id:int):
+    logging.info ("Instrument "+str(inst_id)+": Clear button event ***********************************************")
+    set_section_clear(inst_id)
     return()
 
-def blocked_button_event (block_id:int):
-    logging.info ("Block Instrument "+str(block_id)+": Blocked button event *********************************************")
-    set_section_blocked(block_id)
+def blocked_button_event(inst_id:int):
+    logging.info ("Instrument "+str(inst_id)+": Blocked button event *********************************************")
+    set_section_blocked(inst_id)
     return()
 
-def telegraph_key_button (block_id:int):
-    logging.debug ("Block Instrument "+str(block_id)+": Telegraph key operated ************************************")
+def telegraph_key_button(inst_id:int):
+    logging.debug ("Instrument "+str(inst_id)+": Telegraph key operated ************************************")
     # Provide a visual indication of the key being pressed
-    instruments[str(block_id)]["bellbutton"].config(relief="sunken")
-    common.root_window.after(10,lambda:instruments[str(block_id)]["bellbutton"].config(relief="raised"))
+    instruments[str(inst_id)]["bellbutton"].config(relief="sunken")
+    common.root_window.after(10,lambda:instruments[str(inst_id)]["bellbutton"].config(relief="raised"))
     # Sound the "clack" of the telegraph key - We put exception handling around this as the function can raise
     # exceptions if you try to play too many sounds simultaneously (if the button is clicked too quickly/frequently)
-    if instruments[str(block_id)]["telegraphsound"] is not None:
-        try: instruments[str(block_id)]["telegraphsound"].play()
+    if instruments[str(inst_id)]["telegraphsound"] is not None:
+        try: instruments[str(inst_id)]["telegraphsound"].play()
         except: pass
     # If linked to another instrument then call the function to ring the bell on the other instrument or
     # Publish the "bell ring event" to the broker (for other nodes to consume). Note that events will only
     # be published if the MQTT interface has been configured and we are connected to the broker
-    if instruments[str(block_id)]["linkedto"] is not None:
-        if isinstance(instruments[str(block_id)]["linkedto"],str): send_mqtt_ring_section_bell_event(block_id)
-        else: ring_section_bell(instruments[str(block_id)]["linkedto"])
+    if instruments[str(inst_id)]["linkedto"].isdigit(): ring_section_bell(instruments[str(inst_id)]["linkedto"])
+    elif instruments[str(inst_id)]["linkedto"] != "": send_mqtt_ring_section_bell_event(inst_id)
     return()
 
 # --------------------------------------------------------------------------------
 # Internal Function to receive bell rings from another instrument and
 # sound a bell "ting" on the local instrument (with a visual indication)
 # --------------------------------------------------------------------------------
 
-def ring_section_bell (block_id:int):
-    logging.debug ("Block Instrument "+str(block_id)+": Ringing Bell")
-    # Provide a visual indication of an incoming bell
-    instruments[str(block_id)]["bellbutton"].config(bg="yellow")
-    common.root_window.after(100,lambda:instruments[str(block_id)]["bellbutton"].config(bg="black"))
-    # Sound the Bell - We put exception handling around this as I've seen this function raise exceptions
-    # if you try to play too many sounds simultaneously (if the button is clicked too quickly/frequently)
-    if instruments[str(block_id)]["bellsound"] is not None:
-        try: instruments[str(block_id)]["bellsound"].play()
-        except: pass
+def reset_telegraph_button (inst_id:int):
+    if instrument_exists(inst_id): instruments[str(inst_id)]["bellbutton"].config(bg="black")
+
+def ring_section_bell(inst_id:int):
+    logging.debug ("Instrument "+str(inst_id)+": Ringing Bell")
+    # Provide a visual indication and sound the bell (not if shutdown has been initiated)
+    if not common.shutdown_initiated:
+        instruments[str(inst_id)]["bellbutton"].config(bg="yellow")
+        common.root_window.after(100,lambda:reset_telegraph_button(inst_id))
+        # Sound the Bell - We put exception handling around this as I've seen this function raise exceptions
+        # if you try to play too many sounds simultaneously (if the button is clicked too quickly/frequently)
+        if instruments[str(inst_id)]["bellsound"] is not None:
+            try: instruments[str(inst_id)]["bellsound"].play()
+            except: pass
     return()
 
 # --------------------------------------------------------------------------------
-# Function to set the repeater indicator (linked to another block section)
+# API callback function for handling received MQTT messages from a remote instrument
+# Note that this function will already be running in the main Tkinter thread
+# --------------------------------------------------------------------------------
+
+def handle_mqtt_instrument_updated_event(message):
+    if ("sourceidentifier" not in message.keys() or "sectionstate" not in message.keys() or
+          "instrumentid" not in message.keys() or not instrument_exists(message["sourceidentifier"]) or
+              mqtt_interface.split_remote_item_identifier(message["instrumentid"]) is None):
+        logging.warning("Instruments: handle_mqtt_instrument_updated_event - Unhandled MQTT message - "+str(message))
+    else:
+        node_id, inst_id = mqtt_interface.split_remote_item_identifier(message["instrumentid"])
+        if instrument_exists(inst_id):
+            logging.info("Instrument "+str(inst_id)+": State update from linked instrument "+
+                                        message["sourceidentifier"]+" ********************")
+            if message["sectionstate"] == True: set_repeater_clear(inst_id)
+            elif message["sectionstate"] == False: set_repeater_occupied(inst_id)
+            elif message["sectionstate"] == None: set_repeater_blocked(inst_id)
+        # Note that if the specified block instrument does not exist then we fail silently for the instrument updated event.
+        # This could arise from either layout misconfiguration (a non existant 'linked instrument' specified for the Block
+        # instrument on the oither network node), or the race condition that will arise when loading the layouts (one of the
+        # layouts will always be created first and will therefore end up sending the initial block instrument state message
+        # before the linked instrument (on the other layout) has been created. We therefore accept this as a limitation.
+    return()
+
+def handle_mqtt_ring_section_bell_event(message):
+    if ("sourceidentifier" not in message.keys() or "instrumentid" not in message.keys() or not instrument_exists(message["sourceidentifier"])
+            or mqtt_interface.split_remote_item_identifier(message["instrumentid"])  is None):
+        logging.warning("Instruments: handle_mqtt_ring_section_bell_event - Unhandled MQTT message - "+str(message))
+    else:
+        node_id, inst_id = mqtt_interface.split_remote_item_identifier(message["instrumentid"])
+        if instrument_exists(inst_id):
+            logging.debug("Instrument "+str(inst_id)+": Telegraph key event from linked instrument"+
+                                        message["sourceidentifier"]+" ********************")
+            ring_section_bell(inst_id)
+        # Note that if the specified block instrument does not exist then we fail silently for the ring section bell event.
+        # This could arise from either layout misconfiguration (a non existant 'linked instrument' specified for the Block
+        # instrument on the oither network node), or the race condition that will arise when loading the layouts (one of the
+        # layouts will always be created first and will therefore end up sending the initial block instrument state message
+        # before the linked instrument (on the other layout) has been created. We therefore accept this as a limitation.
+    return()
+
+# --------------------------------------------------------------------------------
+# Internal functions for building and publishing MQTT messages (to a remote instrument)
+# --------------------------------------------------------------------------------
+
+def send_mqtt_instrument_updated_event(inst_id:int):
+    if inst_id in list_of_instruments_to_publish:
+        data = {}
+        data["instrumentid"] = instruments[str(inst_id)]["linkedto"]
+        data["sectionstate"] = instruments[str(inst_id)]["sectionstate"]
+        log_message = "Instrument "+str(inst_id)+": Publishing instrument state to MQTT Broker"
+        # Publish as "retained" messages so remote items that subscribe later will always pick up the latest state
+        mqtt_interface.send_mqtt_message("instrument_updated_event", inst_id, data=data, log_message=log_message, retain=True)
+    return()
+
+def send_mqtt_ring_section_bell_event(inst_id:int):
+    if inst_id in list_of_instruments_to_publish:
+        data = {}
+        data["instrumentid"] = instruments[str(inst_id)]["linkedto"]
+        log_message = "Instrument "+str(inst_id)+": Publishing telegraph key event to MQTT Broker"
+        # These are transitory events so we do not publish as "retained" messages (if they get missed, they get missed)
+        mqtt_interface.send_mqtt_message("instrument_telegraph_event", inst_id, data=data, log_message=log_message, retain=False)
+    return()
+
+# --------------------------------------------------------------------------------
+# Internal Function to set the repeater indicator (linked to another block section)
 # to BLOCKED - if its a single line instrument then we set the main indication
 # --------------------------------------------------------------------------------
 
-def set_repeater_blocked (block_id:int,make_callback:bool=True):
+def set_repeater_blocked(inst_id:int,make_callback:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists(block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set repeater to LINE BLOCKED - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["repeaterstate"] is not None:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section repeater to LINE BLOCKED")
+    if instruments[str(inst_id)]["repeaterstate"] is not None:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section repeater to LINE BLOCKED")
         # Set the internal repeater state and the repeater indicator to BLOCKED
-        instruments[str(block_id)]["repeaterstate"] = None
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatoroccup"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorclear"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorblock"],state = "normal")
+        instruments[str(inst_id)]["repeaterstate"] = None
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatoroccup"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorclear"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorblock"],state = "normal")
         # For single line instruments we set the local instrument buttons to mirror the remote instrument
         # and also enable the local buttons (as the remote instrument has been returned to LINE BLOCKED)
-        if instruments[str(block_id)]["singleline"]:
-            instruments[str(block_id)]["blockbutton"].config(state="normal",relief="sunken",bg=common.bgsunken)
-            instruments[str(block_id)]["clearbutton"].config(state="normal",relief="raised",bg=common.bgraised)
-            instruments[str(block_id)]["occupbutton"].config(state="normal",relief="raised",bg=common.bgraised)
+        if instruments[str(inst_id)]["insttype"] == instrument_type.single_line:
+            instruments[str(inst_id)]["blockbutton"].config(state="normal",relief="sunken",bg=common.bgsunken)
+            instruments[str(inst_id)]["clearbutton"].config(state="normal",relief="raised",bg=common.bgraised)
+            instruments[str(inst_id)]["occupbutton"].config(state="normal",relief="raised",bg=common.bgraised)
         # Make an external callback (if one was specified) to notify that the block section AHEAD has been updated
         # This enables full block section interlocking to be implemented for the starter signal in OUR block section
         if make_callback:
-            instruments[str(block_id)]["extcallback"] (block_id,block_callback_type.block_section_ahead_updated)
+            instruments[str(inst_id)]["extcallback"] (inst_id,block_callback_type.block_section_ahead_updated)
     return ()
 
 # --------------------------------------------------------------------------------
-# Function to set the repeater indicator (linked to another block section)
+# Internal Function to set the repeater indicator (linked to another block section)
 # to LINE CLEAR - if its a single line instrument then we set the main indication
 # --------------------------------------------------------------------------------
 
-def set_repeater_clear (block_id:int,make_callback:bool=True):
+def set_repeater_clear(inst_id:int,make_callback:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set repeater to LINE CLEAR - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["repeaterstate"] != True:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section repeater to LINE CLEAR")
+    if instruments[str(inst_id)]["repeaterstate"] != True:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section repeater to LINE CLEAR")
         # Set the internal repeater state and the repeater indicator to CLEAR
-        instruments[str(block_id)]["repeaterstate"] = True
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatoroccup"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorclear"],state = "normal")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorblock"],state = "hidden")
+        instruments[str(inst_id)]["repeaterstate"] = True
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatoroccup"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorclear"],state = "normal")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorblock"],state = "hidden")
         # For single line instruments we set the local instrument buttons to mirror the remote instrument
         # and also inhibit the local buttons (until the remote instrument is returned to LINE BLOCKED)
-        if instruments[str(block_id)]["singleline"]:
-            instruments[str(block_id)]["blockbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
-            instruments[str(block_id)]["clearbutton"].config(state="disabled",relief="sunken",bg=common.bgsunken)
-            instruments[str(block_id)]["occupbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
+        if instruments[str(inst_id)]["insttype"] == instrument_type.single_line:
+            instruments[str(inst_id)]["blockbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
+            instruments[str(inst_id)]["clearbutton"].config(state="disabled",relief="sunken",bg=common.bgsunken)
+            instruments[str(inst_id)]["occupbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
         # Make an external callback (if one was specified) to notify that the block section AHEAD has been updated
         # This enables full block section interlocking to be implemented for the starter signal in OUR block section
         if make_callback:
-            instruments[str(block_id)]["extcallback"] (block_id,block_callback_type.block_section_ahead_updated)
+            instruments[str(inst_id)]["extcallback"] (inst_id,block_callback_type.block_section_ahead_updated)
     return ()
 
 # --------------------------------------------------------------------------------
-# Function to set the repeater indicator (linked to another block section)
+# Internal Function to set the repeater indicator (linked to another block section)
 # to OCCUPIED - if its a single line instrument then we set the main indication
 # --------------------------------------------------------------------------------
 
-def set_repeater_occupied (block_id:int,make_callback:bool=True):
+def set_repeater_occupied(inst_id:int,make_callback:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set repeater to TRAIN ON LINE - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["repeaterstate"] != False:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section repeater to TRAIN ON LINE")
+    if instruments[str(inst_id)]["repeaterstate"] != False:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section repeater to TRAIN ON LINE")
         # Set the internal repeater state and the repeater indicator to OCCUPIED
-        instruments[str(block_id)]["repeaterstate"] = False
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatoroccup"],state = "normal")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorclear"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["repeatindicatorblock"],state = "hidden")
+        instruments[str(inst_id)]["repeaterstate"] = False
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatoroccup"],state = "normal")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorclear"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["repeatindicatorblock"],state = "hidden")
         # For single line instruments we set the local instrument buttons to mirror the remote instrument
         # and also inhibit the local buttons (until the remote instrument is returned to LINE BLOCKED)
-        if instruments[str(block_id)]["singleline"]:
-            instruments[str(block_id)]["blockbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
-            instruments[str(block_id)]["clearbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
-            instruments[str(block_id)]["occupbutton"].config(state="disabled",relief="sunken",bg=common.bgsunken)
+        if instruments[str(inst_id)]["insttype"] == instrument_type.single_line:
+            instruments[str(inst_id)]["blockbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
+            instruments[str(inst_id)]["clearbutton"].config(state="disabled",relief="raised",bg=common.bgraised)
+            instruments[str(inst_id)]["occupbutton"].config(state="disabled",relief="sunken",bg=common.bgsunken)
         # Make an external callback (if one was specified) to notify that the block section AHEAD has been updated
         # This enables full block section interlocking to be implemented for the starter signal in OUR block section
         if make_callback:
-            instruments[str(block_id)]["extcallback"] (block_id,block_callback_type.block_section_ahead_updated)
+            instruments[str(inst_id)]["extcallback"] (inst_id,block_callback_type.block_section_ahead_updated)
     return ()
 
 # --------------------------------------------------------------------------------
 # Internal Function to set the main block section indicator to BLOCKED
 # called when the "BLOCKED" button is clicked on the local block instrument
 # Also called for single-line block instruments (without a repeater display)
 # following a state change of the linked remote block instrument
 # --------------------------------------------------------------------------------
 
-def set_section_blocked (block_id:int,update_remote_instrument:bool=True):
+def set_section_blocked(inst_id:int,update_remote_instrument:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set section to LINE BLOCKED - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["sectionstate"] is not None:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section indicator to LINE BLOCKED")
+    if instruments[str(inst_id)]["sectionstate"] is not None:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section indicator to LINE BLOCKED")
         # Set the state of the buttons accordingly
-        instruments[str(block_id)]["blockbutton"].config(relief="sunken",bg=common.bgsunken)
-        instruments[str(block_id)]["clearbutton"].config(relief="raised",bg=common.bgraised)
-        instruments[str(block_id)]["occupbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["blockbutton"].config(relief="sunken",bg=common.bgsunken)
+        instruments[str(inst_id)]["clearbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["occupbutton"].config(relief="raised",bg=common.bgraised)
         # Set the internal state of the block instrument and the local indicator
-        instruments[str(block_id)]["sectionstate"] = None
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatoroccup"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorclear"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorblock"],state = "normal")
+        instruments[str(inst_id)]["sectionstate"] = None
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatoroccup"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorclear"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorblock"],state = "normal")
         # If linked to another instrument then update the repeater indicator on the other instrument or
         # Publish the initial state to the broker (for other nodes to consume). Note that state will only
         # be published if the MQTT interface has been configured and we are connected to the broker
-        if update_remote_instrument and instruments[str(block_id)]["linkedto"] is not None:
-            linked_to_id = instruments[str(block_id)]["linkedto"]
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(block_id)
-            elif instrument_exists(linked_to_id): set_repeater_blocked(linked_to_id)
+        if update_remote_instrument: refresh_linked_instrument(inst_id, instruments[str(inst_id)]["linkedto"])
     return ()
 
 # --------------------------------------------------------------------------------
 # Internal Function to set the main block section indicator to CLEAR
 # called when the "CLEAR" button is clicked on the local block instrument
 # Also called for single-line block instruments (without a repeater display)
 # following a state change of the linked remote block instrument
 # --------------------------------------------------------------------------------
 
-def set_section_clear (block_id:int,update_remote_instrument:bool=True):
+def set_section_clear(inst_id:int,update_remote_instrument:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set section to LINE CLEAR - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["sectionstate"] != True:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section indicator to LINE CLEAR")
+    if instruments[str(inst_id)]["sectionstate"] != True:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section indicator to LINE CLEAR")
         # Set the state of the buttons accordingly
-        instruments[str(block_id)]["blockbutton"].config(relief="raised",bg=common.bgraised)
-        instruments[str(block_id)]["clearbutton"].config(relief="sunken",bg=common.bgsunken)
-        instruments[str(block_id)]["occupbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["blockbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["clearbutton"].config(relief="sunken",bg=common.bgsunken)
+        instruments[str(inst_id)]["occupbutton"].config(relief="raised",bg=common.bgraised)
         # Set the internal state of the block instrument and the local indicator
-        instruments[str(block_id)]["sectionstate"] = True
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatoroccup"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorclear"],state = "normal")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorblock"],state = "hidden")
+        instruments[str(inst_id)]["sectionstate"] = True
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatoroccup"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorclear"],state = "normal")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorblock"],state = "hidden")
         # If linked to another instrument then update the repeater indicator on the other instrument or
         # Publish the initial state to the broker (for other nodes to consume). Note that state will only
         # be published if the MQTT interface has been configured and we are connected to the broker
-        if update_remote_instrument and instruments[str(block_id)]["linkedto"] is not None:
-            linked_to_id = instruments[str(block_id)]["linkedto"]
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(block_id)
-            elif instrument_exists(linked_to_id): set_repeater_clear(linked_to_id)
+        if update_remote_instrument: refresh_linked_instrument(inst_id, instruments[str(inst_id)]["linkedto"])
     return ()
 
 # --------------------------------------------------------------------------------
 # Internal Function to set the main block section indicator to OCCUPIED
 # called when the "OCCUP" button is clicked on the local block instrument
 # Also called for single-line block instruments (without a repeater display)
 # following a state change of the linked remote block instrument
 # --------------------------------------------------------------------------------
 
-def set_section_occupied (block_id:int,update_remote_instrument:bool=True):
+def set_section_occupied(inst_id:int,update_remote_instrument:bool=True):
     global instruments
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Can't set section to TRAIN ON LINE - Block instrument doesn't exist")
-    elif instruments[str(block_id)]["sectionstate"] != False:
-        logging.info ("Block Instrument "+str(block_id)+": Changing block section indicator to TRAIN ON LINE")
+    if instruments[str(inst_id)]["sectionstate"] != False:
+        logging.info ("Instrument "+str(inst_id)+": Changing block section indicator to TRAIN ON LINE")
         # Set the state of the buttons accordingly
-        instruments[str(block_id)]["blockbutton"].config(relief="raised",bg=common.bgraised)
-        instruments[str(block_id)]["clearbutton"].config(relief="raised",bg=common.bgraised)
-        instruments[str(block_id)]["occupbutton"].config(relief="sunken",bg=common.bgsunken)
+        instruments[str(inst_id)]["blockbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["clearbutton"].config(relief="raised",bg=common.bgraised)
+        instruments[str(inst_id)]["occupbutton"].config(relief="sunken",bg=common.bgsunken)
         # Set the internal state of the block instrument and the local indicator
-        instruments[str(block_id)]["sectionstate"] = False
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatoroccup"],state = "normal")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorclear"],state = "hidden")
-        instruments[str(block_id)]["canvas"].itemconfigure(instruments[str(block_id)]["myindicatorblock"],state = "hidden")
+        instruments[str(inst_id)]["sectionstate"] = False
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatoroccup"],state = "normal")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorclear"],state = "hidden")
+        instruments[str(inst_id)]["canvas"].itemconfigure(instruments[str(inst_id)]["myindicatorblock"],state = "hidden")
         # If linked to another instrument then update the repeater indicator on the other instrument or
         # Publish the initial state to the broker (for other nodes to consume). Note that state will only
         # be published if the MQTT interface has been configured and we are connected to the broker
-        if update_remote_instrument and instruments[str(block_id)]["linkedto"] is not None:
-            linked_to_id = instruments[str(block_id)]["linkedto"]
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(block_id)
-            elif instrument_exists(linked_to_id): set_repeater_occupied(linked_to_id)
+        if update_remote_instrument: refresh_linked_instrument(inst_id, instruments[str(inst_id)]["linkedto"])
     return ()
 
 # --------------------------------------------------------------------------------
+# Internal function to update the REPEATER display on a linked block instrument
+# --------------------------------------------------------------------------------
+
+def refresh_linked_instrument(inst_id:int, linked_to:str):
+    # Block State is as follows: True = Line Clear, False = Train On Line, None = Line Blocked
+    if instruments[str(inst_id)]["sectionstate"] == True:
+        if linked_to.isdigit() and instrument_exists(linked_to): set_repeater_clear(linked_to)
+        elif linked_to != "": send_mqtt_instrument_updated_event(inst_id)
+    elif instruments[str(inst_id)]["sectionstate"] == False:
+        if linked_to.isdigit() and instrument_exists(linked_to): set_repeater_occupied(linked_to)
+        elif linked_to != "": send_mqtt_instrument_updated_event(inst_id)
+    else:
+        if linked_to.isdigit() and instrument_exists(linked_to): set_repeater_blocked(linked_to)
+        elif linked_to != "": send_mqtt_instrument_updated_event(inst_id)
+    return()
+
+# --------------------------------------------------------------------------------
 # Internal function to create the Indicator component of a Block Instrument
 # --------------------------------------------------------------------------------
 
-def create_block_indicator(canvas:int, x:int, y:int, block_id_tag):
-    canvas.create_rectangle (x-50, y-10, x+50, y+45, fill="gray90", outline='black', width=1, tags=block_id_tag)
-    canvas.create_arc(x-40, y-40, x+40, y+40, fill='tomato', outline='black', start=-150, extent=40, width=0, tags=block_id_tag)
-    canvas.create_arc(x-40, y-40, x+40, y+40, fill='yellow', outline='black', start=-110, extent=40, width=0, tags=block_id_tag)
-    canvas.create_arc(x-40, y-40, x+40, y+40, fill='green yellow', outline='black', start=-70, extent=40, width=0, tags=block_id_tag)
-    canvas.create_arc(x-20, y-20, x+20, y+20, fill='gray90', outline="gray90", start=-155, extent=130, width=0, tags=block_id_tag)
-    canvas.create_oval(x-5, y-5, x+5, y+5, fill='black', outline="black", width=0, tags=block_id_tag)
-    block = canvas.create_line (x+0, y-5, x+0,  y + 35, fill='black', width = 3, state='normal', tags=block_id_tag)
-    clear = canvas.create_line (x-3, y-3, x+25, y + 25, fill='black', width = 3, state='hidden', tags=block_id_tag)
-    occup = canvas.create_line (x+3, y-3, x-25, y + 25, fill='black', width = 3 , state='hidden', tags=block_id_tag)
+def create_block_indicator(canvas:int, x:int, y:int, canvas_tag):
+    canvas.create_rectangle (x-40, y-10, x+40, y+45, fill="gray90", outline='black', width=1, tags=canvas_tag)
+    canvas.create_arc(x-40, y-40, x+40, y+40, fill='tomato', outline='black', start=-150, extent=40, width=0, tags=canvas_tag)
+    canvas.create_arc(x-40, y-40, x+40, y+40, fill='yellow', outline='black', start=-110, extent=40, width=0, tags=canvas_tag)
+    canvas.create_arc(x-40, y-40, x+40, y+40, fill='green yellow', outline='black', start=-70, extent=40, width=0, tags=canvas_tag)
+    canvas.create_arc(x-20, y-20, x+20, y+20, fill='gray90', outline="gray90", start=-155, extent=130, width=0, tags=canvas_tag)
+    canvas.create_oval(x-5, y-5, x+5, y+5, fill='black', outline="black", width=0, tags=canvas_tag)
+    block = canvas.create_line (x+0, y-5, x+0,  y + 35, fill='black', width = 3, state='normal', tags=canvas_tag)
+    clear = canvas.create_line (x-3, y-3, x+25, y + 25, fill='black', width = 3, state='hidden', tags=canvas_tag)
+    occup = canvas.create_line (x+3, y-3, x-25, y + 25, fill='black', width = 3 , state='hidden', tags=canvas_tag)
     return (block, clear, occup)
 
 # --------------------------------------------------------------------------------
 # Internal function to load a specified audio file for the bell / telegraph key sounds.
 # If these fail to load for any reason then no sounds will be produced on these events
 # If the filename isn't fully qualified then it assume a file in the resources folder
 # --------------------------------------------------------------------------------
@@ -461,337 +511,312 @@
     if os.path.split(audio_filename)[1] == audio_filename:
         try:
             with importlib.resources.path ('model_railway_signals.library.resources',audio_filename) as audio_file:
                 audio_object = simpleaudio.WaveObject.from_wave_file(str(audio_file))
         except Exception as exception:
             Tk.messagebox.showerror(parent=common.root_window, title="Load Error",
                             message="Error loading audio resource file '"+str(audio_filename)+"'")
-            logging.error ("Block Instruments - Error loading audio resource file '"+str(audio_filename)+"'"+
+            logging.error("Block Instruments: Error loading audio resource file '"+str(audio_filename)+"'"+
                            " \nReported Exception: "+str(exception))       
     else:        
         try:
             audio_object = simpleaudio.WaveObject.from_wave_file(str(audio_filename))
         except Exception as exception:
             Tk.messagebox.showerror(parent=common.root_window, title="Load Error",
                             message="Error loading audio file '"+str(audio_filename)+"'")
-            logging.error ("Block Instruments - Error loading audio file '"+str(audio_filename)+"'"+
+            logging.error("Block Instruments: Error loading audio file '"+str(audio_filename)+"'"+
                            " \nReported Exception: "+str(exception))       
     return(audio_object)
 
 # --------------------------------------------------------------------------------
 # Public API function to create a Block  Instrument (drawing objects and internal state)
 # --------------------------------------------------------------------------------
 
-def create_block_instrument (canvas,
-                             block_id:int,
-                             x:int, y:int,
-                             inst_type:instrument_type = instrument_type.double_line,
-                             block_callback = null_callback,
-                             bell_sound_file:str = "bell-ring-01.wav",
-                             telegraph_sound_file:str = "telegraph-key-01.wav",
-                             linked_to:Union[int,str] = None):
+def create_instrument (canvas, inst_id:int, inst_type:instrument_type, x:int, y:int, callback,
+                       bell_sound_file:str = "bell-ring-01.wav",
+                       telegraph_sound_file:str = "telegraph-key-01.wav",
+                       linked_to:str = ""):
     global instruments
-    global list_of_instruments_to_publish
-    logging.info ("Block Instrument "+str(block_id)+": Creating Block Instrument")
-    # Find and store the root window (when the first block instrument is created)
-    if common.root_window is None: common.find_root_window(canvas)
-    # Establish whether the ID is a local or remote ID and set the type accordingly
-    # We need to do this for the editor as the editor will give us an int as a string
-    linked_to_id = set_item_id_type(linked_to)
-    # Do some basic validation on the parameters we have been given
-    if instrument_exists(block_id):
-        logging.error ("Block Instrument "+str(block_id)+": Instrument already exists")
-    elif block_id < 1:
-        logging.error ("Block Instrument "+str(block_id)+": Block ID must be greater than zero")
-    elif linked_to_id == block_id:
-        logging.error ("Block Instrument "+str(block_id)+": ID for linked instrument is the same as the instrument to create")
-    elif isinstance(linked_to_id,str) and mqtt_interface.split_remote_item_identifier(linked_to_id) is None:
-        logging.error ("Block Instrument "+str(block_id)+": Compound ID for remote-node instrument is invalid")
+    # Set a unique 'tag' to reference the tkinter drawing objects
+    canvas_tag = "instrument"+str(inst_id)
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(inst_id, int) or inst_id < 1:
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Instrument ID must be a positive integer")
+    elif instrument_exists(inst_id):
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Instrument ID already exists")
+    elif not isinstance(linked_to, str):
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Linked Instrument ID must be a str")
+    elif linked_to == str(inst_id):
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Linked Instrument ID is the same as the Instrument ID")
+    elif linked_to !="" and not linked_to.isdigit() and mqtt_interface.split_remote_item_identifier(linked_to) is None:
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Remote identifier for linked instrument is invalid format")
+    elif inst_type != instrument_type.single_line and inst_type != instrument_type.double_line:
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Invalid Instrument Type specified")
     else:
-        single_line = (inst_type == instrument_type.single_line)            
-        # Define the "Tag" for all drawing objects for this instrument instance
-        block_id_tag = "instrument"+str(block_id)
+        logging.debug("Instrument "+str(inst_id)+": Creating library object on the schematic")
+        # Validate the linked instrument config - this won't prevent the instrument being created
+        # but does raise warnings for potential misconfigurations (that won't break the system)
+        validate_linked_instrument(inst_id, linked_to)
         # Create the Instrument background - this will vary in size depending on single or double line
-        if single_line: canvas.create_rectangle (x-60, y-20, x+60, y+150, fill = "saddle brown",tags=block_id_tag)
-        else: canvas.create_rectangle (x-60, y-80, x+60, y+150, fill = "saddle brown",tags=block_id_tag)
+        if inst_type == instrument_type.single_line:
+            canvas.create_rectangle (x-48, y-18, x+48, y+120, fill = "saddle brown",tags=canvas_tag)
+        else:
+            canvas.create_rectangle (x-48, y-73, x+48, y+120, fill = "saddle brown",tags=canvas_tag)
         # Create the button objects and their callbacks
         occup_button = Tk.Button (canvas, text="OCCUP", padx=common.xpadding, pady=common.ypadding,
                     state="normal", relief="raised", font=('Courier',common.fontsize,"normal"),
-                    bg=common.bgraised, command = lambda:occup_button_event(block_id))
+                    bg=common.bgraised, command = lambda:occup_button_event(inst_id))
         clear_button = Tk.Button (canvas, text="CLEAR", padx=common.xpadding, pady=common.ypadding,
                     state="normal", relief="raised", font=('Courier',common.fontsize,"normal"),
-                    bg=common.bgraised, command = lambda:clear_button_event(block_id))
+                    bg=common.bgraised, command = lambda:clear_button_event(inst_id))
         block_button = Tk.Button (canvas, text="LINE BLOCKED", padx=common.xpadding, pady=common.ypadding,
                     state="normal", relief="sunken", font=('Courier',common.fontsize,"normal"),
-                    bg=common.bgsunken, command = lambda:blocked_button_event(block_id))
+                    bg=common.bgsunken, command = lambda:blocked_button_event(inst_id))
         bell_button = Tk.Button (canvas, text="TELEGRAPH", padx=common.xpadding, pady=common.ypadding,
                     state="normal", relief="raised", font=('Courier',common.fontsize,"normal"),
                     bg="black", fg="white", activebackground="black", activeforeground="white",
-                    command = lambda:telegraph_key_button(block_id))
+                    command = lambda:telegraph_key_button(inst_id))
         # Bind a right click on the Telegraph button to open the bell code hints
         bell_button.bind('<Button-2>', lambda event:open_bell_code_hints())
         bell_button.bind('<Button-3>', lambda event:open_bell_code_hints())
         # Create the windows (on the canvas) for the buttons
-        canvas.create_window(x, y+80, window=occup_button, anchor=Tk.SE, tags=block_id_tag)
-        canvas.create_window(x, y+80, window=clear_button, anchor=Tk.SW, tags=block_id_tag)
-        canvas.create_window(x, y+80, window=block_button, anchor=Tk.N, tags=block_id_tag)
-        canvas.create_window(x, y+115, window=bell_button, anchor=Tk.N, tags=block_id_tag)
+        canvas.create_window(x, y+70, window=occup_button, anchor=Tk.SE, tags=canvas_tag)
+        canvas.create_window(x, y+70, window=clear_button, anchor=Tk.SW, tags=canvas_tag)
+        canvas.create_window(x, y+70, window=block_button, anchor=Tk.N, tags=canvas_tag)
+        canvas.create_window(x, y+95, window=bell_button, anchor=Tk.N, tags=canvas_tag)
         # Create the main block section indicator for our instrument
-        my_ind_block, my_ind_clear, my_ind_occup = create_block_indicator (canvas, x, y, block_id_tag)
+        my_ind_block, my_ind_clear, my_ind_occup = create_block_indicator(canvas, x, y, canvas_tag)
         # If this is a double line indicator then create the repeater indicator
         # For a single line indicator, we use the main indicator as the repeater
-        if single_line: rep_ind_block, rep_ind_clear, rep_ind_occup = my_ind_block, my_ind_clear, my_ind_occup
-        else: rep_ind_block, rep_ind_clear, rep_ind_occup = create_block_indicator (canvas, x, y-55, block_id_tag)
+        if inst_type == instrument_type.single_line:
+            rep_ind_block, rep_ind_clear, rep_ind_occup = my_ind_block, my_ind_clear, my_ind_occup
+        else:
+            rep_ind_block, rep_ind_clear, rep_ind_occup = create_block_indicator(canvas, x, y-55, canvas_tag)
         # Try to Load the specified audio files for the bell rings and telegraph key if audio is enabled
         # if these fail to load for any reason then no sounds will be produced on these events
         if audio_enabled:
             bell_audio = load_audio_file(bell_sound_file)
             telegraph_audio = load_audio_file(telegraph_sound_file)
         else:
-            logging.warning ("Block Instruments - Audio is not enabled - To enable: 'python3 -m pip install simpleaudio'")
+            logging.warning ("Instruments - Audio is not enabled - To enable: 'python3 -m pip install simpleaudio'")
             bell_audio = None
             telegraph_audio = None
         # Create the dictionary of elements that we need to track
-        instruments[str(block_id)] = {}
-        instruments[str(block_id)]["canvas"] = canvas                         # Tkinter drawing canvas
-        instruments[str(block_id)]["extcallback"] = block_callback            # External callback to make
-        instruments[str(block_id)]["linkedto"] = linked_to_id                 # Id of the instrument this one is linked to
-        instruments[str(block_id)]["singleline"] = single_line                # Single line (bi-directional) instrument
-        instruments[str(block_id)]["sectionstate"] = None                     # State of this instrument (None = "BLOCKED")
-        instruments[str(block_id)]["repeaterstate"] = None                    # State of repeater display (None = "BLOCKED")
-        instruments[str(block_id)]["blockbutton"] = block_button              # Tkinter Button object
-        instruments[str(block_id)]["clearbutton"] = clear_button              # Tkinter Button object
-        instruments[str(block_id)]["occupbutton"] = occup_button              # Tkinter Button object
-        instruments[str(block_id)]["bellbutton"] = bell_button                # Tkinter Button object
-        instruments[str(block_id)]["myindicatorclear"] = my_ind_clear         # Tkinter Drawing object
-        instruments[str(block_id)]["myindicatoroccup"] = my_ind_occup         # Tkinter Drawing object
-        instruments[str(block_id)]["myindicatorblock"] = my_ind_block         # Tkinter Drawing object
-        instruments[str(block_id)]["repeatindicatorclear"] = rep_ind_clear    # Tkinter Drawing object
-        instruments[str(block_id)]["repeatindicatoroccup"] = rep_ind_occup    # Tkinter Drawing object
-        instruments[str(block_id)]["repeatindicatorblock"] = rep_ind_block    # Tkinter Drawing object
-        instruments[str(block_id)]["telegraphsound"] = telegraph_audio        # Sound file for the telegraph "clack"
-        instruments[str(block_id)]["bellsound"] = bell_audio                  # Sound file for the bell "Ting"
+        instruments[str(inst_id)] = {}
+        instruments[str(inst_id)]["canvas"] = canvas                         # Tkinter drawing canvas
+        instruments[str(inst_id)]["extcallback"] = callback                  # External callback to make
+        instruments[str(inst_id)]["linkedto"] = linked_to                    # Id of the instrument this one is linked to
+        instruments[str(inst_id)]["insttype"] = inst_type                    # Block Instrument Type
+        instruments[str(inst_id)]["sectionstate"] = None                     # State of this instrument (None = "BLOCKED")
+        instruments[str(inst_id)]["repeaterstate"] = None                    # State of repeater display (None = "BLOCKED")
+        instruments[str(inst_id)]["blockbutton"] = block_button              # Tkinter Button object
+        instruments[str(inst_id)]["clearbutton"] = clear_button              # Tkinter Button object
+        instruments[str(inst_id)]["occupbutton"] = occup_button              # Tkinter Button object
+        instruments[str(inst_id)]["bellbutton"] = bell_button                # Tkinter Button object
+        instruments[str(inst_id)]["myindicatorclear"] = my_ind_clear         # Tkinter Drawing object
+        instruments[str(inst_id)]["myindicatoroccup"] = my_ind_occup         # Tkinter Drawing object
+        instruments[str(inst_id)]["myindicatorblock"] = my_ind_block         # Tkinter Drawing object
+        instruments[str(inst_id)]["repeatindicatorclear"] = rep_ind_clear    # Tkinter Drawing object
+        instruments[str(inst_id)]["repeatindicatoroccup"] = rep_ind_occup    # Tkinter Drawing object
+        instruments[str(inst_id)]["repeatindicatorblock"] = rep_ind_block    # Tkinter Drawing object
+        instruments[str(inst_id)]["telegraphsound"] = telegraph_audio        # Sound file for the telegraph "clack"
+        instruments[str(inst_id)]["bellsound"] = bell_audio                  # Sound file for the bell "Ting"
+        instruments[str(inst_id)]["tags"] = canvas_tag                       # Canvas Tags for all drawing objects
         # Get the initial state for the instrument (if layout state has been loaded)
         # if nothing has been loaded then the default state (of LINE BLOCKED) will be applied
-        loaded_state = file_interface.get_initial_item_state("instruments",block_id)
+        loaded_state = file_interface.get_initial_item_state("instruments",inst_id)
         # Set the initial block-state for the instrument (values will be 'None' for No state loaded)
-        if loaded_state["sectionstate"] == True: set_section_clear(block_id, update_remote_instrument=False)
-        elif loaded_state["sectionstate"] == False: set_section_occupied(block_id, update_remote_instrument=False)
-        else: set_section_blocked(block_id, update_remote_instrument=False)
+        if loaded_state["sectionstate"] == True: set_section_clear(inst_id, update_remote_instrument=False)
+        elif loaded_state["sectionstate"] == False: set_section_occupied(inst_id, update_remote_instrument=False)
+        else: set_section_blocked(inst_id, update_remote_instrument=False)
         # Set the initial repeater state (values will be 'None' for No state loaded)
-        if loaded_state["repeaterstate"] == True: set_repeater_clear(block_id,make_callback=False)
-        elif loaded_state["repeaterstate"] == False: set_repeater_occupied(block_id,make_callback=False)
-        else: set_repeater_blocked(block_id,make_callback=False)
+        if loaded_state["repeaterstate"] == True: set_repeater_clear(inst_id, make_callback=False)
+        elif loaded_state["repeaterstate"] == False: set_repeater_occupied(inst_id, make_callback=False)
+        else: set_repeater_blocked(inst_id, make_callback=False)
         # Update the repeater display of the linked instrument (if one is specified). This will update
-        # local instruments (block_id is an int) if they have already been created on the schematic or
-        # send an MQTT event to update remote instruments (block_id is a str) if the current instrument
+        # local instruments (inst_id is an int) if they have already been created on the schematic or
+        # send an MQTT event to update remote instruments (inst_id is a str) if the current instrument
         # has already been configured to publish state to the MQTT broker.
-        update_linked_to(block_id,linked_to_id)
+        refresh_linked_instrument(inst_id, linked_to)
         # If an instrument already exists that is already linked to this instrument then we need
-        # to set the repeater display of this instrument to reflect the state of that instrument.
-        # Note that when a remote instrument is subscribed to a 'dummy' instrument is created with
-        # a 'linked_to' element of None - so the we don't get an exception whilst iterating
-        for inst_id in instruments:
-            if instruments[inst_id]['linkedto'] == block_id:
-                # As we've got a match we know the inst_id must be local (an integer)
-                update_linked_to(int(inst_id), block_id)
-                # Raise a warning if the current instrument is not configured to point to that instrument
-                if instruments[str(block_id)]['linkedto'] != int(inst_id):
-                    logging.error ("Block Instrument "+str(block_id)+": linked instrument is"+str(linked_to_id)+
-                                   " but instrument "+inst_id+" is linked back to this instrument ")
-    return ()
+        # to set the repeater display of 'our' instrument to reflect the state of that instrument.
+        for other_instrument in instruments:
+            if instruments[other_instrument]['linkedto'] == str(inst_id):
+                refresh_linked_instrument(int(other_instrument), str(inst_id))
+    return(canvas_tag)
 
 # --------------------------------------------------------------------------------
 # Public API function to find out if the block section ahead is clear.
 # This is represented by the current status of the REPEATER Indicator
 # --------------------------------------------------------------------------------
 
-def block_section_ahead_clear(block_id:int):
-    # do some basic validation on the block ID we've been given
-    if not instrument_exists (block_id):
-        logging.error ("Block Instrument "+str(block_id)+": block_section_ahead_clear - Block instrument doesn't exist")
+def block_section_ahead_clear(inst_id:int):
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(inst_id, int) :
+        logging.error("Instrument "+str(inst_id)+": block_section_ahead_clear - Instrument ID must be an integer")
         section_ahead_clear = False
-    elif instruments[str(block_id)]["repeaterstate"] == True:
-        section_ahead_clear = True
-    else:
+    if not instrument_exists(inst_id):
+        logging.error ("Instrument "+str(inst_id)+": block_section_ahead_clear - Instrument ID does not exist")
         section_ahead_clear = False
-    return(section_ahead_clear)
-
-#-----------------------------------------------------------------------------------------------
-# Public API Function to configure instruments to publish state changes to remote MQTT nodes
-# (i.e. effectively publish state changes to the local SECTION indicator)
-# Note that this function should be called BEFORE creating block instruments
-#-----------------------------------------------------------------------------------------------
-
-def set_instruments_to_publish_state(*inst_ids:int):
-    global list_of_instruments_to_publish
-    for inst_id in inst_ids:
-        logging.debug("MQTT-Client: Configuring instrument "+str(inst_id)+" to publish state changes via MQTT broker")
-        if inst_id in list_of_instruments_to_publish:
-            logging.warning("MQTT-Client: Instrument "+str(inst_id)+" - is already configured to publish state changes")
-        else:
-            list_of_instruments_to_publish.append(inst_id)
-            # Publish the initial state now this has been added to the list of instruments to publish
-            # This allows the publish/subscribe functions to be configured after instrument creation
-            if str(inst_id) in instruments.keys():
-                linked_to_id = instruments[str(inst_id)]['linkedto']
-                if linked_to_id is not None and isinstance(instruments[str(inst_id)]['linkedto'],str):
-                    send_mqtt_instrument_updated_event(inst_id)
-    return()
-
-#-----------------------------------------------------------------------------------------------
-# Public API Function to "subscribe" to instrument updates published by remote MQTT "Node"
-# Note that no callback is specified in the function call - the default internal one is used
-# to set the repeater display on the local instrument (to mirror the remote instrument)
-#-----------------------------------------------------------------------------------------------
-
-def subscribe_to_remote_instrument (remote_identifier:str):   
-    global instruments
-    # Validate the remote identifier (must be 'node-id' where id is an int between 1 and 99)
-    if mqtt_interface.split_remote_item_identifier(remote_identifier) is None:
-        logging.error ("MQTT-Client: Instrument "+remote_identifier+": The remote identifier must be in the form of 'Node-ID'")
-        logging.error ("with the 'Node' element a non-zero length string and the 'ID' element an integer between 1 and 99")
     else:
-        if instrument_exists(remote_identifier):
-            logging.warning("MQTT-Client: Instrument "+str(remote_identifier)+" - has already been subscribed to via MQTT networking")
-        # Create a dummy instrument object to enable 'instrument_exists' validation checks
-        # Note that this does not hold state - as state is reflected on the local repeater indicator
-        instruments[remote_identifier] = {}
-        instruments[remote_identifier]["linkedto"] = None
-        # Subscribe to updates from the remote block instrument
-        [node_id,item_id] = mqtt_interface.split_remote_item_identifier(remote_identifier)
-        mqtt_interface.subscribe_to_mqtt_messages("instrument_updated_event",node_id,
-                                    item_id,handle_mqtt_instrument_updated_event)
-        mqtt_interface.subscribe_to_mqtt_messages("instrument_telegraph_event",node_id,
-                                    item_id,handle_mqtt_ring_section_bell_event)
-    return()
-
-
-# --------------------------------------------------------------------------------
-# Callbacks for handling received MQTT messages (from a remote Instrument)
-# --------------------------------------------------------------------------------
-
-def handle_mqtt_instrument_updated_event(message):
-    if "instrumentid" in message.keys() and "sectionstate" in message.keys():
-        block_identifier = message["instrumentid"]
-        section_state = message["sectionstate"]
-        if block_identifier is not None:
-            node_id, block_id = mqtt_interface.split_remote_item_identifier(block_identifier)
-            if instrument_exists(block_id):
-                logging.info("Block Instrument "+str(block_id)+": State update from remote instrument ********************")
-                if section_state == True: set_repeater_clear(block_id)
-                elif section_state == False: set_repeater_occupied(block_id)
-                else: set_repeater_blocked(block_id)
-    return()
-
-def handle_mqtt_ring_section_bell_event(message):
-    if "instrumentid" in message.keys() :
-        block_identifier = message["instrumentid"]
-        if block_identifier is not None:
-            node_id, block_id = mqtt_interface.split_remote_item_identifier(block_identifier)
-            if instrument_exists(block_id):
-                logging.debug("Block Instrument "+str(block_id)+": Telegraph key event from remote instrument ************")
-                ring_section_bell(block_id)
-    return()
-
-# --------------------------------------------------------------------------------
-# Internal functions for building and publishing MQTT messages (to a remote instrument)
-# --------------------------------------------------------------------------------
-
-def send_mqtt_instrument_updated_event(block_id:int):
-    if block_id in list_of_instruments_to_publish:
-        data = {}
-        data["instrumentid"] = instruments[str(block_id)]["linkedto"]
-        data["sectionstate"] = instruments[str(block_id)]["sectionstate"]
-        log_message = "Block Instrument "+str(block_id)+": Publishing instrument state to MQTT Broker"
-        # Publish as "retained" messages so remote items that subscribe later will always pick up the latest state
-        mqtt_interface.send_mqtt_message("instrument_updated_event",block_id,data=data,log_message=log_message,retain=True)
-    return()
-
-def send_mqtt_ring_section_bell_event(block_id:int):
-    if block_id in list_of_instruments_to_publish:
-        data = {}
-        data["instrumentid"] = instruments[str(block_id)]["linkedto"]
-        log_message = "Block Instrument "+str(block_id)+": Publishing telegraph key event to MQTT Broker"
-        # These are transitory events so we do not publish as "retained" messages (if they get missed, they get missed)
-        mqtt_interface.send_mqtt_message("instrument_telegraph_event",block_id,data=data,log_message=log_message,retain=False)
-    return()
+        section_ahead_clear = instruments[str(inst_id)]["repeaterstate"]
+    return(section_ahead_clear)
 
 # ------------------------------------------------------------------------------------------
-# Non public API function for deleting an instrument object (including all the drawing objects)
+# API function for deleting an instrument library object (including all the drawing objects)
 # This is used by the schematic editor for changing instrument types where we delete the existing
-# instrument with all its data and then recreate it (with the same ID) in its new configuration
-# Note that we don't delete the instrument from the list_of_instruments_to_publish (via MQTT) as
-# the MQTT configuration can be set completely asynchronously from create/delete instruments
+# instrument with all its data and then recreate it (with the same ID) in its new configuration.
 # ------------------------------------------------------------------------------------------
 
-def delete_instrument(block_id:int):
+def delete_instrument(inst_id:int):
     global instruments
-    global list_of_instruments_to_publish
-    if instrument_exists(block_id):
-        # Delete all the tkinter canvas drawing objects associated with the signal
-        instruments[str(block_id)]["canvas"].delete("instrument"+str(block_id))
-        # Delete all the tkinter button objects created for the signal
-        instruments[str(block_id)]["blockbutton"].destroy()
-        instruments[str(block_id)]["clearbutton"].destroy()
-        instruments[str(block_id)]["occupbutton"].destroy()
-        instruments[str(block_id)]["bellbutton"].destroy()
-        # Finally, delete the entry from the dictionary of instruments
-        del instruments[str(block_id)]
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(inst_id, int):
+        logging.error("Instrument "+str(inst_id)+": delete_instrument - Instrument ID must be an integer")    
+    elif not instrument_exists(inst_id):
+        logging.error("Instrument "+str(inst_id)+": delete_instrument - Instrument ID does not exist")
+    else:
+        logging.debug("Instrument "+str(inst_id)+": Deleting library object from the schematic")
+        # Delete all the tkinter drawing objects associated with the instrument
+        instruments[str(inst_id)]["canvas"].delete(instruments[str(inst_id)]["tags"])
+        instruments[str(inst_id)]["blockbutton"].destroy()
+        instruments[str(inst_id)]["clearbutton"].destroy()
+        instruments[str(inst_id)]["occupbutton"].destroy()
+        instruments[str(inst_id)]["bellbutton"].destroy()
+        # Delete the instrument entry from the dictionary of instruments
+        del instruments[str(inst_id)]
     return()
 
 # ------------------------------------------------------------------------------------------
 # Non public API function for updating the ID of the linked block instrument without
 # needing to delete the block instrument and then create it in its new state. The main
 # use case is when bulk deleting objects via the schematic editor, where we want to avoid
 # interleaving tkinter 'create' commands in amongst the 'delete' commands outside of the
 # main tkinter loop as this can lead to problems with artefacts persisting on the canvas
 # ------------------------------------------------------------------------------------------
 
-def update_linked_to(inst_id:int, linked_to:Union[int,str]):
-    # Establish whether the ID is a local or remote ID and set the type accordingly
-    # We need to do this for the editor as the editor will give us an int as a string
-    linked_to_id = set_item_id_type(linked_to)
-    instruments[str(inst_id)]["linkedto"] = linked_to_id
-    if linked_to_id is not None:
-        if instruments[str(inst_id)]["sectionstate"] == True:
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(inst_id)
-            elif instrument_exists(linked_to_id): set_repeater_clear(linked_to_id,make_callback=False)
-        elif instruments[str(inst_id)]["sectionstate"] == False:
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(inst_id)
-            elif instrument_exists(linked_to_id): set_repeater_occupied(linked_to_id,make_callback=False)
+def update_linked_instrument(inst_id:int, linked_to:str):
+    global instruments
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(inst_id, int):
+        logging.error("Instrument "+str(inst_id)+": update_linked_instrument - Instrument ID must be an integer")
+    elif not instrument_exists(inst_id):
+        logging.error("Instrument "+str(inst_id)+": update_linked_instrument - Instrument ID does not exist")
+    elif not isinstance(linked_to, str):
+        logging.error("Instrument "+str(inst_id)+": update_linked_instrument - Linked ID must be a string")
+    elif linked_to == str(inst_id):
+        logging.error("Instrument "+str(inst_id)+": update_linked_instrument - Linked Instrument ID is the same as the Instrument ID")
+    elif linked_to !="" and not linked_to.isdigit() and mqtt_interface.split_remote_item_identifier(linked_to) is None:
+        logging.error("Instrument "+str(inst_id)+": create_instrument - Remote identifier for linked instrument is invalid format")
+    else:
+        if linked_to == "":
+            logging.debug("Instrument "+str(inst_id)+": Un-linking Block Instrument "+instruments[str(inst_id)]["linkedto"])
         else:
-            if isinstance(linked_to_id,str): send_mqtt_instrument_updated_event(inst_id)
-            elif instrument_exists(linked_to_id): set_repeater_blocked(linked_to_id,make_callback=False)
+            logging.debug("Instrument "+str(inst_id)+": Updating linked Block Instrument to "+linked_to)
+        # Validate the config to generate any warnings as required:
+        validate_linked_instrument(inst_id, linked_to)
+        # Update the "linkedto" element of the Instrument configuration
+        instruments[str(inst_id)]["linkedto"] = linked_to
+        # Ensure the repeater on the new linked instrument reflects the state of our instrument
+        refresh_linked_instrument(inst_id, linked_to)
     return()
 
 # ------------------------------------------------------------------------------------------
-# Non public API function to return the tkinter canvas 'tags' for the block instrument
+# Internal common function to validate instrument linking (raising warnings as required)
 # ------------------------------------------------------------------------------------------
 
-def get_tags(block_id:int):
-    return("instrument"+str(block_id))
+def validate_linked_instrument(inst_id:int, linked_to:str):
+    for other_instrument in instruments:
+        link_from_other_instrument = instruments[other_instrument]['linkedto']
+        if link_from_other_instrument == str(inst_id) and linked_to != "" and linked_to != other_instrument:
+            # We've found an instrument already 'linked back to' the instrument we have just created
+            # but 'our instrument' points to a completely different instrument - Raise a warning
+            logging.warning("Instrument "+str(inst_id)+": linking to instrument "+linked_to+
+                " - but instrument "+link_from_other_instrument+" is linked from instrument "+other_instrument)
+        elif other_instrument != str(inst_id) and link_from_other_instrument != "" and link_from_other_instrument == linked_to:
+            # We've found another instrument linked to the instrument we are trying to link to
+            logging.warning("Instrument "+str(inst_id)+": linking to instrument "+linked_to+
+                  " - but instrument "+ other_instrument+" is also linked to instrument "+linked_to)
+    # Raise a warning if the instrument we are linked to is already linked to another instrument
+    if instrument_exists(linked_to) and instruments[linked_to]['linkedto'] not in ("",str(inst_id)):
+        logging.warning("Instrument "+str(inst_id)+": linking to instrument "+linked_to+" - but instrument "
+                +linked_to+" is already linked to instrument "+instruments[linked_to]['linkedto'])
+    return()
 
 # ------------------------------------------------------------------------------------------
-# Non public API function to reset the list of published/subscribed instruments. Used
-# by the schematic editor for re-setting the MQTT configuration prior to re-configuring
-# via the subscribe_to_instrument_updates and subscribe_to_instrument_updates functions
+# API function to reset the list of published/subscribed Instruments. This function is called by
+# the editor on 'Apply' of the MQTT pub/sub configuration prior to applying the new configuration
+# via the 'set_instruments_to_publish_state' & 'subscribe_to_remote_instrument' functions.
 # ------------------------------------------------------------------------------------------
 
 def reset_mqtt_configuration():
     global instruments
     global list_of_instruments_to_publish
+    logging.debug("Block Instruments: Resetting MQTT publish and subscribe configuration")
     # We only need to clear the list to stop any further instrument events being published
     list_of_instruments_to_publish.clear()
     # For subscriptions we unsubscribe from all topics associated with the message_type
     mqtt_interface.unsubscribe_from_message_type("instrument_updated_event")
     mqtt_interface.unsubscribe_from_message_type("instrument_telegraph_event")
     # Finally remove all "remote" instruments from the dictionary of instruments - these
     # will be re-created if they are subsequently re-subscribed to. Note we don't iterate
     # through the dictionary of instruments to remove items as it will change under us
     new_instruments = {}
     for key in instruments:
         if key.isdigit(): new_instruments[key] = instruments[key]
     instruments = new_instruments
     return()
 
+#-----------------------------------------------------------------------------------------------
+# API function to configure local Block Instruments to publish state changes to remote MQTT
+# nodes. This function is called by the editor on 'Apply' of the MQTT pub/sub configuration.
+# Note the configuration can be applied independently to whether the gpio sensors 'exist' or not.
+#-----------------------------------------------------------------------------------------------
+
+def set_instruments_to_publish_state(*inst_ids:int):
+    global list_of_instruments_to_publish
+    for inst_id in inst_ids:
+        # Validate the parameters we have been given as this is a library API function
+        if not isinstance(inst_id, int) or inst_id < 1:
+            logging.error("Instrument "+str(inst_id)+": set_instruments_to_publish_state - ID must be a positive integer")
+        elif inst_id in list_of_instruments_to_publish:
+            logging.warning("Instrument "+str(inst_id)+": set_instruments_to_publish_state -"
+                                +" Instrument is already configured to publish state to MQTT broker")
+        else:
+            logging.debug("Instrument "+str(inst_id)+": Configuring to publish state changes and telegraph events to MQTT broker")
+            list_of_instruments_to_publish.append(inst_id)
+            # Publish the initial state now this has been added to the list of instruments to publish
+            # This allows the pub/sub config to be configured independently to instrument creation
+            if instrument_exists(inst_id): send_mqtt_instrument_updated_event(inst_id)
+    return()
+
+#---------------------------------------------------------------------------------------------------
+# API Function to "subscribe" to remote Block Instrument events (published by other MQTT Nodes)
+# and map the appropriate internal callback (for the linked block instrument object on the local
+# schematic). This function is called by the editor on "Apply' of the MQTT pub/sub configuration
+# for all subscribed Block Instruments.
+#---------------------------------------------------------------------------------------------------
+
+def subscribe_to_remote_instrument(remote_id:str):   
+    global instruments
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(remote_id,str):
+        logging.error("Instrument "+str(remote_id)+": subscribe_to_remote_instrument - Remote ID must be a string")
+    elif mqtt_interface.split_remote_item_identifier(remote_id) is None:
+        logging.error("Instrument "+remote_id+": subscribe_to_remote_instrument - Remote ID is an invalid format")
+    elif instrument_exists(remote_id):
+        logging.warning("Instrument "+remote_id+": subscribe_to_remote_instrument - Already subscribed")
+    else:
+        logging.debug("Instrument "+remote_id+": Subscribing to remote Block Instrument")
+        # Create a dummy instrument object to enable 'instrument_exists' validation checks
+        # Note that this does not hold state - as state is reflected on the local repeater indicator
+        instruments[remote_id] = {}
+        instruments[remote_id]["linkedto"] = ""
+        # Subscribe to updates from the remote block instrument
+        [node_id, item_id] = mqtt_interface.split_remote_item_identifier(remote_id)
+        mqtt_interface.subscribe_to_mqtt_messages("instrument_updated_event", node_id,
+                                    item_id, handle_mqtt_instrument_updated_event)
+        mqtt_interface.subscribe_to_mqtt_messages("instrument_telegraph_event", node_id,
+                                    item_id, handle_mqtt_ring_section_bell_event)
+    return()
+
 ###############################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/common.py` & `model_railway_signals-4.2.0/model_railway_signals/library/common.py`

 * *Files 27% similar despite different names*

```diff
@@ -1,78 +1,86 @@
 # -------------------------------------------------------------------------
 # This module contains all of the parameters, funcions and classes that 
 # are used across multiple modules in the model_railway_signalling library
+#--------------------------------------------------------------------------
+#
+# External API - classes and functions (used by the Schematic Editor):
+#
+#   set_root_window(root) - initialise the library with the root window reference
+#
+#   shutdown() - perform an orderly shutdown of the library functions (clean up)
+#
+#   configure_edit_mode(edit_mode:bool) - True for Edit Mode, False for Run Mode
+#
+# External API - classes and functions (used by the other library modules):
+#
+#   execute_function_in_tkinter_thread(callback_function) - Will 'pass' the function
+#         into the main tkinter thread via a queue (and tkinter event) and then execute
+#         the function - used for MQTT and GPIO events to keep everything threadsafe.
+#
 # -------------------------------------------------------------------------
 
 import math
 import queue
 import logging
 import time
 from . import mqtt_interface
-from . import file_interface
 from . import pi_sprog_interface
+from . import gpio_sensors
 from . import track_sensors
 
 # -------------------------------------------------------------------------
-# Global variables used within the Library Common Module
+# Global variables used within the Library Modules
 # -------------------------------------------------------------------------
 
 # Global variables for how the signals/points/sections buttons appear
 # on the screen. This is to allow the appearance to be optimised for
 # particular window sizes/screen resolutions.
-fontsize = 9  # Used by the Signals, Points and sections modules
+fontsize = 8  # Used by the Signals, Points and sections modules
 xpadding = 2  # Used by the Signals, Points and sections modules
-ypadding = 0  # Used by the Signals, Points and sections modules
+ypadding = -1  # Used by the Signals, Points and sections modules
 bgraised = "grey85"   # Used by the Signals and Points modules
 bgsunken = "white"    # Used by the Signals and Points modules
 
 # Global Variable to hold a reference to the TkInter Root Window
 root_window = None
 # Event queue for passing "commands" back into the main tkinter thread
 event_queue = queue.Queue()
 # Global variable to signal (to other modules) that application is closing
 shutdown_initiated = False
 
-#-------------------------------------------------------------------------
-# Function to catch the root close event for applications that use the API
-# This calls file_interface.quit_application function to get confirmation
-# of quit from the user and/or let the user save the current state
-#-------------------------------------------------------------------------
-
-##########################################################################
-# Note that this function is effectively DEPRECATED with the DEPRECATION
-# of the published library API as the editor module captures the root
-# window close event and asks the user to confirm application quit
-##########################################################################
+#------------------------------------------------------------------------------------
+# The behavior/appearance of the some library objects may change in Edit Mode
+#------------------------------------------------------------------------------------
 
-def on_closing():
-    if file_interface.save_state_and_quit(): shutdown()      
+def configure_edit_mode(edit_mode:bool):
+    track_sensors.configure_edit_mode(edit_mode)
     return()
 
 #-------------------------------------------------------------------------
-# Function to perfor an orderly shutdown of the library functions:
+# Function to perfor an orderly shutdown of the library modules:
 #   MQTT Networking - clean up the published topics and disconnect
 #   SPROG interface - switch off the DCC power and close the serial port
-#   Track Sensors - revert all GPIO pins to their default states
+#   GPIO Sensors - revert all GPIO pins to their default states
 #   Finally - wait for all scheduled TKinter events to complete
 #-------------------------------------------------------------------------
 
 def shutdown():
     global shutdown_initiated
     if not shutdown_initiated:
         logging.info ("Initiating Application Shutdown")
         shutdown_initiated = True
         # Clear out any retained messages and disconnect from broker
         mqtt_interface.mqtt_shutdown()
         # Turn off the DCC bus power and close the comms port
         pi_sprog_interface.sprog_shutdown()
         # Return the GPIO ports to their original configuration
-        track_sensors.gpio_shutdown()
+        gpio_sensors.gpio_shutdown()
         # Wait until all the tasks we have scheduled via the tkinter 'after' method have completed
-        # We need to put a timeout around this to deal with any ongoing timed signal sequences
+        # We need to put a timeout around this to deal with any scheduled Tkinter "after" events
         # (although its unlikely the user would initiate a shut down until these have finished)
         timeout_start = time.time()
         while time.time() < timeout_start + 30:
             if root_window.tk.call('after','info') != "":
                 root_window.update()
                 time.sleep(0.01)
             else:
@@ -80,44 +88,14 @@
                 break
         if time.time() >= timeout_start + 30:
             logging.warning ("Timeout waiting for scheduled tkinter events to complete - Exiting anyway")
         root_window.destroy()
     return()
 
 #-------------------------------------------------------------------------
-# Function to find and store the tkinter "root" window as this is used to
-# schedule callback events in the main tkinter event loop using the 'after' 
-# method and also for feeding custom callback functions into the main tkinter
-# thread. We do this as all the information out there on the internet concludes
-# tkinter isn't fully thread safe and so all manipulation of tkinter drawing
-# objects should be done from within the main tkinter thread.
-#-------------------------------------------------------------------------
-
-##########################################################################
-# Note that this function is effectively DEPRECATED with the editor as
-# the editor module sets the root_window reference direcly after creation
-##########################################################################
-
-def find_root_window (canvas):
-    global root_window
-    parent = canvas.master
-    while parent.master:
-        # if this is a subsidary window, we still want to bind the window
-        # close event to kill the application when the window is closed
-        try: parent.protocol("WM_DELETE_WINDOW",on_closing)
-        except: pass
-        parent = parent.master
-    root_window = parent
-    # bind the tkinter event for handling events raised in external threads
-    root_window.bind("<<ExtCallback>>", handle_callback_in_tkinter_thread)
-    # Bind the window close event so we can perform an orderly shutdown
-    root_window.protocol("WM_DELETE_WINDOW",on_closing)
-    return(root_window)
-
-#-------------------------------------------------------------------------
 # Function to set the tkinter "root" window reference as this is used to
 # schedule callback events in the main tkinter event loop using the 'after' 
 # method and also for feeding custom callback functions into the main tkinter
 # thread. We do this as all the information out there on the internet concludes
 # tkinter isn't fully thread safe and so all manipulation of tkinter drawing
 # objects should be done from within the main tkinter thread.
 #-------------------------------------------------------------------------
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/dcc_control.py` & `model_railway_signals-4.2.0/model_railway_signals/library/dcc_control.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,258 +1,301 @@
 #----------------------------------------------------------------------------------------------------
-# These functions provide the means to map the signals and points on the layout to the series of DCC 
-# commands needed to control them.
-# 
-# For the main signal aspects, either "Truth Table" or "Event Driven" mappings can be defined
-# The "Event Driven" mapping uses a single dcc command (address/state) to change the signal to 
-# the required aspect - as used by the TrainTech DCC signals. The "Truth Table" mapping provides
-# maximum flexibility for commanding DCC Signals as each "led" can either be controlled individually 
-# (i.e. Each LED of the signal is controlled via its own individual address) or via a "Truth Table" 
-# (where the displayed aspect will depend on the binary "code" written to 2 or more DCC addresses)
-# This has been successfully tested with the Harman Signallist SC1 DCC Decoder in various modes
+# This module enables DCC mappings to be created for the Signal and Point library objects, which
+# are then processed on signal/route changes to send out the required DCC commands for the layout
+#----------------------------------------------------------------------------------------------------
 # 
-# "Truth Table" or "Event Driven" mappings can alos be defined for the Route indications supported by
-# the signal (feathers or theatre). If the signal has a subsidary associated with it, this is always
-# mapped to a single DCC address.
+# For Colour Light signals, either "Event Driven" or "Command Sequence" mappings can be defined.
+# An "Event Driven" mapping would send out a single DCC command (address/state) to change the signal
+# to the required aspect (as used by the TrainTech DCC signals). A "Command Sequence" mapping would
+# send out a sequence of DCC commands (address/state), which the signal would then map to the required
+# aspect to display (as used by signal decoders such as the Signalist SC1). Note that if the signal
+# has a subsidary aspect then the subsidary aspect is mapped to its own unique DCC address.
+#
+# Semaphore signal mappings are more straightforward as each semaphore arm on the signal is mapped
+# to its own unique DCC address (to switch the arm either ON or OFF)
+#
+# The feather route indications (Colour Light Signals only) or Theatre Route indications (supported by
+# Semaphore or colour light signals also support "Event Driven" or "Command Sequence" mappings.
+#
+# Points mappings consist of a single DCC address (either 'Switched' or 'Normal') although this logic
+# can be reversed at mapping creation time if required.
 # 
 # Not all signals/points that exist on the layout need to have a DCC Mapping configured - If no DCC mapping 
 # has been defined, then no DCC commands will be sent. This provides flexibility for including signals on the 
-# schematic which are "off scene" or for progressively "working up" the signalling scheme for a layout.
-#----------------------------------------------------------------------------------------------------
-# 
-# Public types and functions:
+# schematic which are "off-scene" or for progressively "working up" the signalling scheme for a layout.
 # 
-# map_dcc_signal - Map a signal to one or more DCC Addresses
-#    Mandatory Parameters:
-#       sig_id:int - The ID for the signal to create a DCC mapping for
-#    Optional Parameters:
-#       auto_route_inhibit:bool - If signal inhibits route indication at DANGER (default=False)
-#       proceed[[add:int,state:bool],] -  DCC addresses/states (default = no mapping)
-#       danger [[add:int,state:bool],] - DCC addresses/states (default = No mapping)
-#       caution[[add:int,state:bool],] - DCC addresses/states (default = No mapping)
-#       prelim_caution[[add:int,state:bool],] - DCC addresses/states (default = No mapping)
-#       flash_caution[[add:int,state:bool],] - DCC addresses/states (default = No mapping)
-#       flash_prelim_caution[[add:int,state:bool],] - DCC addresses/states (default = No mapping)
-#       LH1[[add:int,state:bool],] - DCC addresses/states for "LH45" (default = No Mapping)
-#       LH2[[add:int,state:bool],] - DCC addresses/states for "LH90" (default = No Mapping)
-#       RH1[[add:int,state:bool],] - DCC addresses/states for "RH45" (default = No Mapping)
-#       RH2[[add:int,state:bool],] - DCC addresses/states for "RH90" (default = No Mapping)
-#       MAIN[[add:int,state:bool],] - DCC addresses/states for "MAIN" (default = No Mapping)
-#       NONE[[add:int,state:bool],] - DCC addresses/states to inhibit the route indication when 
-#               the signal is displaying DANGER - unless the DCC signal automatically inhibits
-#               route indications (see auto_route_inhibit flag above) - Default = None
-#       THEATRE[["char",[add:int,state:bool],],] - list of theatre states (default = No Mapping)
-#               Each entry comprises the "char" and the associated list of DCC addresses/states
-#               that need to be sent to get the theatre indicator to display that character.
-#               "#" is a special character - which means inhibit all indications (when signal 
-#               is at danger). You should ALWAYS provide mappings for '#' if you are using a 
-#               theatre indicator unless the signal automatically inhibits route indications.
-#       subsidary:int - Single DCC address for the "subsidary" signal (default = No Mapping)
+#----------------------------------------------------------------------------------------------------
+#
+# External API - the classes and functions (used by the Schematic Editor):
+#
+#   get_dcc_address_mappings() - returns a sorted dictionary of DCC addresses and details of their mappings
+#      Keys are DCC addresses, Each element comprises [item, item_id] - item is either 'Signal' or 'Point'
+#
+#   dcc_address_mapping(dcc_address:int) - Reteturns an existing DCC address mapping if one exists (otherwise None)
+#      If not None, the returned value is [item, item_id] - item is either 'Signal' or 'Point'
+#
+#   map_dcc_signal - Generate DCC mappings for a semaphore signal
+#      Mandatory Parameters:
+#         sig_id:int - The ID for the signal to create a DCC mapping for
+#      Optional Parameters:
+#         auto_route_inhibit:bool (default = False)   - does the signal inhibit route indications at DANGER?
+#         proceed[[add:int,state:bool],]              - List of DCC Commands for "Green"
+#         danger [[add:int,state:bool],]              - List of DCC Commands for "Red"
+#         caution[[add:int,state:bool],]              - List of DCC Commands for "Yellow"
+#         prelim_caution[[add:int,state:bool],]       - List of DCC Commands for "Double Yellow"
+#         flash_caution[[add:int,state:bool],]        - List of DCC Commands for "Flashing Yellow"
+#         flash_prelim_caution[[add:int,state:bool],] - List of DCC Commands for "Flashing Double Yellow"
+#         LH1[[add:int,state:bool],]                  - List of DCC Commands for the LH1 Feather
+#         LH2[[add:int,state:bool],]                  - List of DCC Commands for the LH2 Feather
+#         RH1[[add:int,state:bool],]                  - List of DCC Commands for the RH1 Feather
+#         RH2[[add:int,state:bool],]                  - List of DCC Commands for the RH2 Feather
+#         MAIN[[add:int,state:bool],]                 - List of DCC Commands for the MAIN Feather
+#         NONE[[add:int,state:bool],]                 - List of DCC Commands to inhibit all Feathers
+#         THEATRE[["char",[add:int,state:bool],],]    - List of Theatre states and their DCC command sequences
+#         subsidary:int                               - DCC address for the "subsidary" signal
+# 
+#   map_semaphore_signal - Generate DCC mappings for a semaphore signal
+#      Mandatory Parameters:
+#         sig_id:int - The ID for the signal to create a DCC mapping for
+#         main_signal:int     - DCC address for the main signal arm
+#      Optional Parameters:
+#         main_subsidary:int                       - DCC address for main subsidary arm
+#         lh1_signal:int                           - DCC address for LH1 signal arm
+#         lh1_subsidary:int                        - DCC address for LH1 subsidary arm
+#         lh2_signal:int                           - DCC address for LH2 signal arm 
+#         lh2_subsidary:int                        - DCC address for LH2 subsidary arm
+#         rh1_signal:int                           - DCC address for RH1 signal arm
+#         rh1_subsidary:int                        - DCC address for RH1 subsidary arm
+#         rh2_signal:int                           - DCC address for RH2 signal arm
+#         rh2_subsidary:int                        - DCC address for RH2 subsidary arm
+#         THEATRE[["char",[add:int,state:bool],],] - List of Theatre states and their DCC command sequences
+#
+#   map_dcc_point - Generate DCC mappings for a point
+#      Mandatory Parameters:
+#         point_id:int - The ID for the point to create a DCC mapping for
+#         address:int - the single DCC address to use for the point
+#      Optional Parameters:
+#         state_reversed:bool - Set to True to reverse the DCC logic (default = false)
+#
+#   delete_point_mapping(point_id:int) - Delete a DCC mapping (called when the Point is deleted)
+#
+#   delete_signal_mapping(sig_id:int) - Delete a DCC mapping (called when the Signal is deleted)
+#
+# The following API functions are for configuring the pub/sub of DCC command feeds. The functions are called
+# by the editor on 'Apply' of the MQTT settings. First, 'reset_mqtt_configuration' is called to clear down
+# the existing pub/sub configuration, followed by 'set_node_to_publish_dcc_commands' (either True or False)
+# and 'subscribe_to_dcc_command_feed' for each REMOTE DCC Node (DCC Command feed subscribed).
+#
+#   reset_mqtt_configuration() - Clears down the current DCC Command feed pub/sub configuration
+#
+#   set_node_to_publish_dcc_commands(publish_dcc_commands:bool) - Enable publishing of DCC command feed
+#           All DCC commands wil lthen be published to the MQTT broker for consumption by other nodes
 # 
-#     An example mapping for a  Signalist SC1 decoder with a base address of 1 (CV1=5) is included
-#     below. This assumes the decoder is configured in "8 individual output" Mode (CV38=8). In this
-#     example we are using outputs A,B,C,D to drive our signal with E & F each driving a feather 
-#     indication. The Signallist SC1 uses 8 consecutive addresses in total (which equate to DCC 
-#     addresses 1 to 8 for this example). The DCC addresses for each LED are: RED = 1, Green = 2, 
-#     YELLOW1 = 3, YELLOW2 = 4, Feather1 = 5, Feather2 = 6.
+#   subscribe_to_dcc_command_feed(*nodes:str) - Subcribes to DCC command feeds from other nodes on the network.
+#           All received DCC commands will then be automatically forwarded to the local Pi-Sprog interface.
+#
+# External API - classes and functions (used by the other library modules):
+#
+#   update_dcc_point(point_id:int,state:bool) - Called on state change of a point
+#
+#   update_dcc_signal_aspects(sig_id:int, sig_state:signals_common.signal_state_type) - called on change of a Colour Light Signal
+#
+#   update_dcc_signal_element(sig_id:int, state:bool, element:str)- called on update of a Semaphore Signal
+#       (also called for Colour Light signals to change the 'main_subsidary' element when this changes)
+#
+#   update_dcc_signal_route(sig_id:int, route:signals_common.route_type, signal_change:bool=False ,sig_at_danger:bool=False)
+#
+#   update_dcc_signal_theatre(sig_id:int, character_to_display:str, signal_change:bool=False, sig_at_danger:bool=False):
+#
+#   handle_mqtt_dcc_accessory_short_event(message) - Called on reciept of a 'dcc_accessory_short_events' message
+#
+#----------------------------------------------------------------------------------------------------
+# DCC Mapping Examples
+#
+# An "Event Driven" example - a 4 aspect signal, where 2 addresses are used (the base address
+# to select the Red or Green aspect and the base+1 address to set the Yellow or Double Yellow
+# Aspect). A single DCC command is then used to change the signal to the required state
+#
+#            map_dcc_signal(sig_id = 2,
+#                 danger = [[1,False]],
+#                 proceed = [[1,True]],
+#                 caution = [[2,True]],
+#                 prelim_caution = [[2,False]])
+#
+# An example mapping for a Signalist SC1 decoder with a base address of 1 is included below. This assumes
+# the decoder is configured in "8 individual output" Mode (CV38=8). In this example we are using outputs
+# A,B,C,D to drive our signal with E & F each driving a route feather. The Signallist SC1 uses 8 consecutive
+# addresses in total (which equate to DCC addresses 1 to 8 for this example). The DCC addresses for each LED
+# are therefore : RED = 1, Green = 2, YELLOW1 = 3, YELLOW2 = 4, Feather1 = 5, Feather2 = 6.
 # 
-#            map_dcc_signal (sig_id = 2,
+#            map_dcc_signal(sig_id = 2,
 #                 danger = [[1,True],[2,False],[3,False],[4,False]],
 #                 proceed = [[1,False],[2,True],[3,False],[4,False]],
 #                 caution = [[1,False],[2,False],[3,True],[4,False]],
 #                 prelim_caution = [[1,False],[2,False],[3,True],[4,True]],
 #                 LH1 = [[5,True],[6,False]], 
 #                 MAIN = [[6,True],[5,False]], 
 #                 NONE = [[5,False],[6,False]] )
 # 
-#      A second example DCC mapping, but this time with a Feather Route Indication, is shown below. 
-#      In this case, the main signal aspects are configured identically to the first example, the
-#      only difference being the THEATRE mapping - where a display of "1" is enabled by DCC Address
-#      5 and "2" by DCC Address 6. Note the special "#" character mapping - which defines the DCC 
-#      commands that need to be sent to inhibit the theatre display.
+#   A another example DCC mapping, but this time with a Theatre Route Indication, is shown below. The main signal
+#   aspects are configured in the same way to the example above, the only difference being the THEATRE mapping,
+#   where a display of "A" is enabled by DCC Address 5 and "B" by DCC Address 6.
 # 
-#             map_dcc_signal (sig_id = 2,
+#             map_dcc_signal(sig_id = 2,
 #                 danger = [[1,True],[2,False],[3,False],[4,False]],
 #                 proceed = [[1,False],[2,True],[3,False],[4,False]],
 #                 caution = [[1,False],[2,False],[3,True],[4,False]],
 #                 prelim_caution = [[1,False],[2,False],[3,True],[4,True]],
 #                 THEATRE = [ ["#",[[5,False],[6,False]]],
 #                             ["1",[[6,False],[5,True]]],
 #                             ["2",[[5,False],[6,True]]]  ] )
-# 
-# map_traintech_signal - Generate the mappings for a TrainTech signal
-#    Mandatory Parameters:
-#       sig_id:int - The ID for the signal to create a DCC mapping for
-#       base_address:int - Base address of signal (the signal will take 4 consecutive addresses)
-#    Optional Parameters:
-#       route_address:int - Address for the route indicator - Default = 0 (no indicator)
-#       theatre_route:str - Char to be associated with the Theartre - Default = "NONE" (no Text)
-#       feather_route:route_type - Route to be associated with feather - Default = NONE (no route)
-# 
-# map_semaphore_signal - Generate mappings for a semaphore signal (DCC address mapped to each arm)
-#    Mandatory Parameters:
-#       sig_id:int - The ID for the signal to create a DCC mapping for
-#       main_signal:int     - DCC address for the main signal arm (default = No Mapping)
-#    Optional Parameters:
-#       main_subsidary:int  - DCC address for main subsidary arm (default = No Mapping)
-#       lh1_signal:int      - DCC address for LH1 signal arm (default = No Mapping)
-#       lh1_subsidary:int   - DCC address for LH1 subsidary arm (default = No Mapping)
-#       lh2_signal:int      - DCC address for LH2 signal arm (default = No Mapping)
-#       lh2_subsidary:int   - DCC address for LH2 subsidary arm (default = No Mapping)
-#       rh1_signal:int      - DCC address for RH1 signal arm  (default = No Mapping)
-#       rh1_subsidary:int   - DCC address for RH1 subsidary arm (default = No Mapping)
-#       rh2_signal:int      - DCC address for RH2 signal arm  (default = No Mapping)
-#       rh2_subsidary:int   - DCC address for RH2 subsidary arm (default = No Mapping)
-#       THEATRE[["char",[add:int,state:bool],],] - list of theatre states (default = No Mapping)
-#               Each entry comprises the "char" and the associated list of DCC addresses/states
-#               that need to be sent to get the theatre indicator to display that character.
-#               "#" is a special character - which means inhibit all indications (when signal 
-#               is at danger). You should ALWAYS provide mappings for '#' if you are using a 
-#               theatre indicator unless the signal automatically inhibits route indications.
-# 
-#      Semaphore signal DCC mappings assume that each main/subsidary signal arm is mapped to a 
-#      seperate DCC address. In this example, we are mapping a signal with MAIN and LH signal 
-#      arms and a subsidary arm for the MAIN route. Note that if the semaphore signal had a
-#      theatre type route indication, then this would be mapped in exactly the same was as for
-#      the Colour Light Signal example (above).
-# 
-#            map_semaphore_signal (sig_id = 2, 
-#                                  main_signal = 1 , 
-#                                  lh1_signal = 2 , 
-#                                  main_subsidary = 3)
-# 
-# map_dcc_point
-#    Mandatory Parameters:
-#       point_id:int - The ID for the point to create a DCC mapping for
-#       address:int - the single DCC address to use for the point
-#    Optional Parameters:
-#       state_reversed:bool - Set to True to reverse the DCC logic (default = false)
 #
-#----------------------------------------------------------------------------------------------------
+#   For the Theatre Route indicator, Each entry comprises the character to display and the list of DCC Commands
+#   [address,state] needed to get the theatre indicator to display the character. Note that "#" is a special
+#   character - which means inhibit all route indications. You should ALWAYS provide mappings for '#' unless
+#   the signal automatically inhibits route indications when at DANGER (see 'auto_route_inhibit' flag above).
 #
-# The following functions are associated with the MQTT networking Feature:
+#   Similarly, if you are using route feathers, you should ALWAYS provide mappings for 'NONE' unless
+#   the signal automatically inhibits route indications when at DANGER.
 #
-# set_node_to_publish_dcc_commands - Enables publishing of DCC commands to other network nodes
-#   Optional Parameters:
-#       publish_dcc_commands:bool - 'True' to Publish / 'False' to stop publishing (default=False)
+#   Semaphore signal DCC mappings assume that each main/subsidary signal arm is mapped to its own DCC address.
+#   In this example, we are mapping a signal with MAIN and LH signal arms and a subsidary arm for the MAIN route.
 # 
-# subscribe_to_dcc_command_feed - Subcribes to DCC command feed from another node on the network.
-#           All received DCC commands are automatically forwarded to the local Pi-Sprog interface.
-#   Mandatory Parameters:
-#       *nodes:str - The name of the node publishing the feed (multiple nodes can be specified)
+#            map_semaphore_signal(sig_id = 2, 
+#                              main_signal = 1 , 
+#                              lh1_signal = 2 , 
+#                              main_subsidary = 3)
 #
 #----------------------------------------------------------------------------------------------------
 
 from . import signals_common
 from . import pi_sprog_interface
 from . import mqtt_interface
 
 import enum
 import logging
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Global definitions
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 
 # Define the internal Type for the DCC Signal mappings
 class mapping_type(enum.Enum):
-    SEMAPHORE = 1   # One to one mapping of DCC Addresses to each signal element 
+    SEMAPHORE = 1      # One to one mapping of single DCC Addresses to each signal element 
     COLOUR_LIGHT = 2   # Each aspect is mapped to a sequence of one or more DCC Addresses/states
 
-# Define empty dictionaries for the mappings and dcc addresses
+# The DCC commands for Signals and Points are held in global dictionaries where the dictionary
+# 'key' is the ID of the signal or point. Each entry is another dictionary, with each element
+# holding the DCC commands (or sequences) needed to put the signal/point into the desired state.
+# Note that the mappings are completely different for Colour Light or Semaphore signals, so the
+# common 'mapping_type' value is used by the software to differentiate between the two types
 dcc_signal_mappings:dict = {}
 dcc_point_mappings:dict = {}
 
-# Define the Flag for whether DCC Commands are published to the MQTT Broker or not
+# Define the Flag to control whether DCC Commands are published to the MQTT Broker
 publish_dcc_commands_to_mqtt_broker:bool = False
 
-#-----------------------------------------------------------------------------------------
-# Internal function to test if a mapping exists for a signal
-#-----------------------------------------------------------------------------------------
-
-def sig_mapped(sig_id):
-    return (str(sig_id) in dcc_signal_mappings.keys() )
-
-#-----------------------------------------------------------------------------------------
-# Internal function to test if a mapping exists for a point
-#-----------------------------------------------------------------------------------------
-
-def point_mapped(point_id):
-    return (str(point_id) in dcc_point_mappings.keys() )
-
-#-----------------------------------------------------------------------------------------
-# Function to "map" a particular signal object to a series of DCC addresses/commands
-#
-#    Truth Table example - a 4 aspect signal, where each LED is mapped to a single DCC
-#    Address (Red=5, Green=6, Yel1 =7, Yel2 =8) would be configured as below.
-#    This example also includes an example configuration for a theatre route indication
-#    which we will use to display "1" or "2" for divergent routes and an empty string
-#    (therefore blank) for the main route. Note that we also need to include a mapping
-#    for the "special" character "#" which represents the mappings to apply when the
-#    theatre indicator is inhibited (when the signal is set to RED)
-#
-#        map_dcc_signal (sig_id = 10,
-#                        danger = [[5,True],[6,False],[7,False],[8,False]],
-#                        proceed = [[5,False],[6,True],[7,False],[8,False]],
-#                        caution = [[5,False],[6,False],[7,True],[8,False]],
-#                        prelim_caution = [[5,False],[6,False],[7,True],[8,True]],
-#                        THEATRE = [ ["#", [[9,False],[10,False]]],
-#                                    ["",[[9,False],[10,False]]],
-#                                    ["1",[[9,False],[10,True]]],
-#                                    ["2",[[9,True],[10,False]]] ]   )
-#
-#    Event Driven example - a 4 aspect signal, where 2 addresses are used (the base address
-#    to select the Red or Green aspect and the base+1 address to set the Yellow or Double Yellow
-#    Aspect. A single DCC command is then used to change the signal to the required state
-#
-#        map_dcc_signal (sig_id = 2,
-#                        danger = [[1,False]],
-#                        proceed = [[1,True]],
-#                        caution = [[2,True]],
-#                        prelim_caution = [[2,False]])
-#-----------------------------------------------------------------------------------------
-
-def map_dcc_signal (sig_id:int,
-                    auto_route_inhibit:bool = False,
-                    danger = [[0,False],],
-                    proceed = [[0,False],],
-                    caution = [[0,False],],
-                    prelim_caution = [[0,False],],
-                    flash_caution = [[0,False],],
-                    flash_prelim_caution = [[0,False],],
-                    LH1 = [[0,False],],
-                    LH2 = [[0,False],],
-                    RH1 = [[0,False],],
-                    RH2 = [[0,False],],
-                    MAIN = [[0,False],],
-                    NONE = [[0,False],],
-                    THEATRE = [["#", [[0,False],]],],
-                    subsidary:int=0):
+# List of DCC Mappings - The key is the address, with each element a list of [item,item_id]
+# Note that we use the DCC Address as an INTEGER for the key - so we can sort on the key
+# Item - either "Signal" or "Point" to identify the type of item the address is mapped to
+# Item ID - the ID of the Signal or Point that the DCC address is mapped to
+dcc_address_mappings:dict = {}
+
+#----------------------------------------------------------------------------------------------------
+# API function to return a dictionary of all DCC Address mappings (to signals/points)
+#----------------------------------------------------------------------------------------------------
+
+def get_dcc_address_mappings():
+    return(dcc_address_mappings)
+
+#----------------------------------------------------------------------------------------------------
+# API function to return an existing DCC address mapping if one exists (otherwise None)
+#----------------------------------------------------------------------------------------------------
+
+def dcc_address_mapping(dcc_address:int):
+    if not isinstance(dcc_address, int) or dcc_address < 0 or dcc_address > 2047:
+        logging.error("DCC Control: dcc_address_mapping - Invalid DCC Address "+str(dcc_address))
+        dcc_address_mapping = None
+    elif dcc_address not in dcc_address_mappings.keys():
+        dcc_address_mapping = None
+    else:
+        dcc_address_mapping = dcc_address_mappings[dcc_address]
+    return(dcc_address_mapping)
+        
+#----------------------------------------------------------------------------------------------------
+# Internal function to test if a DCC mapping already exists for a signal
+#----------------------------------------------------------------------------------------------------
+
+def sig_mapped(sig_id:int):
+    return (str(sig_id) in dcc_signal_mappings.keys())
+
+#----------------------------------------------------------------------------------------------------
+# Internal function to test if a DCC mapping already exists for a point
+#----------------------------------------------------------------------------------------------------
+
+def point_mapped(point_id:int):
+    return (str(point_id) in dcc_point_mappings.keys())
+
+#----------------------------------------------------------------------------------------------------
+# Function to "map" a Colour Light signal object to a series of DCC addresses/command sequences
+# Note we allow DCC addresses of zero to be specified (i.e. no mapping for that element)
+#----------------------------------------------------------------------------------------------------
+
+def map_dcc_signal(sig_id:int,
+                auto_route_inhibit:bool = False,
+                danger = [[0,False],],
+                proceed = [[0,False],],
+                caution = [[0,False],],
+                prelim_caution = [[0,False],],
+                flash_caution = [[0,False],],
+                flash_prelim_caution = [[0,False],],
+                LH1 = [[0,False],],
+                LH2 = [[0,False],],
+                RH1 = [[0,False],],
+                RH2 = [[0,False],],
+                MAIN = [[0,False],],
+                NONE = [[0,False],],
+                THEATRE = [["#", [[0,False],]],],
+                subsidary:int=0):
+    global dcc_signal_mappings
+    global dcc_address_mappings
     # Do some basic validation on the parameters we have been given
-    logging.info ("Signal "+str(sig_id)+": Creating DCC Address mapping for a colour light signal")
-    if sig_mapped(sig_id):
-        logging.error ("Signal "+str(sig_id)+": Signal already has a DCC Address mapping")
-    elif sig_id < 1:
-        logging.error ("Signal "+str(sig_id)+": Signal ID for DCC Mapping must be greater than zero")
+    if not isinstance(sig_id,int) or sig_id < 1:
+        logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - Signal ID must be a positive integer")
+    elif sig_mapped(sig_id):
+        logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - already has a DCC mapping")
     else:
-        # Validate the DCC Addresses we have been given are either 0 (i.e. don't send anything) or
-        # within the valid DCC accessory address range od 1 and 2047
+        # Create a list of DCC addresses [address,state] to validate
         addresses = ( danger + proceed + caution + prelim_caution + flash_caution +
                       flash_prelim_caution + LH1 + LH2 + RH1 + RH2 + MAIN + NONE )
+        # Add the Theatre route indicator addresses - these are the form [char,[[address,state],]]
         for theatre_state in THEATRE:
             addresses = addresses + theatre_state[1]
+        # Add the subsidary signal DCC address into the list (this is a single DCC address)
+        addresses = addresses + [[subsidary,True]]
+        # Validate the DCC Addresses we have been given are either 0 (i.e. don't send anything) or
+        # within the valid DCC accessory address range of 1 and 2047.
         addresses_valid = True
         for entry in addresses:
-            if entry[0] < 0 or entry[0] > 2047:
-                logging.error ("Signal "+str(sig_id)+": Invalid DCC Address "+str(entry[0])+" - must be between 1 and 2047")
+            if not isinstance(entry,list) or not len(entry) == 2:
+                logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - Invalid DCC command: "+str(entry))
+                addresses_valid = False
+            elif not isinstance(entry[1],bool):
+                logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - Invalid DCC state: " +str(entry[1]))
                 addresses_valid = False
-        if (subsidary < 0 or subsidary > 2047):
-            logging.error ("Signal "+str(sig_id)+": Invalid DCC Address for subsidary "+str(subsidary)+" - must be between 1 and 2047")
-            addresses_valid = False
+            elif not isinstance(entry[0],int) or entry[0] < 0 or entry[0] > 2047:
+                logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - Invalid DCC address: "+str(entry[0]))
+                addresses_valid = False
+            elif dcc_address_mapping(entry[0]) is not None:
+                logging.error ("DCC Control: map_dcc_signal - Signal "+str(sig_id)+" - DCC Address "+str(entry[0])+
+                    " is already assigned to "+dcc_address_mapping(entry[0])[0]+" "+str(dcc_address_mapping(entry[0])[1]))
+                addresses_valid = False
+        # We now know if all the DCC addresses we have been given are valid
         if addresses_valid:
+            logging.debug ("DCC Control - Creating DCC Address mapping for Colour Light Signal "+str(sig_id))
             # Create the DCC Mapping entry for the signal
             new_dcc_mapping = {
                 "mapping_type" : mapping_type.COLOUR_LIGHT,                                        # Common to Colour_Light & Semaphore Mappings
                 "auto_route_inhibit" : auto_route_inhibit,                                         # Common to Colour_Light & Semaphore Mappings
                 "main_subsidary" :  subsidary,                                                     # Common to Colour_Light & Semaphore Mappings 
                 "THEATRE" : THEATRE,                                                               # Common to Colour_Light & Semaphore Mappings                  
                 str(signals_common.signal_state_type.DANGER) : danger,                             # Specific to Colour_Light Mappings
@@ -265,239 +308,214 @@
                 str(signals_common.route_type.LH1) : LH1,                                          # Specific to Colour_Light Mappings
                 str(signals_common.route_type.LH2) : LH2,                                          # Specific to Colour_Light Mappings
                 str(signals_common.route_type.RH1) : RH1,                                          # Specific to Colour_Light Mappings
                 str(signals_common.route_type.RH2) : RH2,                                          # Specific to Colour_Light Mappings
                 str(signals_common.route_type.MAIN) : MAIN,                                        # Specific to Colour_Light Mappings
                 str(signals_common.route_type.NONE) : NONE }                                       # Specific to Colour_Light Mappings
             dcc_signal_mappings[str(sig_id)] = new_dcc_mapping
-    return ()
-
-#-----------------------------------------------------------------------------------------
-# Function to "map" a TrainTech" Event-driven signal to the appropriate DCC addresses/commands
-# This function provided to simplify the calling code - i.e. this does all the hard work for you
-#-----------------------------------------------------------------------------------------
-
-def map_traintech_signal (sig_id:int,
-                          base_address:int,
-                          route_address:int = 0,
-                          theatre_route = "NONE",
-                          feather_route = signals_common.route_type.NONE):
-    # Do some basic validation on the parameters we have been given
-    logging.info ("Signal "+str(sig_id)+": Creating DCC Address mapping for a Train Tech Signal")
-    if sig_mapped(sig_id):
-        logging.error ("Signal "+str(sig_id)+": Signal already has a DCC Address mapping")
-    elif sig_id < 1:
-        logging.error ("Signal "+str(sig_id)+": Signal ID for DCC Mapping must be greater than zero")
-    elif base_address < 0 or base_address > 2047:
-        logging.error ("Signal "+str(sig_id)+": Invalid DCC Base Address for signal "+str(base_address)+" - must be between 1 and 2047")
-    elif route_address < 0 or route_address > 2047:
-        logging.error ("Signal "+str(sig_id)+": Invalid DCC Address for route indication "+str(route_address)+" - must be between 1 and 2047")
-    elif theatre_route != "NONE" and feather_route != signals_common.route_type.NONE:
-        logging.error ("Signal "+str(sig_id)+": Signal can only support Feather or Theatre - not both")
-    else:
-        # We only need to map the address for the feather OR the theatre (can't have both)
-        theatre_address = route_address
-        if feather_route is signals_common.route_type.NONE: route_address = 0
-        else: theatre_address = 0
-        # Create the DCC Mapping entry for the signal
-        new_dcc_mapping = {
-                "mapping_type" : mapping_type.COLOUR_LIGHT,                                           # Common to Colour_Light & Semaphore Mappings
-                "auto_route_inhibit" : True,                                                          # Common to Colour_Light & Semaphore Mappings
-                "main_subsidary" : 0,                                                                 # Common to Colour_Light & Semaphore Mappings 
-                "THEATRE" : [ [str(theatre_route), [[theatre_address,True],]],                        # Common to Colour_Light & Semaphore Mappings
-                              ["#", [[theatre_address,False],]],
-                              ["", [[theatre_address,False],]]    ],
-                str(signals_common.signal_state_type.DANGER) : [[base_address,False]],                 # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.PROCEED) : [[base_address,True]],                 # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.CAUTION) : [[base_address+1,True]],               # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.CAUTION_APP_CNTL) : [[base_address+1,True]],      # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.PRELIM_CAUTION) : [[base_address+1,False]],       # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.FLASH_CAUTION) : [[base_address+3,True]],         # Specific to Colour_Light Mappings
-                str(signals_common.signal_state_type.FLASH_PRELIM_CAUTION) : [[base_address+3,False]], # Specific to Colour_Light Mappings
-                str(signals_common.route_type.LH1) : [[route_address,False]],                          # Specific to Colour_Light Mappings
-                str(signals_common.route_type.LH2) : [[route_address,False]],                          # Specific to Colour_Light Mappingss
-                str(signals_common.route_type.RH1) : [[route_address,False]],                          # Specific to Colour_Light Mappings
-                str(signals_common.route_type.RH2) : [[route_address,False]],                          # Specific to Colour_Light Mappingss
-                str(signals_common.route_type.MAIN) : [[route_address,False]],                         # Specific to Colour_Light Mappings 
-                str(signals_common.route_type.NONE) : [[route_address,False]] }                        # Specific to Colour_Light Mappings
-        # Configure the DCC Command  for the feather route indicator that we want to configured
-        new_dcc_mapping[str(feather_route)] = [[route_address,True]]
-        # Finally save the DCC mapping into the dictionary of mappings 
-        dcc_signal_mappings[str(sig_id)] = new_dcc_mapping
-    return ()
+            # Update the DCC mappings dictionary (note the key is an INTEGER)
+            for entry in addresses:
+                if entry[0] > 0 and entry[0] not in dcc_address_mappings.keys():
+                    dcc_address_mappings[int(entry[0])] = ["Signal",sig_id]
+    return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Function to "map" a semaphore signal to the appropriate DCC addresses/commands using
-# a simple one-to-one mapping of each signal arm with a DCC accessory address apart from
-# the theatre route display where we send can send either a signle DCC command or a
-# series of DCC commands to put the theatre route indicator into the correct state
-#
-#    Simple Example - a semaphore signal with main and subsidary arms for the primary route
-#    and a RH bracket with just a main signal arm, would be configured as below.
-#
-#        map_semaphore_signal (sig_id = 10,
-#                              main_signal_arm = 21,
-#                              main_subsidary_arm = 22
-#                              rh1_signal_arm = 23  )
-#-----------------------------------------------------------------------------------------
-
-def map_semaphore_signal (sig_id:int,
-                          main_signal:int = 0,
-                          lh1_signal:int = 0,
-                          lh2_signal:int = 0,
-                          rh1_signal:int = 0,
-                          rh2_signal:int = 0,
-                          main_subsidary:int = 0,
-                          lh1_subsidary:int = 0,
-                          lh2_subsidary:int = 0,
-                          rh1_subsidary:int = 0,
-                          rh2_subsidary:int = 0,
-                          THEATRE = [["#", [[0,False],]],]):
+# a simple one-to-one mapping of each signal arm to a single DCC accessory address (apart
+# from the theatre route display where we send a sequence of DCC commands)
+# Note we allow DCC addresses of zero to be specified (i.e. no mapping for that element)
+#----------------------------------------------------------------------------------------------------
+
+def map_semaphore_signal(sig_id:int,
+                        main_signal:int = 0,
+                        lh1_signal:int = 0,
+                        lh2_signal:int = 0,
+                        rh1_signal:int = 0,
+                        rh2_signal:int = 0,
+                        main_subsidary:int = 0,
+                        lh1_subsidary:int = 0,
+                        lh2_subsidary:int = 0,
+                        rh1_subsidary:int = 0,
+                        rh2_subsidary:int = 0,
+                        THEATRE = [["#", [[0,False],]],]):
+    global dcc_signal_mappings
+    global dcc_address_mappings
     # Do some basic validation on the parameters we have been given
-    logging.info ("Signal "+str(sig_id)+": Creating DCC Address mapping for a Semaphore Signal")
-    if sig_mapped(sig_id):
-        logging.error ("Signal "+str(sig_id)+": Signal already has a DCC Address mapping")
-    elif sig_id < 1:
-        logging.error ("Signal "+str(sig_id)+": Signal ID for DCC Mapping must be greater than zero")
+    if not isinstance(sig_id,int) or sig_id < 1:
+        logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - Signal ID must be a positive integer")
+    elif sig_mapped(sig_id):
+        logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - already has a DCC Address mapping")
     else: 
+        # Create a list of DCC addresses to validate
         addresses = [main_signal,main_subsidary,lh1_signal,lh1_subsidary,rh1_signal,rh1_subsidary,
                      lh2_signal,lh2_subsidary,rh2_signal,rh2_subsidary]
-        for theatre_state in THEATRE:
-            for dcc_address in theatre_state[1]:
-                addresses = addresses + [dcc_address[0]]
+        # Validate the DCC Addresses we have been given are either 0 (i.e. don't send anything) or
+        # within the valid DCC accessory address range of 1 and 2047.
         addresses_valid = True
         for entry in addresses:
-            if entry < 0 or entry > 2047:
-                logging.error ("Signal "+str(sig_id)+": Invalid DCC Address "+str(entry)+" - must be between 1 and 2047")
+            if not isinstance(entry,int) or entry < 0 or entry > 2047:
+                logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - Invalid DCC address: "+str(entry))
+                addresses_valid = False
+            elif dcc_address_mapping(entry) is not None:
+                logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - DCC Address "+str(entry)+
+                        " is already assigned to "+dcc_address_mapping(entry)[0]+" "+str(dcc_address_mapping(entry)[1]))
                 addresses_valid = False
+        # Validate the Theatre route indicator addresses - these are the form [char,[address,state]
+        for theatre_state in THEATRE:
+            for entry in theatre_state[1]:
+                if not isinstance(entry,list) or not len(entry) == 2:
+                    logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - Invalid DCC command: "+str(entry))
+                    addresses_valid = False
+                elif not isinstance(entry[1],bool):
+                    logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - Invalid DCC state: "+str(entry[1]))
+                    addresses_valid = False
+                elif not isinstance(entry[0],int) or entry[0] < 0 or entry[0] > 2047:
+                    logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - Invalid DCC address "+str(entry[0]))
+                    addresses_valid = False
+                elif dcc_address_mapping(entry[0]) is not None:
+                    logging.error ("DCC Control: map_semaphore_signal - Signal "+str(sig_id)+" - DCC Address "+str(entry[0])+
+                        " is already assigned to "+dcc_address_mapping(entry[0])[0]+" "+str(dcc_address_mapping(entry[0])[1]))
+                    addresses_valid = False
+                else:
+                    # Add to the list of addresses (so we can add to the mappings later on)
+                    addresses.append(entry[0])
+        # We now know if all the DCC addresses we have been given are valid
         if addresses_valid:
+            logging.debug("Signal "+str(sig_id)+": Creating DCC Address mapping for a Semaphore Signal")
             # Create the DCC Mapping entry for the signal.
             new_dcc_mapping = {
                 "mapping_type" : mapping_type.SEMAPHORE,     # Common to Colour_Light & Semaphore Mappings
                 "auto_route_inhibit" : False,                # Common to Colour_Light & Semaphore Mappings
                 "main_subsidary" :  main_subsidary,          # Common to Colour_Light & Semaphore Mappings 
-                "THEATRE"       : THEATRE,                   # Common to Colour_Light & Semaphore Mappings                                      str(signals_common.signal_state_type.DANGER)         :       [[0,False],],     # Specific to Colour Light Signal Mappings
+                "THEATRE"       : THEATRE,                   # Common to Colour_Light & Semaphore Mappings
                 "main_signal"   : main_signal,               # Specific to Semaphore Signal Mappings
                 "lh1_signal"    : lh1_signal,                # Specific to Semaphore Signal Mappings
                 "lh1_subsidary" : lh1_subsidary,             # Specific to Semaphore Signal Mappings
                 "lh2_signal"    : lh2_signal,                # Specific to Semaphore Signal Mappings
                 "lh2_subsidary" : lh2_subsidary,             # Specific to Semaphore Signal Mappings
                 "rh1_signal"    : rh1_signal,                # Specific to Semaphore Signal Mappings
                 "rh1_subsidary" : rh1_subsidary,             # Common to both Semaphore and Colour Lights
                 "rh2_signal"    : rh2_signal,                # Specific to Semaphore Signal Mappings
                 "rh2_subsidary" : rh2_subsidary }            # Finally save the DCC mapping into the dictionary of mappings 
             dcc_signal_mappings[str(sig_id)] = new_dcc_mapping
-    return ()
+            # Update the DCC mappings dictionary (note the key is an INTEGER)
+            for entry in addresses:
+                if entry > 0 and entry not in dcc_address_mappings.keys():
+                    dcc_address_mappings[int(entry)] = ["Signal",sig_id]
+    return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Externally called unction to "map" a particular point object to a DCC address/command
 # This is much simpler than the signals as we only need to map a signle DCC address for
 # each point to be controlled - with an appropriate state (either switched or not_switched)
-#-----------------------------------------------------------------------------------------
+# Note we allow DCC addresses of zero to be specified (i.e. no mapping for that element)
+#----------------------------------------------------------------------------------------------------
 
-def map_dcc_point (point_id:int, address:int, state_reversed:bool = False):
-    logging.info ("Point "+str(point_id)+": Creating DCC Address mapping")
+def map_dcc_point(point_id:int, address:int, state_reversed:bool=False):
     # Do some basic validation on the parameters we have been given
-    if point_mapped(point_id):
-        logging.error ("Point "+str(point_id)+": Point already has a DCC Address mapping")
-    elif point_id < 1:
-        logging.error ("Point "+str(point_id)+": Point ID for DCC Mapping must be greater than zero")
-    elif (address < 1 or address > 2047):
-        logging.error ("Point "+str(point_id)+": Invalid DCC Address "+str(address)+" - must be between 1 and 2047")
+    if not isinstance(point_id,int) or point_id < 1:
+        logging.error ("DCC Control: map_dcc_point - Point "+str(point_id)+" - Point ID must be a positive integer")
+    elif point_mapped(point_id):
+        logging.error ("DCC Control: map_dcc_point - Point "+str(point_id)+" - already has a DCC Address mapping")
+    elif not isinstance(address,int) or address < 0 or address > 2047:
+        logging.error ("DCC Control: map_dcc_point - Point "+str(point_id)+" - Invalid DCC address "+str(address))
+    elif not isinstance(state_reversed,bool):
+        logging.error ("DCC Control: map_dcc_point - Point "+str(point_id)+" - Invalid state_reversed flag")
+    elif dcc_address_mapping(address) is not None:
+        logging.error ("DCC Control: map_dcc_point - Point "+str(point_id)+" - DCC Address "+str(address)+
+            " is already assigned to "+dcc_address_mapping(address)[0]+" "+str(dcc_address_mapping(address)[1]))
     else:
+        logging.debug("Point "+str(point_id)+": Creating DCC Address mapping for Point")
         # Create the DCC Mapping entry for the point
         new_dcc_mapping = {
             "address"  : address,
             "reversed" : state_reversed }
         dcc_point_mappings[str(point_id)] = new_dcc_mapping
-    return ()
+        # Update the DCC mappings dictionary (note the key is an INTEGER)
+        if address > 0: dcc_address_mappings[int(address)] = ["Point",point_id]
+    return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Function to send the appropriate DCC command to set the state of a DCC Point
-#------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 
 def update_dcc_point(point_id:int, state:bool):    
     if point_mapped(point_id):
-        logging.debug ("Point "+str(point_id)+": Generating DCC Bus commands to switch point")
-        # Retrieve the DCC mappings for our point
+        logging.debug ("Point "+str(point_id)+": Looking up DCC commands to switch point")
         dcc_mapping = dcc_point_mappings[str(point_id)]
         if dcc_mapping["reversed"]: state = not state
         if dcc_mapping["address"] > 0:
             # Send the DCC commands to change the state
             pi_sprog_interface.send_accessory_short_event (dcc_mapping["address"],state)        
             # Publish the DCC commands to a remote pi-sprog "node" via an external MQTT broker.
-            # Note that the commands will only be published if networking is configured and
-            # the node this software is running on is not configured as a "pi-sprog" node
+            # Commands will only be published if networking is configured and publishing is enabled
             publish_accessory_short_event(dcc_mapping["address"],state)        
-    return ()
+    return()
 
-#-----------------------------------------------------------------------------------------
-# Function to send the appropriate DCC commands to set the state of a DCC Signal
-#------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
+# Function to send the appropriate DCC commands to set the state of a DCC Colour Light 
+# Signal. The commands to be sent will depend on the displayed aspect of the signal.
+#----------------------------------------------------------------------------------------------------
 
-def update_dcc_signal_aspects(sig_id: int):
+def update_dcc_signal_aspects(sig_id:int, sig_state:signals_common.signal_state_type):
     if sig_mapped(sig_id):
         # Retrieve the DCC mappings for our signal and validate its the correct mapping
         # This function should only be called for Colour Light Signal Types
         dcc_mapping = dcc_signal_mappings[str(sig_id)]
         if dcc_mapping["mapping_type"] != mapping_type.COLOUR_LIGHT:
             logging.error ("Signal "+str(sig_id)+": Incorrect DCC Mapping Type for signal - Expecting a Colour Light signal")
         else:
-            logging.debug ("Signal "+str(sig_id)+": Generating DCC Bus commands to change main signal aspect")
-            # Send the DCC commands to change the state
-            for entry in dcc_mapping[str(signals_common.signals[str(sig_id)]["sigstate"])]:
+            logging.debug ("Signal "+str(sig_id)+": Looking up DCC commands to change main signal aspect")
+            for entry in dcc_mapping[str(sig_state)]:
                 if entry[0] > 0:
                     # Send the DCC commands to change the state via the serial port to the Pi-Sprog.
                     # Note that the commands will only be sent if the pi-sprog interface is configured
                     pi_sprog_interface.send_accessory_short_event(entry[0],entry[1])
                     # Publish the DCC commands to a remote pi-sprog "node" via an external MQTT broker.
-                    # Note that the commands will only be published if networking is configured and
-                    # the node this software is running on is not configured as a "pi-sprog" node
+                    # Commands will only be published if networking is configured and publishing is enabled
                     publish_accessory_short_event(entry[0],entry[1])        
     return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Function to send the appropriate DCC commands to change a single element of a signal
 # This function primarily used for semaphore signals where each signal "arm" is normally
 # mapped to a single DCC address. Also used for the subsidary aspect of main colour light
 # signals where this subsidary aspect is normally mapped to a single DCC Address
-#------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
             
-def update_dcc_signal_element (sig_id:int,state:bool, element:str="main_subsidary"):    
+def update_dcc_signal_element(sig_id:int, state:bool, element:str="main_subsidary"):    
     if sig_mapped(sig_id):
         # Retrieve the DCC mappings for our signal and validate its the correct mapping
         # This function should only be called for anything other than the "main_subsidary" for Semaphore Signal Types
         dcc_mapping = dcc_signal_mappings[str(sig_id)]
         if element != "main_subsidary" and dcc_mapping["mapping_type"] != mapping_type.SEMAPHORE:
             logging.error ("Signal "+str(sig_id)+": Incorrect DCC Mapping Type for signal - Expecting a Semaphore signal")
         else:
-            logging.debug ("Signal "+str(sig_id)+": Generating DCC Bus commands to change \'"+element+"\' ")
-            # Send the DCC commands to change the state 
+            logging.debug ("Signal "+str(sig_id)+": Looking up DCC commands to change \'"+element+"\' ")
             if dcc_mapping[element] > 0:
                 # Send the DCC commands to change the state via the serial port to the Pi-Sprog.
                 # Note that the commands will only be sent if the pi-sprog interface is configured
                 pi_sprog_interface.send_accessory_short_event(dcc_mapping[element],state)
                 # Publish the DCC commands to a remote pi-sprog "node" via an external MQTT broker.
-                # Note that the commands will only be published if networking is configured and
-                # the node this software is running on is not configured as a "pi-sprog" node
+                # Commands will only be published if networking is configured and publishing is enabled
                 publish_accessory_short_event(dcc_mapping[element],state)       
     return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Function to send the appropriate DCC commands to change the route indication
 # Whether we need to send out DCC commands to actually change the route indication will
 # depend on the DCC signal type and WHY we are changing the route indication - Some DCC
 # signals automatically disable/enable the route indications when the signal is switched
 # to/from DANGER - In this case we only need to command it when the ROUTE has been changed.
 # For signals that don't do this, we need to send out commands every time we need to change
 # the route display - i.e. on all Signal Changes (to/from DANGER) to enable/disable the
 # display, and for all ROUTE changes when the signal is not at DANGER
-#------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
             
-def update_dcc_signal_route (sig_id:int,route:signals_common.route_type,
+def update_dcc_signal_route(sig_id:int,route:signals_common.route_type,
                               signal_change:bool=False,sig_at_danger:bool=False):
     if sig_mapped(sig_id):
         # Retrieve the DCC mappings for our signal and validate its the correct mapping
         # This function should only be called for Colour Light Signal Types
         dcc_mapping = dcc_signal_mappings[str(sig_id)]
         if dcc_mapping["mapping_type"] != mapping_type.COLOUR_LIGHT:
             logging.error ("Signal "+str(sig_id)+": Incorrect DCC Mapping Type for signal - Expecting a Colour Light signal")
@@ -505,148 +523,230 @@
             # Only send commands to enable/disable route if we need to:
             # All signals - Any route change when the signal is not at DANGER
             # Auto inhibit signals - additionally route changes when signal is at DANGER
             # Non auto inhibit signals - additionally all signal changes to/from DANGER
             if ( (dcc_mapping["auto_route_inhibit"] and not signal_change) or
                  (not dcc_mapping["auto_route_inhibit"] and signal_change) or
                  (not sig_at_danger and not signal_change) ):
-                logging.debug ("Signal "+str(sig_id)+": Generating DCC Bus commands to change route display")
-                # Send the DCC commands to change the state if required
+                logging.debug ("Signal "+str(sig_id)+": Looking up DCC commands to change route display")
                 for entry in dcc_mapping[str(route)]:
                     if entry[0] > 0:
                         # Send the DCC commands to change the state via the serial port to the Pi-Sprog.
                         # Note that the commands will only be sent if the pi-sprog interface is configured
                         pi_sprog_interface.send_accessory_short_event(entry[0],entry[1])
                         # Publish the DCC commands to a remote pi-sprog "node" via an external MQTT broker.
-                        # Note that the commands will only be published if networking is configured and
-                        # the node this software is running on is not configured as a "pi-sprog" node
+                        # Commands will only be published if networking is configured and publishing is enabled
                         publish_accessory_short_event(entry[0],entry[1])       
     return()
 
-#-----------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Function to send the appropriate DCC commands to change the Theatre indication
 # Whether we need to send out DCC commands to actually change the route indication will
 # depend on the DCC signal type and WHY we are changing the route indication - Some DCC
 # signals automatically disable/enable the route indications when the signal is switched
 # to/from DANGER - In this case we only need to command it when the ROUTE has been changed.
 # For signals that don't do this, we need to send out commands every time we need to change
 # the route display - i.e. on all Signal Changes (to/from DANGER) to enable/disable the
 # display, and for all ROUTE changes when the signal is not at DANGER
-#------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
             
-def update_dcc_signal_theatre (sig_id:int, character_to_display, 
-                               signal_change:bool=False,sig_at_danger:bool=False):    
+def update_dcc_signal_theatre(sig_id:int, character_to_display:str, 
+                        signal_change:bool=False, sig_at_danger:bool=False):    
     if sig_mapped(sig_id):
         # Retrieve the DCC mappings for our signal. We don't need to validate the mapping type
         # as Theatre route displays are supported by both Colour Light and Semaphore signal types 
         dcc_mapping = dcc_signal_mappings[str(sig_id)]       
         # Only send commands to enable/disable route if we need to:
         # All signals - Any route change when the signal is not at DANGER
         # Auto inhibit signals - additionally route changes when signal is at DANGER
         # Non auto inhibit signals - additionally all signal changes to/from DANGER
         if ( (dcc_mapping["auto_route_inhibit"] and not signal_change) or
              (not dcc_mapping["auto_route_inhibit"] and signal_change) or
              (not sig_at_danger and not signal_change) ):
-            logging.debug ("Signal "+str(sig_id)+": Generating DCC Bus commands to change Theatre display")
+            logging.debug ("Signal "+str(sig_id)+": Looking up DCC commands to change Theatre display")
             # Send the DCC commands to change the state if required
             for entry in dcc_mapping["THEATRE"]:
                 if entry[0] == character_to_display:
                     for command in entry[1]:
                         if command[0] > 0:
                             # Send the DCC commands to change the state via the serial port to the Pi-Sprog.
                             # Note that the commands will only be sent if the pi-sprog interface is configured
                             pi_sprog_interface.send_accessory_short_event(command[0],command[1])
                             # Publish the DCC commands to a remote pi-sprog "node" via an external MQTT broker.
-                            # Note that the commands will only be published if networking is configured and
-                            # the node this software is running on is not configured as a "pi-sprog" node
+                            # Commands will only be published if networking is configured and publishing is enabled
                             publish_accessory_short_event(command[0],command[1])       
     return()
 
-#-----------------------------------------------------------------------------------------------
-# Public API Function to set this node to publish all DCC commands to the broker
-#-----------------------------------------------------------------------------------------------
-
-def set_node_to_publish_dcc_commands (publish_dcc_commands:bool=False):
-    global publish_dcc_commands_to_mqtt_broker
-    if publish_dcc_commands: logging.info("MQTT-Client: Configuring Application to publish DCC Commands to MQTT broker")
-    else: logging.info("MQTT-Client: Configuring Application NOT to publish DCC Commands to MQTT broker")
-    publish_dcc_commands_to_mqtt_broker = publish_dcc_commands
-    return()
-
-#-----------------------------------------------------------------------------------------------
-# Public API Function to "subscribe" to the published DCC commands from another "Node"
-#-----------------------------------------------------------------------------------------------
-
-def subscribe_to_dcc_command_feed (*nodes:str):
-    for node in nodes:
-        # For DCC addresses we need to subscribe to the optional Subtopics (with a wildcard)
-        # as each DCC address will appear on a different topic from the remote MQTT node 
-        mqtt_interface.subscribe_to_mqtt_messages("dcc_accessory_short_events",node,0,
-                                    handle_mqtt_dcc_accessory_short_event,subtopics=True)
-    return() 
-
-#-----------------------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Callback for handling received MQTT messages from a remote DCC-command-producer Node
-#-----------------------------------------------------------------------------------------------
+# Note that this function will already be running in the main Tkinter thread
+#----------------------------------------------------------------------------------------------------
 
-def handle_mqtt_dcc_accessory_short_event (message):    
-    if "sourceidentifier" in message.keys() and "dccaddress" in message.keys() and "dccstate" in message.keys():
+def handle_mqtt_dcc_accessory_short_event(message):
+    if "sourceidentifier" not in message.keys() or "dccaddress" not in message.keys() or "dccstate" not in message.keys():
+        logging.error ("DCC Control: Unhandled MQTT Message - "+str(message))
+    else:
         source_node = message["sourceidentifier"]
         dcc_address = message["dccaddress"]
         dcc_state = message["dccstate"]
         if dcc_state: 
             logging.debug ("DCC Control: Received ASON command from \'"+source_node+"\' for DCC address: "+str(dcc_address))
         else:
             logging.debug ("DCC Control: Received ASOF command from \'"+source_node+"\' for DCC address: "+str(dcc_address))
         # Forward the received DCC command on to the Pi-Sprog Interface (for transmission on the DCC Bus)
         pi_sprog_interface.send_accessory_short_event(dcc_address,dcc_state)
     return()
 
-# --------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 # Internal function for building and sending MQTT messages - but only if this
 # particular node has been configured to publish DCC commands viathe mqtt broker
-# --------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 
 def publish_accessory_short_event(address:int,active:bool):
     if publish_dcc_commands_to_mqtt_broker:
         data = {}
         data["dccaddress"] = address
         data["dccstate"] = active
         if active: log_message = "DCC Control: Publishing DCC command ASON with DCC address: "+str(address)+" to MQTT broker"
         else: log_message = "DCC Control: Publishing DCC command ASOF with DCC address: "+str(address)+" to MQTT broker"
         # Publish as "retained" messages so remote nodes that subscribe later will always pick up the latest state
         mqtt_interface.send_mqtt_message("dcc_accessory_short_events",0,data=data,
                             log_message=log_message,subtopic = str(address),retain=True)
     return()
 
-# ------------------------------------------------------------------------------------------
-# Non public API function to reset the list of subscribed Topics. Used by the schematic editor
-# for re-setting the MQTT configuration prior to re-configuring
-# ------------------------------------------------------------------------------------------
-
-def reset_mqtt_configuration():
-    global publish_dcc_commands_to_mqtt_broker
-    publish_dcc_commands_to_mqtt_broker = False
-    mqtt_interface.unsubscribe_from_message_type("dcc_accessory_short_events")
-    return()
-
-# --------------------------------------------------------------------------------
-# Non public API function for deleting a point mapping - This is used by the
+#----------------------------------------------------------------------------------------------------
+# API function for deleting a DCC Point mapping and removing the DCC address
+# associated with the point from the dcc_address_mappings. This is used by the
 # schematic editor for deleting existing DCC mappings (before creating new ones)
-# --------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 
 def delete_point_mapping(point_id:int):
-    if point_mapped(point_id):
+    global dcc_point_mappings
+    global dcc_address_mappings
+    if not isinstance(point_id, int):
+        logging.error("DCC Control: delete_point_mapping - Point "+str(point_id)+" - Point ID must be an integer")
+    elif not point_mapped(point_id):
+        logging.error("DCC Control: delete_point_mapping - Point "+str(point_id)+" - DCC Mapping does not exist")
+    else:
+        logging.debug("Point "+str(point_id)+": Deleting DCC Address mapping for Point")
+        # Retrieve the DCC mapping address for the Point
+        dcc_address = dcc_point_mappings[str(point_id)]["address"]
+        # Remove the DCC address from the dcc_address_mappings dictionary (note the key is an INTEGER)
+        if dcc_address in dcc_address_mappings.keys():
+            del dcc_address_mappings[int(dcc_address)]
+        # Now delete the point mapping from the dcc_point_mappings dictionary
         del dcc_point_mappings[str(point_id)]
     return()
 
-# --------------------------------------------------------------------------------
-# Non public API function for deleting a signal mapping - This is used by the
+#----------------------------------------------------------------------------------------------------
+# API function for deleting a DCC signal mapping and removing all DCC addresses
+# associated with the signal from the dcc_address_mappings. This is used by the
 # schematic editor for deleting existing DCC mappings (before creating new ones)
-# --------------------------------------------------------------------------------
+#----------------------------------------------------------------------------------------------------
 
 def delete_signal_mapping(sig_id:int):
-    if sig_mapped(sig_id):
+    global dcc_signal_mappings
+    global dcc_address_mappings
+    if not isinstance(sig_id, int):
+        logging.error("DCC Control: delete_signal_mapping - Signal "+str(sig_id)+" - Signal ID must be an integer")
+    elif not sig_mapped(sig_id):
+        logging.error("DCC Control: delete_signal_mapping - Signal "+str(sig_id)+" - DCC Mapping does not exist")
+    else:
+        logging.debug("Signal "+str(sig_id)+": Deleting DCC Address mapping for signal")
+        # Retrieve the DCC mappings for the signal and determine the mapping type
+        dcc_signal_mapping = dcc_signal_mappings[str(sig_id)]
+        # Colour Light Signal mappings
+        if dcc_signal_mapping["mapping_type"] == mapping_type.COLOUR_LIGHT:
+            # Compile a list of all DCC commands associated with the signal (aspects, feathers)
+            # Note we don't need to add the 'CAUTION_APP_CNTL' list as this is the same as CAUTION
+            dcc_command_list = [[dcc_signal_mapping["main_subsidary"],True]]
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.DANGER)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.PROCEED)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.CAUTION)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.PRELIM_CAUTION)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.FLASH_CAUTION)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.signal_state_type.FLASH_PRELIM_CAUTION)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.NONE)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.MAIN)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.LH1)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.LH2)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.RH1)])
+            dcc_command_list.extend(dcc_signal_mapping[str(signals_common.route_type.RH2)])
+            # Add the Theatre route indicator addresses - Each Route Element is [char,[[address,state],]]
+            for theatre_route_element in dcc_signal_mapping["THEATRE"]:
+                dcc_command_list.extend(theatre_route_element[1])
+            # List is now complete - remove all DCC addresses from the dcc_address_mappings dictionary
+            # Note that the dictionary key is an INTEGER
+            for dcc_command in dcc_command_list:
+                if dcc_command[0] in dcc_address_mappings.keys():
+                 del dcc_address_mappings[int(dcc_command[0])]
+        # Semaphors Signal mappings
+        elif dcc_signal_mapping["mapping_type"] == mapping_type.SEMAPHORE:
+            # Compile a list of all DCC addresses associated with the signal (signal arms)
+            dcc_address_list = [dcc_signal_mapping["main_signal"]]
+            dcc_address_list.extend([dcc_signal_mapping["lh1_signal"]])
+            dcc_address_list.extend([dcc_signal_mapping["lh2_signal"]])
+            dcc_address_list.extend([dcc_signal_mapping["rh1_signal"]])
+            dcc_address_list.extend([dcc_signal_mapping["rh2_signal"]])
+            dcc_address_list.extend([dcc_signal_mapping["main_subsidary"]])
+            dcc_address_list.extend([dcc_signal_mapping["lh1_subsidary"]])
+            dcc_address_list.extend([dcc_signal_mapping["lh2_subsidary"]])
+            dcc_address_list.extend([dcc_signal_mapping["rh1_subsidary"]])
+            dcc_address_list.extend([dcc_signal_mapping["rh2_subsidary"]])
+            # Add the Theatre route indicator addresses - Each Route Element is [char,[[address,state],]]
+            for theatre_route_element in dcc_signal_mapping["THEATRE"]:
+                for dcc_command in theatre_route_element[1]:
+                    dcc_address_list.extend([dcc_command[0]])
+            # List is now complete - remove all DCC addresses from the dcc_address_mappings dictionary
+            # Note that the dictionary key is an INTEGER
+            for dcc_address in dcc_address_list:
+                if dcc_address in dcc_address_mappings.keys():
+                 del dcc_address_mappings[int(dcc_address)]
+        # Now delete the signal mapping from the dcc_signal_mappings dictionary
         del dcc_signal_mappings[str(sig_id)]
     return()
 
-#######################################################################################
+#----------------------------------------------------------------------------------------------------
+# API function to reset the published/subscribed DCC command feeds. This function is called by
+# the editor on 'Apply' of the MQTT pub/sub configuration prior to applying the new configuration
+# via the 'subscribe_to_dcc_command_feed' & 'set_node_to_publish_dcc_commands' functions.
+#----------------------------------------------------------------------------------------------------
+
+def reset_mqtt_configuration():
+    global publish_dcc_commands_to_mqtt_broker
+    logging.debug("DCC Control: Resetting MQTT publish and subscribe configuration")
+    publish_dcc_commands_to_mqtt_broker = False
+    mqtt_interface.unsubscribe_from_message_type("dcc_accessory_short_events")
+    return()
+
+#----------------------------------------------------------------------------------------------------
+# API Function to set this Signalling node to publish all DCC commands to remote MQTT
+# nodes. This function is called by the editor on 'Apply' of the MQTT pub/sub configuration.
+#----------------------------------------------------------------------------------------------------
+
+def set_node_to_publish_dcc_commands (publish_dcc_commands:bool=False):
+    global publish_dcc_commands_to_mqtt_broker
+    if not isinstance(publish_dcc_commands, bool):
+        logging.error("DCC Control: set_node_to_publish_dcc_commands - invalid publish_dcc_commands flag")
+    else:
+        if publish_dcc_commands: logging.debug("DCC Control: Configuring Application to publish DCC Commands to MQTT broker")
+        else: logging.debug("DCC Control: Configuring Application NOT to publish DCC Commands to MQTT broker")
+        publish_dcc_commands_to_mqtt_broker = publish_dcc_commands
+    return()
+
+#----------------------------------------------------------------------------------------------------
+# API Function to "subscribe" to the published DCC command feed from other remote MQTT nodes
+# This function is called by the editor on "Apply' of the MQTT pub/sub configuration.
+#----------------------------------------------------------------------------------------------------
+
+def subscribe_to_dcc_command_feed (*nodes:str):
+    for node in nodes:
+        if not isinstance(node, str):
+            logging.error("DCC Control: subscribe_to_dcc_command_feed - invalid node "+str(node))
+        else:
+            # For DCC addresses we need to subscribe to the optional Subtopics (with a wildcard)
+            # as each DCC address will appear on a different topic from the remote MQTT node 
+            mqtt_interface.subscribe_to_mqtt_messages("dcc_accessory_short_events",node,0,
+                                        handle_mqtt_dcc_accessory_short_event,subtopics=True)
+    return() 
+
+#####################################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/file_interface.py` & `model_railway_signals-4.2.0/model_railway_signals/library/file_interface.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,54 +1,67 @@
 # ----------------------------------------------------------------------------------------------
-# This enables the current configuration of the signals, points and sections on the layout to be
-# "saved" when the application is closed and then "loaded" when the application is re-loaded
-# (ready for the next running session)
+# This library module enables layout schematics to be saved and loaded to/from file
+# (this includes all schematic editor settings, schematic objects and object state)
 # ----------------------------------------------------------------------------------------------
 # 
-# Public Types and Functions:
-# 
-# load_layout_state - Loads the initial state for all 'points', 'signals' and 'sections' from file
-#                     and enables the save of the current layout state to file on application quit.
-#                     If load is "cancelled" or "file not found" then the default state will be used.
+# External API - classes and functions (used by the Schematic Editor):
+#
+#   load_schematic - Opens a file picker dialog to select a 'sig' file to load and then loads the file,
+#                    populating the global layout_state dictionary (for library object state) and returning
+#                    the loaded file as a dictionary (containing the editor configuration and schematic objects)
+#                    Returns the filename that was used to load the file (or None if the file was not loaded)
 #    Optional Parameters:
-#       requested_filename:str - to load/save - default = None (will default to 'main-python-script.sig')
-#       ask_to_load_state:bool - Asks the user if they want to load layout state - default = True
-#       load_file_dialog:bool - Opens a 'load file' dialog to select a file - default = False
-#       save_file_dialog:bool - Opens a 'save file' dialog on application quit - default = False
+#       requested_filename:str - A file load will be attempted without opening the file picker dialog
+#
+#   purge_loaded_state_information() - called by the editor after the layout has been successfully created
+#                     within the editor to stop any subsequently created objects erroneously inheriting state
+# 
+#   save_schematic - Saves the supplied 'settings' and 'objects' to file together with the current state of
+#                    The library objects (which is queried directly from the library objects themselves
+#                    Returns the filename that was used to save the file (or None if the file was not saved)
+#      Mandatory Parameters:
+#         settings:dict          - dictionary holding the editor settings
+#         objects:dict           - dictionary holding the editor objects
+#         requested_filename:str - to load/save - default = None (will default to 'main-python-script.sig')
+#      Optional Parameters:
+#         save_as:bool           - Specify true to open the file picker 'save as' dialog(default=False)
+#
+# External API - classes and functions (used by the other library modules):
+#
+#   get_initial_item_state(layout_element:str,item_id:int) - Called by other library modules on creation of
+#                library objects to query the initial state (e.g. layout_element="signal", item_id=1.
+#                Returns an object-specific dictionary containing key-value pairs of object state
+#
 #------------------------------------------------------------------------------------------------
 
 import os
 import json
-import __main__
 import logging
 import tkinter.messagebox
 import tkinter.filedialog
 from . import signals_common
 from . import track_sections
 from . import block_instruments
 from . import points
 from . import common
 
 #-------------------------------------------------------------------------------------------------
-# Global variables to define what options are presented to the user on application quit
+# Global variable to hold the last filename used for save/load
 #-------------------------------------------------------------------------------------------------
 
 last_fully_qualified_file_name = None
-filename_used_for_load = None
-save_as_option_enabled = False
 
 #-------------------------------------------------------------------------------------------------
-# Global dictionaries to hold the dictionary to save and the loaded layout state
+# Global dictionary to hold the loaded layout state
 #-------------------------------------------------------------------------------------------------
 
-dictionary_to_save ={}
 layout_state ={}
 
 #-------------------------------------------------------------------------------------------------
-# Define all the layout elements that needs to be saved/loaded for each module. This effectively
+# Define all the layout state elements that needs to be saved/loaded for each module. This
 # makes the remainder of the code generic. If we ever need to add another "layout_element" or
 # another "item_element" (to an existing layout element) then we just define that here
 # Note that we also define the type for each element to enable a level of validation on load
 # This is also important for "enum" types where we have to save the VALUE of the Enum
 #-------------------------------------------------------------------------------------------------
 
 def get_sig_file_config(get_sig_file_data:bool = False):
@@ -68,152 +81,60 @@
     if get_sig_file_data:
         layout_elements["points"]["source"] = points.points
         layout_elements["signals"]["source"] = signals_common.signals
         layout_elements["sections"]["source"] = track_sections.sections
         layout_elements["instruments"]["source"] = block_instruments.instruments
         
     return(layout_elements)
-    
-#-------------------------------------------------------------------------------------------------
-# Public API function to load the initial layout state from File (and also configure what options
-# are presented to the user on quit of the application (i.e. options for saving layout state)
-# Stores the filename_used_for_load as a global variable if the file was successfully loaded
-#-------------------------------------------------------------------------------------------------
-
-def load_layout_state(file_name:str=None,
-                      load_file_dialog:bool=False,
-                      save_file_dialog:bool=False,
-                      ask_to_load_state:bool=True):
-    global filename_used_for_load    ## Set by this function ##
-    global save_as_option_enabled    ## Set by this function ##
-    #If the filename is None then we fall back to the default filename (based on the script name)
-    if file_name is None: file_name = (__main__.__file__).rsplit('.',1)[0]+'.sig'
-    # If the 'save_file_dialog' option has been specified then we save this to a global variable
-    # to trigger the save file dialogue when the user quits the application
-    save_as_option_enabled = save_file_dialog
-    # We always prompt for load state on startup unless this is inhibited
-    # the value of save_application will be True for OK or False for CANCEL
-    if ask_to_load_state: load_confirmed = tkinter.messagebox.askokcancel(parent=common.root_window,
-                     title="Load State", message="Do you want to load the last layout state?")
-    else: load_confirmed = True
-    # we're good to go and (attempt to) load the state as long as the user hasn't cancelled
-    if load_confirmed:
-        filename_used_for_load = load_state(file_name, load_file_dialog)
-    if not load_state or filename_used_for_load is None:
-        # if the user clicks on 'Cancel' then we still want to provide an option to save the layout
-        # state on application quit - either using the filename passed to us or the default filename
-        # derived from the name of the main python script (with a '.sig' extension)
-        if file_name is not None: filename_used_for_load = file_name
-        else: filename_used_for_load = (__main__.__file__).rsplit('.',1)[0]+'.sig'
-    return()
-        
-#-------------------------------------------------------------------------------------------------
-# Function called on application quit to save the current layout state to file. The actual options 
-# presented to the user will depend on the 'save_as_option_enabled' and 'filename_used_for_load'
-#
-# If the filename is 'None' then 'load_layout_state' was never called (i.e. the signalling application
-# isn't using this feature). In this case we just provide the user with an option to quit or cancel.
-# If the filename is not 'None' then we provide the user with an option to save (yes/no/cancel) and
-# use the filename for the file that was loaded (or attempted) by the 'load_layout_state' function.
-# If 'save_as_option_enabled' is True, then we open a file dialogue to select a file.
-#
-# We return a 'quit_application' confirmation to the calling programme - This will be True if
-# the user selects to 'save & quit' or to 'quit without saving' - False if a dialog is cancelled
-#-------------------------------------------------------------------------------------------------
 
-def save_state_and_quit():
-    global save_as_option_enabled      ### Configured during file load ###
-    global filename_used_for_load      ### Set during file load (or None) ###
-    if filename_used_for_load is None:
-        # if the 'filename_used_for_load' is "None" then file loading/saving hasn't been configured by
-        # the signalling application - we therefore just give the option to quit the application or cancel
-        quit_application = tkinter.messagebox.askokcancel(parent=common.root_window,
-                            title="Quit", message="Do you want to quit the application?")
-        # the value of quit_application will be True for YES or False for CANCEL
-        save_application = save_as_option_enabled
-    else:
-        # the 'filename_used_for_load' has been configured - we need to give the option to save the current state
-        save_application = tkinter.messagebox.askyesnocancel(parent=common.root_window,
-                        title="Quit", message="Do you want to save the current layout state")
-        # the value of save_application will be True, False or NONE for CANCEL
-        # If CANCEL we assume that this means the user no longer wants to quit
-        if save_application is None:
-            quit_application = False
-            save_application = False
-        else:
-            quit_application = True
-    # Save the application if pre-configured (on load) or selected by the user
-    # Note we don't care about the returned filename the layout was saved as here
-    if save_application: save_state(filename_used_for_load, save_as_option_enabled)
-    # Return whether the "Quit application" action was confirmed or cancelled)
-    return(quit_application)
-
-#-------------------------------------------------------------------------------------------------
-# Non Public API functions to support the schematic editor - the 'save_schematic' function "adds"
-# the additional configuration information into the dictionary to save and then sets up the global
-# 'state' variables before calling the main 'save_state' function.
-# The 'load_schematic' function similarly calls the public 'load_state' function with the
-# appropriate parameters to open a file dialog and then returns the loaded dictionary in its
-# entirity, leaving the calling programme (the editor) to extract the required information
-# The purge_loaded_state_information function is called after the layout has been successfully
-# loaded to stop any subsequently created objects (with the same ID) erroneously inheriting state
 #-------------------------------------------------------------------------------------------------
-
-def save_schematic(settings:dict, objects:dict, filename:str, save_as:bool=False):
-    global dictionary_to_save
-    dictionary_to_save["settings"] = settings
-    dictionary_to_save["objects"] = objects
-    filename_used_for_save = save_state(filename, save_as)
-    return(filename_used_for_save)
-
-def load_schematic(filename=None):
-    global layout_state
-    filename_used_for_load= load_state(filename, (filename is None))
-    return(filename_used_for_load, layout_state)    
+# API function purge the loaded layout_state information - this is called by the editor after the
+# layout has been successfully created within the editor to stop any subsequently created objects
+# (with the same Item ID) erroneously inheriting state.
+#-------------------------------------------------------------------------------------------------
 
 def purge_loaded_state_information():
     global layout_state
     layout_state ={}
     return()
 
 #-------------------------------------------------------------------------------------------------
-# Internal function to handle the actual loading of a schematic file. Used by both the external
-# API 'load_layout_state' function and the schematic editor 'load_schematic' function.
-# Returns the name of the loaded file if successfull (otherwise None)
-# Populates the global 'layout_state' dictonary with the loaded data
+# API function to handle the loading of a schematic file by the the schematic editor.
+# Returns the name of the loaded file if successful (otherwise None) and the loaded
+# 'layout_state' (dict containing the schematic settings, objects and object state).
+# Also populates the global 'layout_state' dictonary with the loaded data as this is
+# queried when library objects are created in order to set the initial state.
 #-------------------------------------------------------------------------------------------------
 
-def load_state(requested_filename:str, load_file_dialog:bool):
+def load_schematic(requested_filename:str=None):
     global last_fully_qualified_file_name     ## Set by 'load_state' and 'save_state' ##
     global layout_state                       ## populated on successful file load ##
-    # If the 'load_file_dialog' option has been specified then we want to provide a default file
-    # to the user in the dialog. This will be the requested_filename (if this is a valid file)
-    # or the last loaded / saved file (if the requested_filename is not valid)
-    # If the 'load_file_dialog' option has not been specified (system test harness use case
-    # or specifying a file (on the command line) to load at application startup use case)
-    # then we will just try to load the specified requested_filename (if it fails, it fails)
-    if load_file_dialog:
-        if requested_filename is not None and os.path.isfile(requested_filename):
-            path, name = os.path.split(requested_filename)
-        elif last_fully_qualified_file_name is not None and os.path.isfile(last_fully_qualified_file_name):
+    # If the requested filename is 'None' then we always open a file picker dialog. This
+    # is pre-populated with the 'last_fully_qualified_file_name' if it exists as a file
+    # Otherwise, we will attempt to load the requested filename (without a dialog)
+    if requested_filename is None:
+        if last_fully_qualified_file_name is not None and os.path.isfile(last_fully_qualified_file_name):
             path, name = os.path.split(last_fully_qualified_file_name)
         else:
             path, name = ".", ""
         filename_to_load = tkinter.filedialog.askopenfilename(title='Load Layout State',
                             filetypes=(('sig files','*.sig'),('all files','*.*')),
                             initialdir=path, initialfile=name)
         # If dialogue is cancelled then Filename will remain as 'None' as nothing will be loaded
-        if filename_to_load == () or filename_to_load == "": filename_to_load = None
+        if filename_to_load == () or filename_to_load == "": 
+            filename_to_load = None
+    elif not os.path.isfile(requested_filename):
+        filename_to_load = None
     else:
         filename_to_load = requested_filename
-    # if the user clicks on 'Cancel' in the load file dialog then there is nothing to load
+    # We should now have a valid filename (and the file exists) unless the user has cancelled
+    # the file load dialog or the specified file does not exist (in this case it will be None)
     if filename_to_load is None:
         logging.info("Load File - No file selected - Layout will remain in its default state")
     else:
-        # We have a valid filename so can proceed to try and open the file
         logging.info("Load File - Loading layout configuration from '"+filename_to_load+"'")
         try:
             with open (filename_to_load,'r') as file:
                 file_contents=file.read()
             file.close
         except Exception as exception:
             logging.error("Load File - Error opening file - Layout will remain in its default state")
@@ -234,56 +155,60 @@
                 filename_to_load = None
             else:
                 # File parsing was successful - we can populate the global dictionary and
                 # update the global 'last_fully_qualified_file_name' for the next save/load
                 layout_state = loaded_state
                 last_fully_qualified_file_name = filename_to_load
         # Return the filename that was actually loaded (which will be None if the load failed)
-    return(filename_to_load)
+        # And the dictionary containing the layout state (configuration, objects, state etc)
+    return(filename_to_load, layout_state)
 
 #-------------------------------------------------------------------------------------------------
-# Internal function to handle the actual saving of a schematic file. Used by both the library
-# 'quit_application' function (called on application quit if the library is being used standalone)
-# and the schematic editor 'save_schematic' function. Populates the global 'dictionary_to_save'
-# dictonary with the loaded data. Note that if called by the 'save_schematic' function, the
-# "settings" and "objects" elements of the dict will have already been populated.
-# Returns the name of the saved file if successfull (otherwise None)
+# API function to handle the saving of a schematic file by the the schematic editor.
+# (the schematic settings, objects - passed in to the function by the editor and and
+# the current state of all libray objects - which are populated by this function))
+# Returns the name of the saved file if successful (otherwise None)
 #-------------------------------------------------------------------------------------------------
 
-def save_state(requested_filename:str, save_file_dialog:bool):
+def save_schematic(settings:dict, objects:dict, requested_filename:str, save_as:bool=False):
     global last_fully_qualified_file_name
-    global dictionary_to_save
-    # If the 'save_file_dialogue' option has been specified then we want to provide a default file
+    dictionary_to_save={}
+    dictionary_to_save["settings"] = settings
+    dictionary_to_save["objects"] = objects
+    # If the 'save_as' option has been specified then we want to provide a default file
     # to the user in the dialog. This will be the requested_filename (if this is a valid file)
-    # or the last loaded / saved file (if the requested_filename is not valid)
-    # If the 'save_file_dialogue' option has not been specified (sqave rather than save-as)
-    # then we will just try to save the specified requested_filename (if it fails, it fails)
-    if save_file_dialog:
+    # or the last loaded / saved file (if the last_fully_qualified_file_name is valid)
+    # If the 'save_as' option has not been specified ('save' rather than 'save-as') then
+    # we will just try to save the specified requested_filename (if it fails, it fails)
+    if save_as:
         if requested_filename is not None and os.path.isfile(requested_filename):
             path, name = os.path.split(requested_filename)
         elif last_fully_qualified_file_name is not None and os.path.isfile(last_fully_qualified_file_name):
             path, name = os.path.split(last_fully_qualified_file_name)
         else:
             path, name = ".", ""
         filename_to_save = tkinter.filedialog.asksaveasfilename(title='Save Layout State',
                     filetypes=(('sig files','*.sig'),('all files','*.*')),
                     initialfile=name, initialdir=path)
         # If dialogue is cancelled then Filename will remain as 'None' as nothing will be saved
         if filename_to_save == () or filename_to_save == "": filename_to_save = None
+    elif not os.path.isfile(requested_filename):
+        filename_to_save = None
     else:
         filename_to_save = requested_filename
-    # if the user clicks on 'Cancel' in the load file dialog then there is nothing to load
+    # We should now have a valid filename (and the file exists) unless the user has cancelled
+    # the file save dialog or the specified file does not exist (in this case it will be None)
     if filename_to_save is None:
         logging.info("Save File - No file selected")
     else:
         # We have a valid filename - Force the ".sig" extension
         if not filename_to_save.endswith(".sig"): filename_to_save = filename_to_save+".sig"
         # Note that the asksaveasfilename dialog returns the fully qualified filename
         # (including the path) - we only need the name so strip out the path element
-        logging.info("Saving Layout Configuration as '"+filename_to_save+"'")
+        logging.info("Save File - Saving Layout Configuration as '"+filename_to_save+"'")
         dictionary_to_save["information"] = "Model Railway Signalling Configuration File"
         # Retrieve the DEFINITION of all the data items we need to save to maintain state
         # These are defined in a single function at the top of this source file. We also
         # retrieve the source DATA we need to save from the various source dictionaries
         layout_elements = get_sig_file_config(get_sig_file_data=True)
         # Iterate through the main LAYOUT-ELEMENTS (e.g. signals, points, sections etc)
         for layout_element in layout_elements:
@@ -324,18 +249,18 @@
             logging.error("Save File - Error saving file - Reported exception: "+str(exception))
             tkinter.messagebox.showerror(parent=common.root_window,
                         title="File Save Error",message=str(exception))
             filename_to_save = None
         else:
             # File parsing was successful - update the global 'last_fully_qualified_file_name'
             last_fully_qualified_file_name = filename_to_save
-    return (filename_to_save)
+    return(filename_to_save)
 
 #-------------------------------------------------------------------------------------------------
-# Function called on creation of a signal/point/section/instrument Object to return the initial state
+# Library Function called on creation of a Library Object to return the initial state of the object
 # from the loaded data. If no layout state has been loaded or the loaded data doesn't include an
 # entry for the Object then we return 'None' and the Object will retain its "as created" default state
 #-------------------------------------------------------------------------------------------------
 
 def get_initial_item_state(layout_element:str,item_id:int):
     # Retrieve the DEFINITION of all the data items that are available
     sig_file_config = get_sig_file_config()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/mqtt_interface.py` & `model_railway_signals-4.2.0/model_railway_signals/library/mqtt_interface.py`

 * *Files 3% similar despite different names*

```diff
@@ -23,32 +23,64 @@
 # 
 # If you do intend using an internet-based broker then it is important to configure it with an 
 # appropriate level of security. This package does support basic username/password authentication 
 # for connecting in to the broker but note that these are NOT ENCRYPTED when sending over the 
 # internet unless you are also using a SSL connection.
 #-----------------------------------------------------------------------------------------------
 #
-# configure_mqtt_client - Configures the local MQTT client and layout network node
-#   Mandatory Parameters:
-#       network_identifier:str - The name to use for this signalling network (any string)
-#       node_identifier:str - The name to use for this node on the network (can be any string)
-#   Optional Parameters:
-#       mqtt_enhanced_debugging:bool - 'True' to enable additional debug logging (default = False)
-#       publish_shutdown:bool - Publish a shutdown message on appication exit (default = False)
-#       act_on_shutdown:bool - Make a callback if a shutdown message is received (default = False)
-#       shutdown_callback - Callback to make on reciept of a shutdown message (default = None)
+# External API - classes and functions (used by the Schematic Editor):
 #
-# mqtt_broker_connect - Opens a connection to a local or remote MQTT broker
+#   configure_mqtt_client - Configures the local MQTT client and layout network node
+#     Mandatory Parameters:
+#         network_identifier:str - The name to use for this signalling network (any string)
+#         node_identifier:str - The name to use for this node on the network (can be any string)
+#     Optional Parameters:
+#         mqtt_enhanced_debugging:bool - 'True' to enable additional debug logging (default = False)
+#         publish_shutdown:bool - Publish a shutdown message on appication exit (default = False)
+#         act_on_shutdown:bool - Make a callback if a shutdown message is received (default = False)
+#         shutdown_callback - Callback to make on reciept of a shutdown message (default = None)
+#
+#   mqtt_broker_connect - Opens a connection to a local or remote MQTT broker
 #                    Returns whether the connection was successful or not (True/False)
-#   Mandatory Parameters:
-#       broker_host:str - The name/IP address of the MQTT broker host to be used
-#   Optional Parameters:
-#       broker_port:int - The network port for the broker host (default = 1883)
-#       broker_username:str - the username to log into the MQTT Broker (default = None)
-#       broker_password:str - the password to log into the MQTT Broker (default = None)
+#     Mandatory Parameters:
+#         broker_host:str - The name/IP address of the MQTT broker host to be used
+#     Optional Parameters:
+#         broker_port:int - The network port for the broker host (default = 1883)
+#         broker_username:str - the username to log into the MQTT Broker (default = None)
+#         broker_password:str - the password to log into the MQTT Broker (default = None)
+#
+#   mqtt_broker_disconnect() - disconnect from the MQTT broker
+#
+# Classes and functions used by the other library modules:
+#
+#   split_remote_item_identifier(item_identifier:str) - validates and decodes a remote item identifier
+#                       Returns [source_node:str, item_id:int] if valid or 'None' if invalid
+#
+#   subscribe_to_mqtt_messages - subscribe to a specific message type from a library object on a remote node.
+#     Mandatory Parameters:
+#         message_type:str - The 'signalling message type' to subscribe to 
+#         item_node:str - The remote node (on the signalling network) for the Item
+#         item_id:str - The Item ID to subscribe to (for the object on the remote node)
+#         callback:int - The function to call (with the message) on reciept of messages
+#     Optional Parameters:
+#         subtopics:bool - Whether to subscribe to all subtopics (for DCC commands) - default False
+#
+#   unsubscribe_from_message_type (message_type:str) - unsubscribe from a message type (all items on all nodes)
+#
+#   send_mqtt_message - Sends a message out to the MQTT Broker (for consumption by other nodes)
+#     Mandatory Parameters:
+#         message_type:str - The 'signalling message type' to send 
+#         item_id:int - The Item ID (to identify the sending item)
+#         data:dict - The data to send (a dict of key/value pairs)
+#     Optional Parameters:
+#         log_message:str - The log message to output when the message is sent - default None
+#         retain:bool - Whether the message should be 'retained' by the broker- default False
+#         subtopic:str - The optional subtopic to send the message - default None
+#
+#   mqtt_shutdown() - Perform an orderly disconnection and shutdown (on application exit)
 #
 #-----------------------------------------------------------------------------------------------
 
 from . import common
 import json
 import logging
 import time
@@ -67,41 +99,45 @@
 node_config["node_identifier"] = ""                     # Set by configure_mqtt_client (user defined)
 node_config["enhanced_debugging"] = False               # Set by configure_mqtt_client (user defined)
 node_config["act_on_shutdown"] = False                  # Set by configure_mqtt_client (user defined)
 node_config["publish_shutdown"] = False                 # Set by configure_mqtt_client (user defined)
 node_config["shutdown_callback"] = None                 # Set by configure_mqtt_client (user defined)
 node_config["local_ip_address"] = ""                    # Set by the 'on_connect' function
 node_config["connected_to_broker"] = False              # Set by the 'on_connect' / 'on_disconnect functions
-node_config["disconnect_initiated"] = False             # Used to coordinate disconnect between threads
+node_config["terminate_heartbeat_thread"] = False       # Used to coordinate disconnect between threads
 node_config["heartbeat_thread_terminated"] = True       # Used to coordinate disconnect between threads
 node_config["list_of_published_topics"] = []
 node_config["list_of_subscribed_topics"] = []
 node_config["callbacks"] = {}
 
 #-----------------------------------------------------------------------------------------------
 # The MQTT client is held globally:
 #-----------------------------------------------------------------------------------------------
 
 mqtt_client = None
 
-#------------------------------------------------------------------------------
+#-----------------------------------------------------------------------------------------------
 # Internal dict to hold details of the heartbeats received from other nodes
-# Dict contains entries comprising ["node"]: time_stamp_of_last_heartbeat
-# Also an external function used by the editor to get the list of connected nodes
-#------------------------------------------------------------------------------
+# The dict contains entries comprising {["node"]: time_stamp_of_last_heartbeat}
+#-----------------------------------------------------------------------------------------------
 
 heartbeats = {}
 
+#-----------------------------------------------------------------------------------------------
+# API function used by the editor to get the list of connected nodes and when they were last seen
+#-----------------------------------------------------------------------------------------------
+
 def get_node_status():
     return (heartbeats)
 
-#------------------------------------------------------------------------------
-# Common function used by the main thread to wait for responses in other threads.
-# When the specified function returns True, the function exits and returns True.
-#------------------------------------------------------------------------------
+#-----------------------------------------------------------------------------------------------
+# Common function used by the main thread to wait for responses in other threads. When the 
+# specified function returns True within the timeout period, the function exits and returns
+# True. If the end of the timeout period is reached beforehand then the function returns False 
+#-----------------------------------------------------------------------------------------------
 
 def wait_for_response(timeout:float,test_for_response_function):
     response_received = False
     timeout_start = time.time()
     while time.time() < timeout_start + timeout:
         response_received = test_for_response_function()
         if response_received: break
@@ -114,79 +150,79 @@
 #-----------------------------------------------------------------------------------------------
 
 def find_local_ip_address():
     test_socket = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
     try:
         test_socket.connect(('10.255.255.255', 1))
         ip_address = test_socket.getsockname()[0]
-        logging.debug("MQTT-Client: local IP address is "+ip_address)
+        logging.debug("MQTT-Client: Local IP address is "+ip_address)
     except:
         logging.error("MQTT-Client: Could not retrieve local IP address")
         ip_address = "<unknown>"
     finally:
         test_socket.close()
     return(ip_address)
 
-#------------------------------------------------------------------------------
-# Internal thread to send out heartbeat messages from the node when connected
-# and if application shutdown has not been initiated (otherwise no point)
-#------------------------------------------------------------------------------
+#-----------------------------------------------------------------------------------------------
+# Internal thread to send out heartbeat messages from the node when connected. The thread is
+# started by the 'mqtt_broker_connect' function and terminated by the 'mqtt_broker_disconnect'
+# function (by setting the 'terminate_heartbeat_thread' flag to True). The flag is then reset
+# to False on the next 'mqtt_broker_connect' (prior to starting a new Thread)
+#-----------------------------------------------------------------------------------------------
 
 def publish_heartbeat_message():
     if node_config["connected_to_broker"]:
         # Topic format for the heartbeat message: "<Message-Type>/<Network-ID>"
         topic = "heartbeat"+"/"+node_config["network_identifier"]
         # Payload for the heartbeat message is a dictionary comprising the source node
         heartbeat_message = {"node":node_config["node_identifier"],"ip":node_config["local_ip_address"]}
         payload = json.dumps(heartbeat_message)
         # The PAHO MQTT client may not be thread safe so publish the message from the main Tkinter thread
         try:
             mqtt_client.publish(topic,payload,retain=False,qos=1)
             if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Publishing: "+str(topic)+str(payload))
         except Exception as exception:
             logging.error("MQTT-Client: Error publishing Heartbeat message - "+str(exception))
-    else:
-        logging.warning("MQTT-Client: Cannot Publish Heartbeat message- disconnected from broker")
     return()
 
 def thread_to_send_heartbeat_messages():
     global node_config
     node_config["heartbeat_thread_terminated"] = False
-    while not node_config["disconnect_initiated"]:
+    while not node_config["terminate_heartbeat_thread"]:
         # The PAHO MQTT client may not be thread safe so publish the message from the main Tkinter thread
         common.execute_function_in_tkinter_thread(publish_heartbeat_message)
         # Wait before we send out the next heartbeat
         last_heartbeat_time = time.time()
-        while time.time() < last_heartbeat_time + node_config["heartbeat_frequency"]:
-            time.sleep(0.1)
-            if node_config["disconnect_initiated"]: break
+        while (time.time() < last_heartbeat_time + node_config["heartbeat_frequency"]
+                                 and not node_config["terminate_heartbeat_thread"]):
+            time.sleep(0.001)
     if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Heartbeat Thread - exiting")
     node_config["heartbeat_thread_terminated"] = True
     return()
 
 # ---------------------------------------------------------------------------------------------
 # Common Function to create a external item identifier from the Item_ID and the remote Node.
 # This identifier can then be used as the "key" to look up the Item in the associated dictionary
 # ---------------------------------------------------------------------------------------------
 
 def create_remote_item_identifier(item_id:int,node:str = None):
     return (node+"-"+str(item_id))
 
 # ---------------------------------------------------------------------------------------------
-# Common Function to extract the the item-ID (int) and Node-ID (str) from a compound identifier
-# and return them to the calling programme - Will return None if the conversion fails - hence
-# this function can also be used for validating remote item identifiers
+# API and Common Function to extract the the item-ID (int) and Node-ID (str) from a compound
+# identifierand return them to the calling programme - Will return None if the conversion
+# fails - hence this function can also be used for validating remote item identifiers
 # ---------------------------------------------------------------------------------------------
 
 def split_remote_item_identifier(item_identifier:str):
     return_value = None
-    if isinstance(item_identifier,str):
+    if isinstance(item_identifier,str) and "-" in item_identifier:
         node_id = item_identifier.rpartition("-")[0]
         item_id = item_identifier.rpartition("-")[2]
-        if node_id != "" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 99:
+        if node_id != "" and item_id.isdigit() and int(item_id) > 0 and int(item_id) < 999:
             return_value = [node_id,int(item_id)]                          
     return (return_value)
 
 #-----------------------------------------------------------------------------------------------
 # Internal call-back to process mqtt log messages (only called if enhanced_debugging is set)
 #-----------------------------------------------------------------------------------------------
 
@@ -197,40 +233,40 @@
 #-----------------------------------------------------------------------------------------------
 # Internal call-back to process broker disconnection events
 #-----------------------------------------------------------------------------------------------
 
 def on_disconnect(mqtt_client, userdata, rc):
     global node_config
     node_config["connected_to_broker"] = False
-    if rc==0: logging.info("MQTT-Client: Broker connection successfully terminated")
+    if rc==0: logging.info("MQTT-Client - Broker connection successfully terminated")
     else: logging.warning("MQTT-Client: Unexpected disconnection from broker")
     node_config["connected_to_broker"] = False
     return()
 
 #-----------------------------------------------------------------------------------------------
 # Internal call-back to process broker connection / re-connection events
 #-----------------------------------------------------------------------------------------------
 
 def on_connect(mqtt_client, userdata, flags, rc):
     global node_config
     if rc == 0:
         node_config["connected_to_broker"] = True
-        logging.info("MQTT-Client: Successfully connected to MQTT Broker")
+        logging.info("MQTT-Client - Successfully connected to MQTT Broker")
         # find the assigned IP address of the machine we are running on (for the heartbeat messages)
         node_config["local_ip_address"] = find_local_ip_address()
         # Pause just to ensure that MQTT is all fully up and running before we continue (and allow the client
         # to set up any subscriptions or publish any messages to the broker). We shouldn't need to do this but
         # I've experienced problems running on a Windows 10 platform if we don't include a short sleep
         time.sleep(0.1)
         # As we set up our broker connection with 'cleansession=true' a disconnection will have removed
         # all client connection information from the broker (including knowledge of the topics we have
         # subscribed to) - we therefore need to re-subscribe to all topics with this new connection
         # Note that this means we will immediately receive all retained messages for those topics
         if len(node_config["list_of_subscribed_topics"]) > 0:
-            logging.debug("MQTT-Client: Re-subscribing to all MQTT broker topics")
+            if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Re-subscribing to all MQTT broker topics")
             for topic in node_config["list_of_subscribed_topics"]:
                 if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Subscribing to: "+topic)
                 mqtt_client.subscribe(topic)
         # Re subscribe to all heartbeat and shutdown messages on the specified network
         # Topic format for these messages is: "<Message-Type>/<Network-ID>"
         heartbeat_topic = "heartbeat"+"/"+node_config["network_identifier"]
         if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Subscribing to: "+heartbeat_topic)
@@ -260,22 +296,19 @@
     except Exception as exception:
         logging.error("MQTT-Client: Exception unpacking json - "+str(exception))
     else:
         if node_config["enhanced_debugging"]:
             logging.debug("MQTT-Client: Received: "+str(msg.topic)+str(unpacked_json))
         # If it is a heartbeat message then we just update the list of connected nodes
         if msg.topic.startswith("heartbeat"):
-            time_stamp = int(time.time())
-            if node_config["enhanced_debugging"]:
-                logging.debug("MQTT-Client: Received Heartbeat message at time: "+str(time_stamp))
-            heartbeats[unpacked_json["node"]] = [unpacked_json["ip"],time_stamp]
+            heartbeats[unpacked_json["node"]] = [unpacked_json["ip"], int(time.time())]
         # If it is a shutdown message we only act on it if configured to do so
         elif msg.topic.startswith("shutdown"):
             if node_config["act_on_shutdown"] and node_config["shutdown_callback"] is not None:
-                logging.info("MQTT-Client: Shutdown message received - Triggering application shutdown")
+                logging.info("MQTT-Client - Shutdown message received - Triggering application shutdown")
                 node_config["shutdown_callback"]()
             elif node_config["enhanced_debugging"]:
                 logging.debug("MQTT-Client: Ignoring Shutdown message (not configured to shutdown)")
         # Make the callback (that was registered when the calling programme subscribed to the feed)
         # Note that we also need to test to see if the the topic is a partial match to cover the
         # case of subscribing to all subtopics for an specified item (with the '+' wildcard)
         elif msg.topic in node_config["callbacks"]:
@@ -292,43 +325,53 @@
 # root window (if not, then as a fallback we raise a callback in the current mqtt event thread)
 #--------------------------------------------------------------------------------------------------------
 
 def on_message(mqtt_client,obj,msg):
     global node_config
     # Only process the message if there is a payload - If there is no payload then the message is
     # a "null message" - sent to purge retained messages from the broker on application exit
-    # Also, only process the message if shutdown has not been initiated (otherwise no point)
-    if msg.payload and not node_config["disconnect_initiated"]:
-        common.execute_function_in_tkinter_thread (lambda:process_message(msg)) 
+    if msg.payload: common.execute_function_in_tkinter_thread (lambda:process_message(msg)) 
     return()
 
 #-----------------------------------------------------------------------------------------------
-# Public API Function to configure the MQTT client for this particular network and node
+# API Function to configure the MQTT client for this particular network and node
 #-----------------------------------------------------------------------------------------------
 
 def configure_mqtt_client (network_identifier:str,
                            node_identifier:str,
                            enhanced_debugging:bool = False,
                            publish_shutdown:bool = False,
                            act_on_shutdown:bool = False,
                            shutdown_callback=None):
-    global node_config, mqtt_client
-    logging.debug("MQTT-Client: Configuring MQTT Client for "+network_identifier+":"+node_identifier)
-    # Configure this module (to enable subscriptions to be configured even if not connected)
-    node_config["enhanced_debugging"] = enhanced_debugging
-    node_config["network_identifier"] = network_identifier
-    node_config["node_identifier"] = node_identifier
-    node_config["publish_shutdown"] = publish_shutdown
-    node_config["act_on_shutdown"] = act_on_shutdown
-    node_config["shutdown_callback"] = shutdown_callback
+    global node_config
+    # Validate the parameters we have been given
+    if not isinstance(network_identifier, str):
+        logging.error("MQTT-Client: configure_mqtt_client - Network Identifier must be specified as a string")
+    elif not isinstance(node_identifier, str):
+        logging.error("MQTT-Client: configure_mqtt_client - Node Identifier must be specified as a string")
+    elif not isinstance(enhanced_debugging, bool):
+        logging.error("MQTT-Client: configure_mqtt_client - Enhanced debugging flag must be specified as a boolean")
+    elif not isinstance(publish_shutdown, bool):
+        logging.error("MQTT-Client: configure_mqtt_client - Publish shutdown flag must be specified as a boolean")
+    elif not isinstance(act_on_shutdown, bool):
+        logging.error("MQTT-Client: configure_mqtt_client - Act on shutdown flag must be specified as a boolean")
+    else:
+        logging.debug("MQTT-Client: Configuring MQTT Client for "+network_identifier+":"+node_identifier)
+        # Configure this module (to enable subscriptions to be configured even if not connected)
+        node_config["enhanced_debugging"] = enhanced_debugging
+        node_config["network_identifier"] = network_identifier
+        node_config["node_identifier"] = node_identifier
+        node_config["publish_shutdown"] = publish_shutdown
+        node_config["act_on_shutdown"] = act_on_shutdown
+        node_config["shutdown_callback"] = shutdown_callback
     return()
 
 #-----------------------------------------------------------------------------------------------
-# Public API Function to connect and/or re-connect to an external MQTT broker instance
-# Returns True if connection was successful
+# API Function to connect and/or re-connect to an external MQTT broker instance
+# Returns True if connection was successful (otherwise False)
 #
 # A few notes about disconnecting and then re-connecting from the broker:
 #
 # The main application allows the user to disconnect/reconnect at will (a likely use case when
 # configuring the application for networking for the first time). From reading the PAHO MQTT
 # documentation, disconnect() should perform a clean disconnect from the broker, and my
 # assumption was therefore that you should be able to disconnect and all connect() with
@@ -352,91 +395,101 @@
 # so can't be sure - all I know is the code as-is seems to hang together relaibly
 #-----------------------------------------------------------------------------------------------
 
 def mqtt_broker_connect (broker_host:str,
                          broker_port:int = 1883,
                          broker_username:str = None,
                          broker_password:str = None):
-    global node_config
     global mqtt_client
     def connect_acknowledgement(): return (node_config["connected_to_broker"])
-    # Handle the case where we are already connected to the broker
-    if node_config["connected_to_broker"]: mqtt_broker_disconnect()
-    # Do some basic exception handling around opening the broker connection
-    logging.debug("MQTT-Client: Connecting to Broker "+broker_host+":"+str(broker_port))
-    # Create a new mqtt broker instance
-    if mqtt_client is None: mqtt_client = paho.mqtt.client.Client(clean_session=True)
-    mqtt_client.on_message = on_message    
-    mqtt_client.on_connect = on_connect    
-    mqtt_client.on_disconnect = on_disconnect    
-    mqtt_client.reconnect_delay_set(min_delay=1, max_delay=10)
-    mqtt_client.on_log = on_log
-    # Configure the basic username/password authentication (if required)
-    if broker_username is not None:
-        mqtt_client.username_pw_set(username=broker_username,password=broker_password)
-    try:
-        mqtt_client.connect_async(broker_host,port=broker_port,keepalive = 10)
-        mqtt_client.loop_start()
-    except Exception as exception:
-        logging.error("MQTT-Client: Error connecting to broker: "+str(exception))
+    # Validate the parameters we have been given
+    if not isinstance(broker_host, str):
+        logging.error("MQTT-Client: configure_mqtt_client - Broker Host must be specified as a string")
+    elif not isinstance(broker_port, int):
+        logging.error("MQTT-Client: configure_mqtt_client - Broker Port must be specified as an integer")
+    elif broker_username is not None and not isinstance(broker_username, str):
+        logging.error("MQTT-Client: configure_mqtt_client - Broker Username must be specified as None or a string")
+    elif broker_password is not None and not isinstance(broker_password, str):
+        logging.error("MQTT-Client: configure_mqtt_client - Broker Password must be specified as None or a string")
     else:
-        # Wait for connection acknowledgement (from on-connect callback function)
-        if wait_for_response(1.0, connect_acknowledgement):
-            if node_config["heartbeat_thread_terminated"]:
-                if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Starting heartbeat thread")
-                # Start the heartbeat thread
-                heartbeat_thread = threading.Thread (target=thread_to_send_heartbeat_messages)
-                heartbeat_thread.setDaemon(True)
-                heartbeat_thread.start()
+        # Handle the case where we are already connected to the broker
+        if node_config["connected_to_broker"]: mqtt_broker_disconnect()
+        # Do some basic exception handling around opening the broker connection
+        logging.debug("MQTT-Client: Connecting to Broker "+broker_host+":"+str(broker_port))
+        # Create a new mqtt broker instance
+        if mqtt_client is None: mqtt_client = paho.mqtt.client.Client(clean_session=True)
+        mqtt_client.on_message = on_message    
+        mqtt_client.on_connect = on_connect    
+        mqtt_client.on_disconnect = on_disconnect    
+        mqtt_client.reconnect_delay_set(min_delay=1, max_delay=10)
+        mqtt_client.on_log = on_log
+        # Configure the basic username/password authentication (if required)
+        if broker_username is not None:
+            mqtt_client.username_pw_set(username=broker_username,password=broker_password)
+        try:
+            mqtt_client.connect_async(broker_host,port=broker_port,keepalive = 10)
+            mqtt_client.loop_start()
+        except Exception as exception:
+            logging.error("MQTT-Client: Error connecting to broker: "+str(exception))
         else:
-            logging.error("MQTT-Client: Timeout connecting to broker")
+            # Wait for connection acknowledgement (from on-connect callback function)
+            if wait_for_response(1.0, connect_acknowledgement):
+                if node_config["heartbeat_thread_terminated"]:
+                    if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Starting heartbeat thread")
+                    # Reset the broker disconnect initiated flag
+                    node_config["terminate_heartbeat_thread"] = False
+                    # Start the heartbeat thread
+                    heartbeat_thread = threading.Thread (target=thread_to_send_heartbeat_messages)
+                    heartbeat_thread.setDaemon(True)
+                    heartbeat_thread.start()
+            else:
+                logging.error("MQTT-Client: Timeout connecting to broker")
     return(node_config["connected_to_broker"])
 
 #-----------------------------------------------------------------------------------------------
-# Public API Function to disconnect from an external MQTT broker instance
-# Returns True if disconnection was successful
+# API Function to disconnect from an external MQTT broker instance
+# Returns True if disconnection was successful (otherwise False)
 #-----------------------------------------------------------------------------------------------
 
 def mqtt_broker_disconnect():
     global node_config
     global mqtt_client
     def disconnect_acknowledgement(): return (not node_config["connected_to_broker"])
     def heartbeat_thread_terminated(): return (node_config["heartbeat_thread_terminated"])
     if node_config["connected_to_broker"]:
-        node_config["disconnect_initiated"] = True
+        # Set the flag to tell the heartbeat thread to terminate
+        node_config["terminate_heartbeat_thread"] = True
         logging.debug("MQTT-Client: Initiating broker disconnect")
         # Wait until we get confirmation the Heartbeat thread has terminated
-        logging.debug("MQTT-Client: Shutting down Heartbeat thread")
+        if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Shutting down Heartbeat thread")
         if not wait_for_response(0.5, heartbeat_thread_terminated):
             logging.error("MQTT-Client: Heartbeat thread failed to terminate")        
         # Clean out the message queues on the broker by publishing null messages (empty strings)
         # to each of the topics that we have sent messages to during the lifetime of the session
         logging.debug("MQTT-Client: Clearing message queues before disconnect")
         for topic in node_config["list_of_published_topics"]:
             if node_config["enhanced_debugging"]: logging.debug("MQTT-Client: Publishing: "+str(topic)+"-NULL")
-            mqtt_client.publish(topic,payload=None,retain=True,qos=1)
+            mqtt_client.publish(topic,payload=None,retain=False,qos=1)
         # Wait for everything to be published to the broker (with a sleep) and disconnect
         # I'd rather use a PAHO MQTT check and timeout but there doesn't seem to be one
         time.sleep(0.25)
         logging.debug("MQTT-Client: Disconnecting from broker")
         mqtt_client.disconnect()
         # Wait for disconnection acknowledgement (from on-disconnect callback function)
         if wait_for_response(1.0, disconnect_acknowledgement):
             mqtt_client.loop_stop()
             mqtt_client = None
         else:
             logging.error("MQTT-Client: Timeout disconnecting from broker")
-        # Reset the disconnect_initiated flag (ready for the next time)
-        node_config["disconnect_initiated"] = False
     return(not node_config["connected_to_broker"])
 
 #-----------------------------------------------------------------------------------------------
-# Externally called function to perform a gracefull shutdown of the MQTT networking
-# in terms of clearing out the publish topic queues (by sending null messages)
-# This function is intended to be called at application exit only
+# Externally called function to perform a graceful shutdown of MQTT networking on Application
+# Exit in terms of clearing out the publish topic queues (by sending null messages). If configured
+# The function also sends out a 'shutdown' message to other network nodes for them to act on.
 #-----------------------------------------------------------------------------------------------
 
 def mqtt_shutdown():
     global node_config
     if node_config["connected_to_broker"]:
         # Publish a shutdown command to other nodes if configured  to do so
         if node_config["publish_shutdown"]:
@@ -502,15 +555,15 @@
         # Add to the list of published topics so we can 'Clean up'
         # the MQTT broker by publishing empty messages on shutdown
         if topic not in node_config["list_of_published_topics"]:
             node_config["list_of_published_topics"].append(topic)
     return()
 
 #-----------------------------------------------------------------------------------------------
-# Non public  Function to unsubscribe to a particular message type from the broker. Called by
+# Externally called Function to unsubscribe to a particular message type from the broker. Called by
 # the higher-level 'reset_mqtt_configuration' functions for instruments, signals and sections to
 # clear out the relevant subscrptions in support of the editor - where a configuration change
 # to MQTT networking will trigger a reset of all subscriptions followed by a re-configuration
 #-----------------------------------------------------------------------------------------------
 
 def unsubscribe_from_message_type(message_type:str):
     global node_config
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/pi_sprog_interface.py` & `model_railway_signals-4.2.0/model_railway_signals/library/pi_sprog_interface.py`

 * *Files 3% similar despite different names*

```diff
@@ -2,54 +2,60 @@
 # This provides a basic CBUS interface fpor communicating with the Pi-SPROG3 via the Raspberry Pi 
 # UART. It does not provide a fully-functional interface for all DCC command and control functions,
 # just the minimum set needed to support the driving of signals and points via a selection of common
 # DCC Accessory decoders. Basic CV Programming is also supported - primarily as an aid to testing. 
 # For full decoder programming the recommendation is to use JRMI DecoderPro or similar.
 #--------------------------------------------------------------------------------------------------
 #
-# Public Types and Functions:
+# External API - the classes and functions (used by the Schematic Editor):
 # 
-# sprog_connect - Open and configures the serial comms port to the Pi Sprog and issues
-#                   a Request Command Station Status command to confirm connectivity
-#    Optional Parameters:
-#       port_name:str - The serial port to use for the Pi-SPROG 3 - Default="/dev/serial0",
-#       baud_rate:int - The baud rate to use for the serial port - Default = 460800,
-#       dcc_debug_mode:bool - Set to 'True' to log the CBUS commands being sent to the Pi-SPROG
-#         returns True - if communications with the Pi-Sprog have been established (otherwise False)
+#   sprog_connect() - Opens and configures the serial comms port to the Pi Sprog and issues
+#                     a 'Request Command Station Status' command to confirm connectivity.
+#                     Returns True - if communication has been established (otherwise False)
+#      Optional Parameters:
+#         port_name:str - The serial port to use for the Pi-SPROG 3 - Default="/dev/serial0",
+#         baud_rate:int - The baud rate to use for the serial port - Default = 460800,
+#         dcc_debug_mode:bool - Set to 'True' for enhanced debug logging
 #
-# service_mode_read_cv - Queries a CV in direct bit mode and waits for response
+#   sprog_disconnect() - Performs an ordely shutdown of communications and closes the comms port 
+#                     Returns True - if the communications port has been closed (otherwise False)
+#
+#   service_mode_read_cv - Queries a CV in direct bit mode and waits for response
 #                       (events are only sent if the track power is currently switched on)
 #                       (request times out after 5 secs if the request was unsuccessful)
-#    Mandatory Parameters:
-#       cv:int - The CV (Configuration Variable) to be read
-#          returns the current value of the CV if a response is received
-#          returns None - if the request fails or the request times out
+#      Mandatory Parameters:
+#         cv:int - The CV (Configuration Variable) to be read
+#            returns the current value of the CV if a response is received
+#            returns None - if the request fails or the request times out
 # 
-# service_mode_write_cv - programmes a CV in direct bit mode and waits for response
+#   service_mode_write_cv - programmes a CV in direct bit mode and waits for response
 #                       (events are only sent if the track power is currently switched on)
 #                       (request times out after 5 secs if the request was unsuccessful)
-#    Mandatory Parameters:
-#       cv:int - The CV (Configuration Variable) to be programmed
-#       value:int - The value to programme
-#          returns True - if we have acknowledgement that the CV has been programmed
-#          returns False - if the CV programming fails or the request times out
+#      Mandatory Parameters:
+#         cv:int - The CV (Configuration Variable) to be programmed
+#         value:int - The value to programme
+#            returns True - if we have acknowledgement that the CV has been programmed
+#            returns False - if the CV programming fails or the request times out
 # 
-# request_dcc_power_on - sends request to switch on the power and waits for acknowledgement
+#   request_dcc_power_on - sends request to switch on the power and waits for acknowledgement
 #                  (requests only sent if the Comms Port has been successfully opened/configured)
-#          returns True - if we have acknowledgement that Track Power has been turned on
-#          returns False - if the request times out
+#            returns True - if we have acknowledgement that Track Power has been turned on
+#            returns False - if the request times out
 # 
-# request_dcc_power_off - sends request to switch off the power and waits for acknowledgement
+#   request_dcc_power_off - sends request to switch off the power and waits for acknowledgement
 #                  (requests only sent if the Comms Port has been successfully opened/configured)
 #          returns True - if we have  acknowledgement that Track Power has been turned off
 #          returns False - if the request times out
-# 
-# Functions are also included in the Code base for sending direct DCC accessory Packets
-# and Extended DCC Accessory Packets. However, I have as yet been unable to get these
-# Working with the Signallist SC1 Decoder - so these are unproven
+#
+# Classes and functions used by the other library modules:
+#
+#   send_accessory_short_event(address:int, active:bool) - sends out a CBUS command to the
+#          Pi-Sprog to be translated into a DCC command for transmission on the DCC Bus
+#
+#   sprog_shutdown() - performs an ordely DCC power off and disconnect
 #
 # --------------------------------------------------------------------------------------------
 #
 # Note that the Pi-SPROG-3 needs the UART interfaces to be swapped so that
 # serial0 is routed to the GPIO connector instead of being used for BlueTooth.
 # The configuration procedure is documented below
 #
@@ -143,20 +149,20 @@
         if not output_buffer.empty():
             command_string = output_buffer.get()
             # Write the CBUS Message to the serial port (as long as the port is open)
             if serial_port.is_open:
                 try:
                     serial_port.write(bytes(command_string,"Ascii"))
                     # Print the Transmitted message (if the appropriate debug level is set)
-                    if debug: logging.debug ("Pi-SPROG: Tx thread - Sent CBUS Message: "+command_string)
+                    if debug: logging.debug("Pi-SPROG: Tx thread - Sent CBUS Message: "+command_string)
                 except Exception as exception:
-                    logging.error("Pi-SPROG: Tx thread -Error sending CBUS Message: "+command_string+" - "+str(exception))
+                    logging.error("Pi-SPROG: Tx thread - Error sending CBUS Message: "+command_string+" - "+str(exception))
                     time.sleep(1.0)
             else:
-                if debug: logging.debug ("Pi-SPROG: Tx thread - Not sending CBUS Message: "+command_string+" - port is closed")
+                if debug: logging.debug("Pi-SPROG: Tx thread - Not sending CBUS Message: "+command_string+" - port is closed")
         # Sleep (transmit_delay) before sending the next CBUS message (to throttle the Tx rate). 
         # This also ensures the thread doesn't hog all the CPU time
         time.sleep(transmit_delay)
     if debug: logging.debug("Pi-SPROG: Tx Thread - exiting")
     tx_thread_terminated = True
     return()
     
@@ -200,16 +206,14 @@
                 # Note that there is exception handling around the decoding of the message to
                 # deal with any "edge-case" exceptions we might get with corrupted messages
                 try:
                     # Extract the OpCode and Process the message (only a subset of messages is supported)
                     op_code = int((chr(byte_string[7]) + chr(byte_string[8])),16)
                     # Command Station Status Report (0xE3 = 227 decimal)
                     if op_code == 227: process_stat_message(byte_string)
-                    # Response to Query Node (0xB6 = 182 decimal)
-                    elif op_code == 182: process_pnn_message(byte_string)
                     # Response to confirm Track Power is OFF (0x04 = 4 decimal)
                     elif op_code == 4: process_tof_message(byte_string)
                     # Response to confirm Track Power is ON (0x05 = 5 decimal)
                     elif op_code == 5: process_ton_message(byte_string)
                     # Report CV value in service programming mode (0x85 = 133 decimal)
                     elif op_code == 133: process_pcvs_message(byte_string)
                     # Report Service Mode Status response (0x4C = 76 decimal) 
@@ -249,38 +253,14 @@
         logging.debug ("    Track Error   :"+str((flags & 0x02)==0x02))
         logging.debug ("    H/W Error     :"+str((flags & 0x01)==0x01)+"\r")
     # Respond to the trigger function (waiting in the main thread for a response)
     rstat_response = True
     return()
 
 #------------------------------------------------------------------------------
-# Internal function to process a Query Node response (PNN message)
-# Sets the qnn_response flag - to signal back into the main thread
-#------------------------------------------------------------------------------
-
-def process_pnn_message(byte_string):
-    global qnn_response
-    # Print out the status report (if the appropriate debug level is set)
-    if debug:
-        logging.debug ("Pi-SPROG: Rx thread - Received PNN (Response to Query Node):")
-        logging.debug ("    Node Id   :"+str(int(chr(byte_string[9]) + chr(byte_string[10])
-                                              + chr(byte_string[11]) + chr(byte_string[12]),16)))
-        logging.debug ("    Mfctre ID :"+str(int(chr(byte_string[13]) + chr(byte_string[14]),16)))
-        logging.debug ("    Module ID :"+str(int(chr(byte_string[15]) + chr(byte_string[16]),16)))
-        # Get the Flags - we only need the last hex character (to get the 4 bits)
-        flags = int(chr(byte_string[18]),16)
-        logging.debug ("    Bldr Comp :"+str((flags & 0x08)==0x08))
-        logging.debug ("    FLiM Mode :"+str((flags & 0x04)==0x04))
-        logging.debug ("    Prod Node :"+str((flags & 0x02)==0x02))
-        logging.debug ("    Cons Node :"+str((flags & 0x01)==0x01)+"\r")
-    # Respond to the trigger function (waiting in the main thread for a response)
-    qnn_response = True
-    return()
-
-#------------------------------------------------------------------------------
 # Internal function to process a Track power responses (TOF/TON messages)
 # Sets the appropriate acknowledge flag - to signal back into the main thread
 #------------------------------------------------------------------------------
 
 def process_tof_message(byte_string):
     global tof_response
     if debug: logging.debug ("Pi-SPROG: Rx thread - Received TOF (Track OFF) acknowledgement")
@@ -394,66 +374,73 @@
 #------------------------------------------------------------------------------
 
 def sprog_connect (port_name:str="/dev/serial0",
                    baud_rate:int = 115200,
                    dcc_debug_mode:bool = False):
     global debug
     pi_sprog_connected = False
-    # If the serial port is already open then close it before re-configuring
-    if serial_port.is_open: sprog_disconnect()
-    # Assign the global "enhanced debugging" flag
-    debug = dcc_debug_mode
-    # Configure the port - note the zero timeout so the Rx thread does not block
-    # The Rx thread combines the data read from the port into 'complete' CBUS messages
-    serial_port.port = port_name
-    serial_port.baudrate = baud_rate
-    serial_port.bytesize = 8
-    serial_port.timeout = 0  # Non blocking - returns immediately
-    serial_port.parity = serial.PARITY_NONE
-    serial_port.stopbits = serial.STOPBITS_ONE
-    # Try to open the serial port (catching any exceptions)
-    logging.debug ("Pi-SPROG: Opening Serial Port: "+port_name+" - baud: "+str(baud_rate))
-    try:
-        serial_port.open()
-    except Exception as exception:
-        # If the attempt to open the serial port fails then we catch the exception (and return)
-        logging.error("Pi-SPROG: Error opening Serial Port - "+str(exception))
+    if not isinstance(port_name, str):
+        logging.error("Pi-SPROG: sprog_connect - Port name must be specified as a string")
+    elif not isinstance(baud_rate, int):
+        logging.error("Pi-SPROG: sprog_connect - Baud rate must be specified as an integer")
+    elif not isinstance(dcc_debug_mode, bool):
+        logging.error("Pi-SPROG: sprog_connect - Enhanced debug flag must be specified as a boolean")
     else:
-        # The port has been successfully opened. We now start the Rx and Tx threads.
-        # These are shut down in a controlled manner by the sprog_disconnect function but
-        # if all else fails we set to Daemon so they will terminate with the main programme
-        if rx_thread_terminated:
-            if debug: logging.debug ("Pi-SPROG: Starting Rx Thread")
-            rx_thread = threading.Thread (target=thread_to_read_received_data)
-            rx_thread.setDaemon(True)
-            rx_thread.start()
-        if tx_thread_terminated:
-            if debug: logging.debug ("Pi-SPROG: Starting Tx Thread")
-            tx_thread = threading.Thread (target=thread_to_send_buffered_data)
-            tx_thread.setDaemon(True)
-            tx_thread.start()
-        # Short delay to allow the threads to fully start up before we continue
-        time.sleep(0.1)
-        # To verify full connectivity, we query the command station status
-        # query_command_station_status will return TRUE if a response was received
-        pi_sprog_connected = query_command_station_status()
-        if pi_sprog_connected: logging.info("Pi-SPROG: Successfully connected to Pi-SPROG")
+        # If the serial port is already open then close it before re-configuring
+        if serial_port.is_open: sprog_disconnect()
+        # Assign the global "enhanced debugging" flag
+        debug = dcc_debug_mode
+        # Configure the port - note the zero timeout so the Rx thread does not block
+        # The Rx thread combines the data read from the port into 'complete' CBUS messages
+        serial_port.port = port_name
+        serial_port.baudrate = baud_rate
+        serial_port.bytesize = 8
+        serial_port.timeout = 0  # Non blocking - returns immediately
+        serial_port.parity = serial.PARITY_NONE
+        serial_port.stopbits = serial.STOPBITS_ONE
+        # Try to open the serial port (catching any exceptions)
+        logging.debug("Pi-SPROG: Opening Serial Port: "+port_name+" - baud: "+str(baud_rate))
+        try:
+            serial_port.open()
+        except Exception as exception:
+            # If the attempt to open the serial port fails then we catch the exception (and return)
+            logging.error("Pi-SPROG: Error opening Serial Port - "+str(exception))
+        else:
+            # The port has been successfully opened. We now start the Rx and Tx threads.
+            # These are shut down in a controlled manner by the sprog_disconnect function but
+            # if all else fails we set to Daemon so they will terminate with the main programme
+            if rx_thread_terminated:
+                if debug: logging.debug("Pi-SPROG: Starting Rx Thread")
+                rx_thread = threading.Thread (target=thread_to_read_received_data)
+                rx_thread.setDaemon(True)
+                rx_thread.start()
+            if tx_thread_terminated:
+                if debug: logging.debug("Pi-SPROG: Starting Tx Thread")
+                tx_thread = threading.Thread (target=thread_to_send_buffered_data)
+                tx_thread.setDaemon(True)
+                tx_thread.start()
+            # Short delay to allow the threads to fully start up before we continue
+            time.sleep(0.1)
+            # To verify full connectivity, we query the command station status
+            # query_command_station_status will return TRUE if a response was received
+            pi_sprog_connected = query_command_station_status()
+            if pi_sprog_connected: logging.info("Pi-SPROG: Successfully connected to Pi-SPROG")
     return(pi_sprog_connected)
 
 #------------------------------------------------------------------------------
 # Externally Called Function to disconnect from the PI-SPROG (close the port)
 # so that the port is free for other applications to use if required.
 #------------------------------------------------------------------------------
 
 def sprog_disconnect():
     global port_close_initiated
     def response_received(): return(rx_thread_terminated and tx_thread_terminated)
     pi_sprog_disconnected = False
     if serial_port.is_open:
-        if debug: logging.debug ("Pi-SPROG: Shutting down Tx and Rx Threads")
+        if debug: logging.debug("Pi-SPROG: Shutting down Tx and Rx Threads")
         port_close_initiated = True
         # Wait until we get confirmation the Threads have been terminated
         wait_for_response(0.5, response_received)
         if not tx_thread_terminated: logging.error("Pi-SPROG: Tx thread failed to terminate")
         if not rx_thread_terminated: logging.error("Pi-SPROG: Rx thread failed to terminate") 
         # Try to close the serial port (with exception handling)
         if debug: logging.debug ("Pi-SPROG: Closing Serial Port")
@@ -493,54 +480,27 @@
     rstat_response = False
     # Only bother sending commands to the Pi Sprog if the serial port has been opened
     if serial_port.is_open:
         # Retry sending the command (3 attempts) if we don't get a response
         attempts = 0
         while attempts < 3:
             # Query the status of the command station to confirm connectivity (0x0C = 12 decimal)
-            logging.debug ("Pi-SPROG: Sending RSTAT command (Request Command Station Status)")
-            send_cbus_command (mj_pri=2, min_pri=2, op_code=12)
-            timeout_start = time.time()
+            logging.debug("Pi-SPROG: Sending RSTAT command (Request Command Station Status)")
+            send_cbus_command(mj_pri=2, min_pri=2, op_code=12)
             # Wait for the response (with a 1 second timeout)
             if wait_for_response(1.0, response_received): break
             attempts = attempts + 1
             logging.warning("Pi-SPROG: Request Command Station Status timeout - retrying")
         if rstat_response: logging.debug ("Pi-SPROG: Received STAT (Command Station Status Report)")
         else: logging.error("Pi-SPROG: Request Command Station Status failed")
     else:
-        logging.warning("Pi-SPROG: Cannot Request Command Station Status - port is closed")
+        logging.warning("Pi-SPROG: Cannot Request Command Station Status - SPROG is disconnected")
     return(rstat_response)
 
 #------------------------------------------------------------------------------
-# Function to send a QNN (Query Node Number) command (response will be logged)
-# Returns True if successful and False if no response is received (timeout)
-#------------------------------------------------------------------------------
-
-def query_node_number():
-    global qnn_response
-    def response_received(): return(qnn_response)
-    qnn_response = False
-    # Only bother sending commands to the Pi Sprog if the serial port has been opened
-    if serial_port.is_open:
-        # Retry sending the command (3 attempts) if we don't get a response
-        attempts = 0
-        while attempts < 3:
-            logging.debug ("Pi-SPROG: Sending QNN command (Query Node Number)")
-            send_cbus_command (mj_pri=2, min_pri=3, op_code=13)
-            # Wait for the response (with a 1 second timeout)
-            if wait_for_response(1.0, response_received): break
-            attempts = attempts + 1
-            logging.warning("Pi-SPROG: Query Node Number timeout - retrying")
-        if qnn_response: logging.debug ("Pi-SPROG: Received PNN (Response to Query Node)")
-        else: logging.error("Pi-SPROG: Query Node Number failed")
-    else:
-        logging.warning("Pi-SPROG: Cannot Query Node Number - port is closed")
-    return(qnn_response)
-
-#------------------------------------------------------------------------------
 # Externally Called Function to turn on the track power
 #------------------------------------------------------------------------------
 
 def request_dcc_power_on():
     global ton_response
     def response_received(): return(ton_response)
     ton_response = False
@@ -559,15 +519,15 @@
         if ton_response:
             logging.debug("Pi-SPROG: Received TON (Track ON) acknowledgement")
             logging.info("Pi-SPROG: Track power has been turned ON")
         else: logging.error("Pi-SPROG: Request to turn on Track Power failed")
         # Give things time to get established before sending out any commands
         time.sleep (0.1)
     else:
-        logging.warning("Pi-SPROG: Cannot Request Track Power On - port is closed")
+        logging.warning("Pi-SPROG: Cannot Request Track Power On - SPROG is disconnected")
     return(ton_response)
 
 #------------------------------------------------------------------------------
 # Externally Called Function to turn off the track power
 #------------------------------------------------------------------------------
 
 def request_dcc_power_off():
@@ -576,152 +536,163 @@
     tof_response = False
     # Only bother sending commands to the Pi Sprog if the serial port has been opened
     if serial_port.is_open:
         # Retry sending the command (3 attempts) if we don't get a response
         attempts = 0
         while attempts < 3:
             # Send the command to switch on the Track Supply (to the DCC Bus)
-            logging.debug ("Pi-SPROG: Sending RTOF command (Request Track Power Off)")
-            send_cbus_command (mj_pri=2, min_pri=2, op_code=8)
+            logging.debug("Pi-SPROG: Sending RTOF command (Request Track Power Off)")
+            send_cbus_command(mj_pri=2, min_pri=2, op_code=8)
             # Wait for the response (with a 1 second timeout)
             if wait_for_response(1.0, response_received): break
             attempts = attempts + 1
             logging.warning("Pi-SPROG: Request Track Power Off timeout - retrying")
         if tof_response:
             logging.debug("Pi-SPROG: Received TOF (Track OFF) acknowledgement")
             logging.info("Pi-SPROG: Track power has been turned OFF")
         else: logging.error("Pi-SPROG: Request to turn off Track Power failed")
     else:
-        logging.warning("Pi-SPROG: Cannot Request Track Power Off - port is closed")
+        logging.warning("Pi-SPROG: Cannot Request Track Power Off - SPROG is disconnected")
     return(tof_response)
 
 #------------------------------------------------------------------------------
 # Externally Called Function to send an Accessory Short CBUS On/Off Event
 #------------------------------------------------------------------------------
 
-def send_accessory_short_event (address:int, active:bool):
-    if (address < 1 or address > 2047):
-        logging.error ("Pi-SPROG: Invalid DCC short event accessory address: "+ str(address))
+def send_accessory_short_event(address:int, active:bool):
+    if not isinstance(address, int):
+        logging.error("Pi-SPROG: send_accessory_short_event - Address must be specified as an integer")
+    elif not isinstance(active, bool):
+        logging.error("Pi-SPROG: send_accessory_short_event - State must be specified as a boolean")
+    elif (address < 1 or address > 2047):
+        logging.error("Pi-SPROG: send_accessory_short_event - Invalid address specified: "+ str(address))
     # Only bother sending commands to the Pi Sprog if the serial port has been opened
     elif serial_port.is_open:
         # Encode the message into the required number of bytes
         byte1 = (pi_cbus_node & 0xff00) >> 8
         byte2 = (pi_cbus_node & 0x00ff)
         byte3 = (address & 0xff00) >> 8
         byte4 = (address & 0x00ff)
         #  Send a ASON or ASOF Command (Accessoy Short On or Accessory Short Off)
         if active:
-            logging.debug ("Pi-SPROG: Sending DCC command ASON (Accessory Short ON) to DCC address: "+ str(address))
-            send_cbus_command (2, 3, 152, byte1, byte2, byte3, byte4)
+            logging.debug("Pi-SPROG: Sending DCC command ASON (Accessory Short ON) to DCC address: "+ str(address))
+            send_cbus_command(2, 3, 152, byte1, byte2, byte3, byte4)
         else:
-            logging.debug ("Pi-SPROG: Sending DCC command ASOF (Accessory Short OFF) to DCC address: "+ str(address))
-            send_cbus_command (2, 3, 153, byte1, byte2, byte3, byte4)
+            logging.debug("Pi-SPROG: Sending DCC command ASOF (Accessory Short OFF) to DCC address: "+ str(address))
+            send_cbus_command(2, 3, 153, byte1, byte2, byte3, byte4)
     elif debug:
         # Note we only log the discard messages in enhanced debugging mode (to reduce the spam in the logs)
-        if active: logging.debug ("Pi-SPROG: Discarding ASON command to DCC address: "+ str(address)+" - port is closed")
-        else: logging.debug ("Pi-SPROG: Discarding ASOF command to DCC address: "+ str(address)+" - port is closed")
+        if active: log_string ="Discarding ASON command to DCC address: "+ str(address)
+        else: log_string = "Discarding ASOF command to DCC address: "+ str(address)
+        logging.debug("Pi-SPROG: "+log_string+" - SPROG is disconnected or DCC power is OFF")
     return ()
 
 #------------------------------------------------------------------------------
 # Externally Called Function to read a single CV (used for testing)
 # Returns (Value) if successfull or (None) if the request timed out
 #------------------------------------------------------------------------------
 
-def service_mode_read_cv (cv:int):
+def service_mode_read_cv(cv:int):
     global service_mode_cv_value
     global service_mode_cv_address
     global service_mode_session_id
     global session_id
     def response_received(): return(service_mode_cv_value is not None)
     service_mode_cv_value = None
     service_mode_cv_address = None
-    if (cv < 0 or cv > 1023):
-        logging.error("Pi-SPROG: QCVS (Read CV in Service Mode) - Invalid CV "+str(cv))
+    if not isinstance(cv, int):
+        logging.error("Pi-SPROG: service_mode_read_cv - CV to read must be specified as an integer")
+    elif (cv < 0 or cv > 1023):
+        logging.error("Pi-SPROG: service_mode_read_cv - Invalid CV specified: "+str(cv))
     # Only bother sending commands to the Pi Sprog if the serial port has been opened
     elif serial_port.is_open:
         # Encode the message into the required number of bytes
         byte1 = session_id             # Session ID
         byte2 = (cv & 0xff00) >> 8     # High CV
         byte3 = (cv & 0x00ff)          # Low CV
         byte4 = 1                      # Mode (1 = Direct bit)
         # Sending the QCVS command (without any re-tries)
         logging.debug ("Pi-SPROG: Sending QCVS (Read CV in Service Mode) - Session:"+str(byte1)+", CV:"+str(cv))
         # Command to send is 0x84 (=132 Decimal) - Read CV in Service Mode (QCVS) 
-        send_cbus_command (2, 2, 132, byte1, byte2, byte3, byte4)
+        send_cbus_command(2, 2, 132, byte1, byte2, byte3, byte4)
         # Wait for the response (with a 5 second timeout - this takes a long time)
         if wait_for_response(5.0, response_received):
-            logging.debug ("Pi-SPROG: Received PCVS (Report CV) - Session:"+ str(service_mode_session_id)+
+            logging.debug("Pi-SPROG: Received PCVS (Report CV) - Session:"+ str(service_mode_session_id)+
                            ", CV:"+str(service_mode_cv_address)+", Value:"+str(service_mode_cv_value))
             if service_mode_cv_address != cv:
                 logging.error("Pi-SPROG: Failed to read CV "+str(cv)+" - Responded with incorrect CV address")
                 service_mode_cv_value = None
             elif service_mode_session_id != session_id:
-                logging.error("Pi-SPROG: Failed to read CV "+str(cv)+" - Responded with incorrect session id")
+                logging.error("Pi-SPROG: Failed to read CV "+str(cv)+" - Responded with incorrect Session ID")
                 service_mode_cv_value = None
             else:
-                logging.info ("Pi-SPROG: Successfully read CV"+str(service_mode_cv_address)+
+                logging.info("Pi-SPROG: Successfully read CV"+str(service_mode_cv_address)+
                               " - value:"+str(service_mode_cv_value))
         else:
             logging.error("Pi-SPROG: Failed to read CV "+str(cv)+" - Timeout awaiting response")
         # Increment the 'one up' session Id for the next time
         session_id = session_id + 1
         if session_id > 255: session_id = 1
     else:
-        logging.warning("Pi-SPROG: Failed to read CV "+str(cv)+" - Port is closed")
+        logging.warning("Pi-SPROG: Failed to read CV "+str(cv)+" - SPROG is disconnected or DCC power is off")
     return (service_mode_cv_value)
 
 #------------------------------------------------------------------------------
 # Externally Called Function to programme a single CV (used for testing)
 # Returns True if successful and False if no response is received (timeout)
 #------------------------------------------------------------------------------
 
-def service_mode_write_cv (cv:int, value:int):
+def service_mode_write_cv(cv:int, value:int):
     global service_mode_response
     global service_mode_session_id
     global session_id
     def response_received(): return(service_mode_response is not None)
     service_mode_response = None
     service_mode_session_id = None
-    if (cv < 0 or cv > 1023):
-        logging.error("Pi-SPROG: WCVS (Write CV in Service Mode) - Invalid CV "+str(cv))
+    if not isinstance(cv, int):
+        logging.error("Pi-SPROG: service_mode_write_cv - CV to write must be specified as an integer")
+    elif not isinstance(value, int):
+        logging.error("Pi-SPROG: service_mode_write_cv - Value to write must be specified as an integer")
+    elif (cv < 0 or cv > 1023):
+        logging.error("Pi-SPROG: service_mode_write_cv - Invalid CV specified: "+str(cv))
     elif (value < 0 or value > 255):
-        logging.error("Pi-SPROG: WCVS (Write CV in Service Mode) - Invalid value for CV"+str(value))
+        logging.error("Pi-SPROG: service_mode_write_cv - CV "+str(cv)+" - Invalid value specified: "+str(value))
     # Only try to send the command if the PI-SPROG-3 has initialised correctly
     elif serial_port.is_open:
         # Encode the message into the required number of bytes
         byte1 = session_id             # Session ID
         byte2 = (cv & 0xff00) >> 8     # High CV
         byte3 = (cv & 0x00ff)          # Low CV
         byte4 = 1                      # Mode (1 = Direct bit)
         byte5 = value                  # value to write
         # Sending the WCVS command (without any re-tries)
-        logging.debug ("Pi-SPROG: Sending WCVS (Write CV in Service Mode) command - Session:"
+        logging.debug("Pi-SPROG: Sending WCVS (Write CV in Service Mode) command - Session:"
                          +str(byte1)+", CV:"+str(cv)+", Value:"+str(value))
         # Command to send is 0xA2 (=162 Decimal) - Write CV in Service mode (WCVS)
-        send_cbus_command (2, 2, 162, byte1, byte2, byte3, byte4, byte5)
+        send_cbus_command(2, 2, 162, byte1, byte2, byte3, byte4, byte5)
         # Wait for the response (with a 5 second timeout)
         if wait_for_response(5.0, response_received):
-            logging.debug ("Pi-SPROG: Received SSTAT (Service Mode Status) - Session:"
+            logging.debug("Pi-SPROG: Received SSTAT (Service Mode Status) - Session:"
                     +str(service_mode_session_id)+", Status:"+str(service_mode_response))
             if service_mode_session_id != session_id:
-                logging.error("Pi-SPROG: Failed to write CV "+str(cv)+" - Responded with incorrect session id")
+                logging.error("Pi-SPROG: Failed to write CV "+str(cv)+" - Responded with incorrect Session ID")
                 service_mode_response = None
             elif service_mode_response != 3:
                 logging.error("Pi-SPROG: Failed to write CV "+str(cv)+" - Error Code: "+str(service_mode_response))
                 service_mode_response = None
             else:
-                logging.info ("Pi-SPROG: Successfully programmed CV"+str(cv)+" with value:"+str(value))
+                logging.info("Pi-SPROG: Successfully programmed CV"+str(cv)+" with value:"+str(value))
         else:
             logging.error("Pi-SPROG: Failed to write CV "+str(cv)+" - Timeout awaiting response")
         # Increment the 'one up' session Id for the next time
         session_id = session_id + 1
         if session_id > 255: session_id = 1
     else:
-        logging.warning("Pi-SPROG: Failed to write CV "+str(cv)+" - Port is closed")
-    return (service_mode_response == 3)
+        logging.warning("Pi-SPROG: Failed to write CV "+str(cv)+" - SPROG is disconnected or DCC power is off")
+    return(service_mode_response == 3)
 
 #------------------------------------------------------------------------------
 # Function to encode a standard 3-byte DCC Accessory Decoder Packet into 3 bytes
 # for transmission to the PI-SPROG as a RDCC3 Command (Request 3-byte DCC Packet).
 # Calls the 'send_cbus_command' function to actually encode and send the command
 # The DCC Packet is sent <repeat> times - but not refreshed on a regular basis
 # Acknowledgement to Java NMRA implementation (which this function follows closely)
@@ -818,10 +789,63 @@
 #         byte4 = (byte1 ^ byte2 ^ byte3)
 #         #  Send a RDCC4 Command (Request 4-Byte DCC Packet) via the CBUS
 #         logging.debug ("PI >> SPROG - RDCC4 (Send 4 Byte DCC Packet) : Address:"
 #                         + str(address) + "  Aspect:" + str(aspect))
 #         send_cbus_command (2, 2, 160, repeat, byte1, byte2, byte3, byte4)
 #     return()
 #
+#------------------------------------------------------------------------------
+# Function to send a QNN (Query Node Number) command (response will be logged)
+# Returns True if successful and False if no response is received (timeout)
+#------------------------------------------------------------------------------
+# 
+# def query_node_number():
+#     global qnn_response
+#     def response_received(): return(qnn_response)
+#     qnn_response = False
+#     # Only bother sending commands to the Pi Sprog if the serial port has been opened
+#     if serial_port.is_open:
+#         # Retry sending the command (3 attempts) if we don't get a response
+#         attempts = 0
+#         while attempts < 3:
+#             logging.debug ("Pi-SPROG: Sending QNN command (Query Node Number)")
+#             send_cbus_command (mj_pri=2, min_pri=3, op_code=13)
+#             # Wait for the response (with a 1 second timeout)
+#             if wait_for_response(1.0, response_received): break
+#             attempts = attempts + 1
+#             logging.warning("Pi-SPROG: Query Node Number timeout - retrying")
+#         if qnn_response: logging.debug ("Pi-SPROG: Received PNN (Response to Query Node)")
+#         else: logging.error("Pi-SPROG: Query Node Number failed")
+#     else:
+#         logging.warning("Pi-SPROG: Cannot Query Node Number - port is closed")
+#     return(qnn_response)
+#
+#------------------------------------------------------------------------------
+# Internal function to process a Query Node response (PNN message)
+# Sets the qnn_response flag - to signal back into the main thread
+# Response to Query Node op code is (0xB6 = 182 decimal) so the following
+# line would need to be added into the receive data thread:
+#   elif op_code == 182: process_pnn_message(byte_string)
+#------------------------------------------------------------------------------
+# 
+# def process_pnn_message(byte_string):
+#     global qnn_response
+#     # Print out the status report (if the appropriate debug level is set)
+#     if debug:
+#         logging.debug ("Pi-SPROG: Rx thread - Received PNN (Response to Query Node):")
+#         logging.debug ("    Node Id   :"+str(int(chr(byte_string[9]) + chr(byte_string[10])
+#                                               + chr(byte_string[11]) + chr(byte_string[12]),16)))
+#         logging.debug ("    Mfctre ID :"+str(int(chr(byte_string[13]) + chr(byte_string[14]),16)))
+#         logging.debug ("    Module ID :"+str(int(chr(byte_string[15]) + chr(byte_string[16]),16)))
+#         # Get the Flags - we only need the last hex character (to get the 4 bits)
+#         flags = int(chr(byte_string[18]),16)
+#         logging.debug ("    Bldr Comp :"+str((flags & 0x08)==0x08))
+#         logging.debug ("    FLiM Mode :"+str((flags & 0x04)==0x04))
+#         logging.debug ("    Prod Node :"+str((flags & 0x02)==0x02))
+#         logging.debug ("    Cons Node :"+str((flags & 0x01)==0x01)+"\r")
+#     # Respond to the trigger function (waiting in the main thread for a response)
+#     qnn_response = True
+#     return()
+#
 ######################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/points.py` & `model_railway_signals-4.2.0/model_railway_signals/library/points.py`

 * *Files 9% similar despite different names*

```diff
@@ -1,67 +1,67 @@
 #---------------------------------------------------------------------------------------------------
-# This module is used for creating and managing point objects on the local schematic. Only basic left
-# hand and right hand points are currently supported but you should be able to mimic most layout
-# formations with these basic types
+# This module is used for creating and managing point library objects on the canvas.
 #---------------------------------------------------------------------------------------------------
 #
-# Public Types and Functions:
+# External API - classes and functions (used by the Schematic Editor):
 # 
-# point_type (use when creating points)
-#   point_type.RH
-#   point_type.LH
+#   point_type (use when creating points)
+#      point_type.RH
+#      point_type.LH
 # 
-# point_callback_type (tells the calling program what has triggered the callback):
-#   point_callback_type.point_switched (point has been switched)
-#   point_callback_type.fpl_switched (facing point lock has been switched)
+#   point_callback_type (tells the calling program what has triggered the callback):
+#      point_callback_type.point_switched (point has been switched)
+#      point_callback_type.fpl_switched (facing point lock has been switched)
 # 
-# create_point - Creates a point object and returns a list of the tkinter drawing objects (lines) 
-#                that make up the point so calling programs can later update them if required 
-#                (e.g. change the colour of the lines to represent the route that has been set up)
-#              - Returns: [straight blade, switched blade, straight route ,switched route]
-#   Mandatory Parameters:
+#   create_point - Creates a point object and returns the "tag" for all tkinter canvas drawing objects 
+#                  This allows the editor to move the point object on the schematic as required 
+#     Mandatory Parameters:
 #       Canvas - The Tkinter Drawing canvas on which the point is to be displayed
 #       point_id:int - The ID for the point - also displayed on the point button
 #       pointtype:point_type - either point_type.RH or point_type.LH
 #       x:int, y:int - Position of the point on the canvas (in pixels)
-#   Optional Parameters:
+#       callback - the function to call on track point or FPL switched events
+#               Note that the callback function returns (item_id, callback type)
+#     Optional Parameters:
 #       colour:str - Any tkinter colour can be specified as a string - default = "Black"
-#       orientation:int- Orientation in degrees (0 or 180) - default = zero
-#       point_callback - The function to call when the point is changed - default = no callback
-#                        Note that the callback function returns (item_id, callback type)
+#       orientation:int- Orientation in degrees (0 or 180) - default = 0
 #       reverse:bool - If the switching logic is to be reversed - Default = False
 #       fpl:bool - If the point is to have a Facing point lock - Default = False (no FPL)
 #       also_switch:int - the Id of another point to switch with this point - Default = None
 #       auto:bool - Point is fully automatic (i.e. no point control buttons) - Default = False.
+#
+#   delete_point(point_id:int) - To delete the specified point from the schematic
+#
+#   update_autoswitch(point_id:int, autoswitch_id:int) - To update the 'autoswitch' reference
+#
+#   lock_point(point_id:int) - use for point/signal interlocking
 # 
-# lock_point(*point_id:int) - use for point/signal interlocking (multiple IDs can be specified)
-# 
-# unlock_point(*point_id:int) - use for point/signal interlocking (multiple IDs can be specified)
+#   unlock_point(point_id:int) - use for point/signal interlocking
 # 
-# toggle_point(point_id:int) - use for route setting (use 'point_switched' to find state first)
+#   toggle_point(point_id:int) - use for route setting (use 'point_switched' to find state first)
 # 
-# toggle_fpl(point_id:int) - use for route setting (use 'fpl_active' to find state first)
+#   toggle_fpl(point_id:int) - use for route setting (use 'fpl_active' to find state first)
 # 
-# point_switched (point_id:int) - returns the point state (True/False) - to support interlocking
+#   point_switched(point_id:int) - returns the point state (True/False) - to support interlocking
 # 
-# fpl_active (point_id:int) - returns the FPL state (True/False) - to support interlocking
-#                           - Will return True if the point does not have a Facing point Lock
+#   fpl_active(point_id:int) - returns the FPL state (True/False) - to support interlocking
+#                             - Will return True if the point does not have a Facing point Lock
 #
 #---------------------------------------------------------------------------------------------------
 
 from . import dcc_control
 from . import common
 from . import file_interface
 
 import tkinter as Tk
 import enum
 import logging
 
 # -------------------------------------------------------------------------
-# Classes used by external functions when calling the create_point function
+# Public API classes (to be used by external functions)
 # -------------------------------------------------------------------------
 
 class point_type(enum.Enum):
     RH = 1   # Right Hand point
     LH = 2   # Left Hand point
     
 # Define the different callbacks types for the point
@@ -72,418 +72,395 @@
 # -------------------------------------------------------------------------
 # Points are to be added to a global dictionary when created
 # -------------------------------------------------------------------------
 
 points: dict = {}
 
 # -------------------------------------------------------------------------
-# Internal Function to check if a Point exists in the list of Points
-# Used in Most externally-called functions to validate the Point_ID
+# API Function to check if a Point exists in the dictionary of Points
 # -------------------------------------------------------------------------
 
 def point_exists(point_id:int):
-    return (str(point_id) in points.keys() )
-
-# -------------------------------------------------------------------------
-# The default callback for the Change button and Lock button
-# used if these are not specified when the point is created
-# i.e to cover the case of no FPL or an auto point
-# -------------------------------------------------------------------------
-
-def null_callback(point_id:int,callback_type):
-    return(point_id,callback_type)
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": point_exists - Point ID must be an integer")
+        point_exists = False
+    else:
+        point_exists = str(point_id) in points.keys()
+    return(point_exists)
 
 # -------------------------------------------------------------------------
 # Callbacks for processing button pushes
 # -------------------------------------------------------------------------
 
-def fpl_button_event (point_id:int):
+def fpl_button_event(point_id:int):
     logging.info("Point "+str(point_id)+": FPL Button Event ************************************************************")
     toggle_fpl(point_id)
     points[str(point_id)]["extcallback"] (point_id,point_callback_type.fpl_switched)
     return ()
 
-def change_button_event (point_id:int):
+def change_button_event(point_id:int):
     logging.info("Point "+str(point_id)+": Change Button Event *********************************************************")
     toggle_point(point_id)
     points[str(point_id)]["extcallback"] (point_id,point_callback_type.point_switched)
     return ()
 
 # -------------------------------------------------------------------------
-# Public API Function to flip the state of the Point's Facing Point Lock (to
-# enable route setting functions. Also called whenthe FPL button is pressed 
+# API Function to flip the state of the Point's Facing Point Lock (to
+# enable route setting functions. Also called when the FPL button is pressed 
 # -------------------------------------------------------------------------
 
-def toggle_fpl (point_id:int):
+def toggle_fpl(point_id:int):
     global points 
-    # Validate the point ID as this can be called by external code
-    if not point_exists(point_id):
-        logging.error ("Point "+str(point_id)+": Toggle FPL - Point does not exist")
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": toggle_fpl - Point ID must be an integer")
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": toggle_fpl - Point ID does not exist")
     elif not points[str(point_id)]["hasfpl"]:
-        logging.error ("Point "+str(point_id)+": Toggle FPL - Point does not have a facing point lock")
+        logging.error("Point "+str(point_id)+": toggle_fpl - Point does not have a Facing Point Lock")
     else:
         if points[str(point_id)]["locked"]:
-            logging.warning ("Point "+str(point_id)+": Toggle FPL - Point is externally locked - Toggling FPL anyway")
+            logging.warning("Point "+str(point_id)+": toggle_fpl - Point is externally locked - Toggling anyway")
         if not points[str(point_id)]["fpllock"]:
-            logging.info ("Point "+str(point_id)+": Activating FPL")
+            logging.info("Point "+str(point_id)+": Activating FPL")
             points[str(point_id)]["changebutton"].config(state="disabled") 
             points[str(point_id)]["lockbutton"].config(relief="sunken",bg="white") 
-            points[str(point_id)]["fpllock"]=True 
+            points[str(point_id)]["fpllock"] = True 
         else:
-            logging.info ("Point "+str(point_id)+": Clearing FPL")
+            logging.info("Point "+str(point_id)+": Clearing FPL")
             points[str(point_id)]["changebutton"].config(state="normal")  
             points[str(point_id)]["lockbutton"].config(relief="raised",bg="grey85")
-            points[str(point_id)]["fpllock"]=False
+            points[str(point_id)]["fpllock"] = False
     return()
 
 # -------------------------------------------------------------------------
 # Internal Function to toggle the point blade drawing objects and update
 # the internal state of the point - called by the toggle_point function
 # Can also be called on point creation to set the initial (loaded) state
 # -------------------------------------------------------------------------
 
-def toggle_point_state (point_id:int, switched_by_another_point = False):
+def toggle_point_state (point_id:int, switched_by_another_point:bool=False):
     global points
     if not points[str(point_id)]["switched"]:
         if switched_by_another_point:
-            logging.info ("Point "+str(point_id)+": Changing point to SWITCHED (switched with another point)")
+            logging.info("Point "+str(point_id)+": Changing point to SWITCHED (switched with another point)")
         else:
-            logging.info ("Point "+str(point_id)+": Changing point to SWITCHED")
+            logging.info("Point "+str(point_id)+": Changing point to SWITCHED")
         points[str(point_id)]["changebutton"].config(relief="sunken",bg="white")
         points[str(point_id)]["switched"] = True
         points[str(point_id)]["canvas"].itemconfig(points[str(point_id)]["blade2"],state="normal") #switched
         points[str(point_id)]["canvas"].itemconfig(points[str(point_id)]["blade1"],state="hidden") #normal
-        dcc_control.update_dcc_point(point_id,True)
+        dcc_control.update_dcc_point(point_id, True)
     else:
         if switched_by_another_point:
-            logging.info ("Point "+str(point_id)+": Changing point to NORMAL (switched with another point)")
+            logging.info("Point "+str(point_id)+": Changing point to NORMAL (switched with another point)")
         else:
-            logging.info ("Point "+str(point_id)+": Changing point to NORMAL")
+            logging.info("Point "+str(point_id)+": Changing point to NORMAL")
         points[str(point_id)]["changebutton"].config(relief="raised",bg="grey85") 
         points[str(point_id)]["switched"] = False
         points[str(point_id)]["canvas"].itemconfig(points[str(point_id)]["blade2"],state="hidden") #switched 
         points[str(point_id)]["canvas"].itemconfig(points[str(point_id)]["blade1"],state="normal") #normal
-        dcc_control.update_dcc_point(point_id,False)
+        dcc_control.update_dcc_point(point_id, False)
     return
 
 # -------------------------------------------------------------------------
 # Internal Function to update any downstream points (i.e. points
 # 'autoswitched' by the current point) - called on point creation
 # (if a point exists) and when a point is toggled via the API
 # -------------------------------------------------------------------------
 
 def update_downstream_points(point_id:int):
     if points[str(point_id)]["alsoswitch"] != 0:
         if not point_exists(points[str(point_id)]["alsoswitch"]):
-            logging.error ("Point "+str(point_id)+": Toggle Point - Can't \'also switch\' point "
+            logging.error("Point "+str(point_id)+": update_downstream_points - Can't 'also switch' point "
                     +str(points[str(point_id)]["alsoswitch"]) +" as that point does not exist")
         elif not points[str(points[str(point_id)]["alsoswitch"])]["automatic"]:
-            logging.error ("Point "+str(point_id)+": Toggle Point - Can't \'also switch\' point "
+            logging.error("Point "+str(point_id)+": update_downstream_points - Can't 'also switch' point "
                     +str(points[str(point_id)]["alsoswitch"]) +" as that point is not automatic")
         elif point_switched(point_id) != point_switched(points[str(point_id)]["alsoswitch"]):
-            logging.info ("Point "+str(point_id)+": Also changing point "+str(points[str(point_id)]["alsoswitch"]))
+            logging.info("Point "+str(point_id)+": Also changing point "+str(points[str(point_id)]["alsoswitch"]))
             # Recursively call back into the toggle_point function to change the point
             toggle_point(points[str(point_id)]["alsoswitch"],switched_by_another_point=True)
     return()
 
 # -------------------------------------------------------------------------
-# Public API Function to flip the route setting for the Point (to enable
+# API Function to flip the route setting for the Point (to enable
 # route setting functions. Also called whenthe POINT button is pressed 
 # Will also recursivelly call itself to change any "also_switch" points
 # -------------------------------------------------------------------------
 
-def toggle_point (point_id:int, switched_by_another_point = False):
+def toggle_point(point_id:int, switched_by_another_point:bool=False):
     global points
-    # Validate the point ID as this can be called by external code
-    if not point_exists(point_id):
-        logging.error ("Point "+str(point_id)+": Toggle Point - Point does not exist")
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": toggle_point - Point ID must be an integer")
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": toggle_point - Point ID does not exist")
     elif points[str(point_id)]["automatic"] and not switched_by_another_point:
-        logging.error ("Point "+str(point_id)+": Toggle Point - Point is automatic (should  be \'also switched\' by another point)")
+        logging.error("Point "+str(point_id)+": toggle_point - Point is automatic (should be 'also switched' by another point)")
     else:
         if points[str(point_id)]["locked"]:
-            logging.warning ("Point "+str(point_id)+": Toggle Point - Point is externally locked - Toggling anyway")
+            logging.warning("Point "+str(point_id)+": toggle_point - Point is externally locked - Toggling anyway")
         elif points[str(point_id)]["hasfpl"] and points[str(point_id)]["fpllock"]:
-            logging.warning ("Point "+str(point_id)+": Toggle Point - Facing Point Lock is active - Toggling anyway")
+            logging.warning("Point "+str(point_id)+": toggle_point - Facing Point Lock is active - Toggling anyway")
         # Call the internal function to toggle the point state and update the drawing objects
-        toggle_point_state (point_id,switched_by_another_point)
+        toggle_point_state(point_id,switched_by_another_point)
         # Now change any other points we need (i.e. points switched with this one)
         update_downstream_points(point_id)
     return()
 
 # -------------------------------------------------------------------------
 # Public API function to create a Point (drawing objects + state)
 # By default the point is "NOT SWITCHED" (i.e. showing the default route)
 # If the point has a Facing Point Lock then this is set to locked
 # Function returns a list of the lines that have been drawn (so an
 # external programme can change the colours if required)
 # -------------------------------------------------------------------------
 
 def create_point (canvas, point_id:int, pointtype:point_type,
-                  x:int, y:int, colour:str="black", orientation:int = 0,
-                  point_callback = null_callback, also_switch:int = 0,
-                  reverse:bool=False,auto:bool=False,fpl:bool=False):
+                  x:int, y:int, callback, colour:str="black",
+                  orientation:int = 0, also_switch:int = 0,
+                  reverse:bool=False, auto:bool=False, fpl:bool=False):
     global points
-    logging.info ("Point "+str(point_id)+": Creating Point")
-    # Find and store the root window (when the first signal is created)
-    if common.root_window is None: common.find_root_window(canvas)
-    # Do some basic validation on the parameters we have been given
-    if point_exists(point_id):
-        logging.error ("Point "+str(point_id)+": Point already exists")
-        point_objects = [0,0,0,0]
-    elif point_id < 1:
-        logging.error ("Point "+str(point_id)+": Point ID must be greater than zero")
-        point_objects = [0,0,0,0]
+    # Set a unique 'tag' to reference the tkinter drawing objects
+    canvas_tag = "point"+str(point_id)
+    if not isinstance(point_id, int) or point_id < 1:
+        logging.error("Point "+str(point_id)+": create_point - Point ID must be a positive integer")
+    elif point_exists(point_id):
+        logging.error("Point "+str(point_id)+": create_point - Point ID already exists")
+    elif not isinstance(also_switch, int):
+        logging.error("Point "+str(point_id)+": create_point - Alsoswitch ID must be an integer")
     elif also_switch == point_id:
-        logging.error ("Point "+str(point_id)+": ID for point to \'also switch\' is the same as the point to create")
-        point_objects = [0,0,0,0]
-    elif orientation != 0 and orientation != 180:
-        logging.error ("Point "+str(point_id)+": Invalid orientation angle - only 0 and 180 currently supported")
-        point_objects = [0,0,0,0]
+        logging.error("Point "+str(point_id)+": create_point - Alsoswitch ID is the same as the Point ID")
+    elif pointtype != point_type.LH and pointtype != point_type.RH:
+        logging.error("Point "+str(point_id)+": create_point - Invalid Point Type specified")
     elif fpl and auto:
-        logging.error ("Point "+str(point_id)+": Automatic point should be created without a facing point lock")
-        point_objects = [0,0,0,0]
+        logging.error("Point "+str(point_id)+": create_point - Automatic point should be created without a FPL")
     else:
-        # Define the "Tag" for all drawing objects for this point instance
-        point_id_tag = "point"+str(point_id)
+        logging.debug("Point "+str(point_id)+": Creating library object on the schematic")
         # Create the button objects and their callbacks
-        point_button = Tk.Button (canvas, text=str(point_id), state="normal", relief="raised",
-                    font=('Courier',common.fontsize,"normal"),bg= "grey85",
-                    padx=common.xpadding, pady=common.ypadding,
-                    command = lambda:change_button_event(point_id))
+        if point_id < 10: main_button_text = "0" + str(point_id)
+        else: main_button_text = str(point_id)
+        point_button = Tk.Button (canvas, text=main_button_text, state="normal", relief="raised",
+                                  font=('Courier',common.fontsize,"normal"),bg= "grey85",
+                                  padx=common.xpadding, pady=common.ypadding,
+                                  command = lambda:change_button_event(point_id))
         fpl_button = Tk.Button (canvas,text="L",state="normal", relief="sunken",
-                    font=('Courier',common.fontsize,"normal"), bg = "white",
-                    padx=common.xpadding, pady=common.ypadding, 
-                    command = lambda:fpl_button_event(point_id))
-        # Disable the change button if the point has FPL(default state = FPL active)
+                                font=('Courier',common.fontsize,"normal"), bg = "white",
+                                padx=common.xpadding, pady=common.ypadding, 
+                                command = lambda:fpl_button_event(point_id))
+        # Disable the change button if the point has FPL (default state = FPL active)
         if fpl: point_button.config(state="disabled")
-
+        # Create the Tkinter drawing objects for the point
         if pointtype==point_type.RH:
             # Draw the lines representing a Right Hand point
             line_coords = common.rotate_line (x,y,-25,0,-10,0,orientation) 
-            blade1 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #straignt blade
+            blade1 = canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #straignt blade
             line_coords = common.rotate_line (x,y,-25,0,-15,+10,orientation)
-            blade2 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #switched blade
+            blade2 = canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #switched blade
             line_coords = common.rotate_line (x,y,-10,0,+25,0,orientation)
-            route1 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #straight route
+            canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #straight route
             line_coords = common.rotate_line (x,y,-15,+10,0,+25,orientation)
-            route2 = canvas.create_line(line_coords,fill=colour,width=3,tags=point_id_tag) #switched route
+            canvas.create_line(line_coords,fill=colour,width=3,tags=canvas_tag) #switched route
             # Create the button windows in the correct relative positions for a Right Hand Point
-            if auto:
-                # point is completely automatic - both buttons are "hidden"
-                point_coords = common.rotate_point (x,y,-10,-20,orientation)
-                canvas.create_window (point_coords,window=point_button,state='hidden',tags=point_id_tag) 
-                canvas.create_window (point_coords,window=fpl_button,state='hidden',tags=point_id_tag)
-            elif fpl:
-                # If the point has FPL then both the change and fpl buttons are displayed
-                point_coords = common.rotate_point (x,y,-10,-20,orientation)
-                canvas.create_window (point_coords,anchor=Tk.W,window=point_button,tags=point_id_tag) 
-                canvas.create_window (point_coords,anchor=Tk.E,window=fpl_button,tags=point_id_tag)
-            else:
-                # Point has no FPL so the FPL button is "hidden"
-                point_coords = common.rotate_point (x,y,-10,-20,orientation)
-                canvas.create_window (point_coords,window=point_button,tags=point_id_tag) 
-                canvas.create_window (point_coords,window=fpl_button,state='hidden',tags=point_id_tag)
-
+            point_coords = common.rotate_point (x,y,-3,-13,orientation)
+            if not auto: canvas.create_window (point_coords,anchor=Tk.W,window=point_button,tags=canvas_tag) 
+            if fpl: canvas.create_window (point_coords,anchor=Tk.E,window=fpl_button,tags=canvas_tag)
         else: 
             # Draw the lines representing a Left Hand point
             line_coords = common.rotate_line (x,y,-25,0,-10,0,orientation) 
-            blade1 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #straignt blade
+            blade1 = canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #straignt blade
             line_coords = common.rotate_line (x,y,-25,0,-15,-10,orientation)
-            blade2 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #switched blade
+            blade2 = canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #switched blade
             line_coords = common.rotate_line (x,y,-10,0,+25,0,orientation)
-            route1 = canvas.create_line (line_coords,fill=colour,width=3,tags=point_id_tag) #straight route
+            canvas.create_line (line_coords,fill=colour,width=3,tags=canvas_tag) #straight route
             line_coords = common.rotate_line (x,y,-15,-10,0,-25,orientation)
-            route2 = canvas.create_line(line_coords,fill=colour,width=3,tags=point_id_tag) #switched route
+            canvas.create_line(line_coords,fill=colour,width=3,tags=canvas_tag) #switched route
             # Create the button windows in the correct relative positions for a Left Hand Point
-            if auto:
-                # point is completely automatic - both buttons are "hidden"
-                point_coords = common.rotate_point (x,y,-10,+20,orientation)
-                canvas.create_window (point_coords,window=point_button,state='hidden',tags=point_id_tag) 
-                canvas.create_window (point_coords,window=fpl_button,state='hidden',tags=point_id_tag)
-            elif fpl:
-                # If the point has FPL then both the change and fpl buttons are displayed
-                point_coords = common.rotate_point (x,y,-10,+20,orientation)
-                canvas.create_window (point_coords,anchor=Tk.W,window=point_button,tags=point_id_tag) 
-                canvas.create_window (point_coords,anchor=Tk.E,window=fpl_button,tags=point_id_tag)
-            else:
-                # Point has no FPL so the FPL button is "hidden"
-                point_coords = common.rotate_point (x,y,-10,+20,orientation)
-                canvas.create_window (point_coords,window=point_button,tags=point_id_tag) 
-                canvas.create_window (point_coords,window=fpl_button,state='hidden',tags=point_id_tag)
-                
+            point_coords = common.rotate_point (x,y,-3,+13,orientation)
+            if not auto: canvas.create_window (point_coords,anchor=Tk.W,window=point_button,tags=canvas_tag) 
+            if fpl: canvas.create_window (point_coords,anchor=Tk.E,window=fpl_button,tags=canvas_tag)
         # The "normal" state of the point is the straight through route by default
         # With reverse set to True, the divergent route becomes the "normal" state
-        if reverse is True:
-            temp=blade1
-            blade1=blade2
-            blade2=temp
-
+        if reverse is True: blade1, blade2 = blade2, blade1
         # Hide the line for the switched route (display it later when we need it)
         canvas.itemconfig(blade2,state="hidden")
-                
         # Compile a dictionary of everything we need to track
-        new_point = {"canvas" : canvas,                # canvas object
-                      "blade1" : blade1,               # drawing object
-                      "blade2" : blade2,               # drawing object
-                      "changebutton" : point_button,   # drawing object
-                      "lockbutton" : fpl_button,       # drawing object
-                      "alsoswitch" : also_switch,      # the next point to automatically switch
-                      "extcallback" : point_callback,  # The external callback to make on an event
-                      "automatic" : auto,              # Whether the point is automatic - used for validation
-                      "hasfpl" : fpl,                  # Whether the point has a facing point lock
-                      "locked" : False,                # The initial "interlocking" state of the point
-                      "switched" : False,              # The initial "switched" state of the point
-                      "fpllock" : fpl }                # the initial state of the Facing point Lock (locked if it has FPL)
-
-        # Add the new point to the dictionary of points
-        points[str(point_id)] = new_point
-        
+        points[str(point_id)] = {}
+        points[str(point_id)]["canvas"] = canvas               # Tkinter canvas object
+        points[str(point_id)]["blade1"] = blade1               # Tkinter drawing object
+        points[str(point_id)]["blade2"] = blade2               # Tkinter drawing object
+        points[str(point_id)]["changebutton"] = point_button   # Tkinter drawing object
+        points[str(point_id)]["lockbutton"] = fpl_button       # Tkinter drawing object
+        points[str(point_id)]["extcallback"] = callback        # The callback to make on an event
+        points[str(point_id)]["alsoswitch"] = also_switch      # Point to automatically switch (0=none)
+        points[str(point_id)]["automatic"] = auto              # Whether the point is automatic or not
+        points[str(point_id)]["hasfpl"] = fpl                  # Whether the point has a FPL or not
+        points[str(point_id)]["fpllock"] = fpl                 # Initial state of the FPL (locked if it has FPL)
+        points[str(point_id)]["locked"] = False                # Initial "interlocking" state of the point
+        points[str(point_id)]["switched"] = False              # Initial "switched" state of the point
+        points[str(point_id)]["tags"] = canvas_tag             # Canvas Tags for all drawing objects
         # Get the initial state for the point (if layout state has been successfully loaded)
         # if nothing has been loaded then the default state (as created) will be applied
         loaded_state = file_interface.get_initial_item_state("points",point_id)
         # Toggle the FPL if FPL is ACTIVE ("switched" will be 'None' if no data was loaded)
         # We toggle on False as points with FPLs are created with the FPL active by default
         if fpl and loaded_state["fpllock"] == False: toggle_fpl(point_id)
         # Toggle the point state if SWITCHED ("switched" will be 'None' if no data was loaded)
         # Note that Toggling the point will also send the DCC commands to set the initial state
         # If we don't toggle the point we need to send out the DCC commands for the default state
         if loaded_state["switched"]: toggle_point_state(point_id)
         else: dcc_control.update_dcc_point(point_id,False)
         # Externally lock the point if required
         if loaded_state["locked"]: lock_point(point_id)
-
         # We need to ensure that all points in an 'auto switch' chain are set to the same
         # switched/not-switched state so they switch together correctly. First, we test to
         # see if any existing points have already been configured to "autoswitch' the newly
         # created point and, if so, toggle the newly created point to the same state
         for other_point_id in points:
-            if (points[other_point_id]["alsoswitch"] == point_id and
-                   point_switched(other_point_id) != point_switched(point_id)):
-                toggle_point_state(point_id,True)
+            if points[other_point_id]["alsoswitch"] == point_id:
+                update_downstream_points(int(other_point_id))
         # Update any downstream points (configured to be 'autoswitched' by this point
         # but only if they have been created (allows them to be created after this point)
-        if point_exists(points[str(point_id)]["alsoswitch"]): update_downstream_points(point_id)
-
-        # We'll also return a list of identifiers for the drawing objects
-        # so we can change the colour of them later if required
-        # [blade straight, blade switched, route straight, route switched]
-        point_objects=[blade1,blade2,route1,route2]
-        
-    return(point_objects)
+        if point_exists(points[str(point_id)]["alsoswitch"]):
+            validate_alsoswitch_point(point_id, also_switch)
+            update_downstream_points(point_id)
+        # Return the canvas_tag for the tkinter drawing objects        
+    return(canvas_tag)
 
 # -------------------------------------------------------------------------
-# Public API function to Lock one or more points. The external signal/point
-# interlocking should be written to ensure it is only possible to lock a
-# point when the Facing point Lock is activated
+# Public API function to Lock a points (Warning generated if APL and not FPL active)
 # -------------------------------------------------------------------------
 
-def lock_point (*point_ids:int):
+def lock_point(point_id:int):
     global points 
-    for point_id in point_ids:
-        # Validate the point exists 
-        if not point_exists(point_id):
-            logging.error ("Point "+str(point_id)+": lock_point - Point does not exist")
-        elif not points[str(point_id)]["locked"]:
-            logging.info ("Point "+str(point_id)+": Locking point")
-            if not points[str(point_id)]["hasfpl"]:
-                # If the point doesn't have a FPL we just inhibit the change button
-                points[str(point_id)]["changebutton"].config(state="disabled")
-            elif not points[str(point_id)]["fpllock"]:
-                # If the FPL is not already active then we need to activate it (with a warning)
-                logging.warning ("Point "+str(point_id)+": FPL not activated - Activating FPL before locking")
-                toggle_fpl (point_id)
-            # Now inhibit the FPL button to stop it being manually unlocked
-            points[str(point_id)]["lockbutton"].config(state="disabled") 
-            points[str(point_id)]["locked"] = True
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": lock_point - Point ID must be an integer")    
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": lock_point - Point ID does not exist")
+    elif not points[str(point_id)]["locked"]:
+        logging.info ("Point "+str(point_id)+": Locking point")
+        if not points[str(point_id)]["hasfpl"]:
+            # If the point doesn't have a FPL we just inhibit the change button
+            points[str(point_id)]["changebutton"].config(state="disabled")
+        elif not points[str(point_id)]["fpllock"]:
+            # If the FPL is not already active then we need to activate it (with a warning)
+            logging.warning ("Point "+str(point_id)+": lock_point - Activating FPL before locking")
+            toggle_fpl (point_id)
+        # Now inhibit the FPL button to stop it being manually unlocked
+        points[str(point_id)]["lockbutton"].config(state="disabled") 
+        points[str(point_id)]["locked"] = True
     return()
 
 # -------------------------------------------------------------------------
-# Public API function to Unlock one or more points
+# API function to Unlock a point
 # -------------------------------------------------------------------------
 
-def unlock_point (*point_ids:int):
+def unlock_point(point_id:int):
     global points 
-    for point_id in point_ids:
-        # Validate the point exists
-        if not point_exists(point_id):
-            logging.error ("Point "+str(point_id)+": unlock_point - Point does not exist")
-        elif points[str(point_id)]["locked"]:
-            logging.info ("Point "+str(point_id)+": Unlocking point")
-            if not points[str(point_id)]["hasfpl"]:
-                # If the point doesn't have FPL we need to re-enable the change button
-                points[str(point_id)]["changebutton"].config(state="normal")
-            else:
-                # If the point has FPL we just need to re-enable the FPL button
-                points[str(point_id)]["lockbutton"].config(state="normal") 
-            points[str(point_id)]["locked"] = False
-    return ()
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": unlock_point - Point ID must be an integer")    
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": unlock_point - Point ID does not exist")
+    elif points[str(point_id)]["locked"]:
+        logging.info("Point "+str(point_id)+": Unlocking point")
+        if not points[str(point_id)]["hasfpl"]:
+            # If the point doesn't have FPL we need to re-enable the change button
+            points[str(point_id)]["changebutton"].config(state="normal")
+        else:
+            # If the point has FPL we just need to re-enable the FPL button
+            points[str(point_id)]["lockbutton"].config(state="normal") 
+        points[str(point_id)]["locked"] = False
+    return()
 
 # -------------------------------------------------------------------------
-# Public API function to Return the current state of the point
+# API function to Return the current state of the point
 # -------------------------------------------------------------------------
 
-def point_switched (point_id:int):
-    # Validate the point exists
-    if not point_exists(point_id):
-        logging.error ("Point "+str(point_id)+": point_switched - Point does not exist")
+def point_switched(point_id:int):
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": point_switched - Point ID must be an integer")    
+        switched = False
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": point_switched - Point ID does not exist")
         switched = False
     else:   
         switched = points[str(point_id)]["switched"]
     return(switched)
 
 # -------------------------------------------------------------------------
-# Public API function to query the current state of the FPL
-# if the point does not have a FPL the return will always be TRUE
+# API function to query the current state of the FPL (no FPL will return True)
 # -------------------------------------------------------------------------
 
 def fpl_active(point_id:int):
-    # Validate the point exists
-    if not point_exists(point_id):
-        logging.error ("Point "+str(point_id)+": fpl_active - Point does not exist")
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": fpl_active - Point ID must be an integer")    
+        locked = False
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": fpl_active - Point ID does not exist")
         locked = False
     elif not points[str(point_id)]["hasfpl"]:
         # Point does not have a FPL - always return True in this case
         locked = True
     else:
         locked = points[str(point_id)]["fpllock"]
-    return (locked)
+    return(locked)
 
 # ------------------------------------------------------------------------------------------
-# Non public API function for deleting a point object (including all the drawing objects)
+# API function for deleting a point library object (including all the drawing objects).
 # This is used by the schematic editor for changing point types where we delete the existing
-# point with all its data and then recreate it (with the same ID) in its new configuration
+# point with all its data and then recreate it (with the same ID) in its new configuration.
 # ------------------------------------------------------------------------------------------
 
 def delete_point(point_id:int):
     global points
-    if point_exists(point_id):
-        # Delete all the tkinter canvas drawing objects associated with the point
-        points[str(point_id)]["canvas"].delete("point"+str(point_id))
-        # Delete all the tkinter button objects created for the point
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": delete_point - Point ID must be an integer")    
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": delete_point - Point ID does not exist")
+    else:
+        logging.debug("Point "+str(point_id)+": Deleting library object from the schematic")
+        # Delete all the tkinter drawing objects associated with the point
+        points[str(point_id)]["canvas"].delete(points[str(point_id)]["tags"])
         points[str(point_id)]["changebutton"].destroy()
         points[str(point_id)]["lockbutton"].destroy()
-        # Finally, delete the entry from the dictionary of points
+        # Delete the point entry from the dictionary of points
         del points[str(point_id)]
     return()
 
 # ------------------------------------------------------------------------------------------
-# Non public API function for updating the ID of the point to be 'autoswitched' by this
-# point without needing to delete the point and then create it in its new state. The main
-# use case is when bulk deleting objects via the schematic editor, where we want to avoid
-# interleaving tkinter 'create' commands in amongst the 'delete' commands outside of the
-# main tkinter loop as this can lead to problems with artefacts persisting on the canvas
+# API function for updating the ID of the point to be 'autoswitched' by a point without
+# needing to delete the point and then create it in its new state. The main use case is 
+# when bulk deleting objects via the schematic editor, where we want to avoid interleaving
+# tkinter 'create' commands in amongst the 'delete' commands outside of the main tkinter
+# loop as this can lead to problems with artefacts persisting on the canvas.
 # ------------------------------------------------------------------------------------------
 
 def update_autoswitch(point_id:int, autoswitch_id:int):
-    points[str(point_id)]["alsoswitch"] = autoswitch_id
-    update_downstream_points(point_id)
+    if not isinstance(point_id, int):
+        logging.error("Point "+str(point_id)+": update_autoswitch - Point ID must be an integer")    
+    elif not point_exists(point_id):
+        logging.error("Point "+str(point_id)+": update_autoswitch - Point ID does not exist")
+    elif not isinstance(autoswitch_id, int):
+        logging.error("Point "+str(point_id)+": update_autoswitch - Autoswitch ID must be an integer")    
+    elif autoswitch_id > 0 and not point_exists(autoswitch_id):
+        logging.error("Point "+str(point_id)+": update_autoswitch - Autoswitch ID does not exist")
+    else:
+        logging.debug("Point "+str(point_id)+": Updating Autoswitch point to "+str(autoswitch_id))
+        points[str(point_id)]["alsoswitch"] = autoswitch_id
+        if point_exists(points[str(point_id)]["alsoswitch"]):
+            validate_alsoswitch_point(point_id, autoswitch_id)
+            update_downstream_points(point_id)
     return()
 
 # ------------------------------------------------------------------------------------------
-# Non public API function to return the tkinter canvas 'tags' for the point
+# Internal common function to validate point linking (raising a warning as required)
 # ------------------------------------------------------------------------------------------
 
-def get_tags(point_id:int):
-    return("point"+str(point_id))
+def validate_alsoswitch_point(point_id:int, autoswitch_id:int):
+    for other_point in points:
+        if points[other_point]['alsoswitch'] == autoswitch_id and other_point != str(point_id):
+            # We've found another point 'also switching' the point we are trying to link to
+            logging.warning("Point "+str(point_id)+": configuring to 'autoswitch' "+str(autoswitch_id)+
+                  " - but point "+ other_point+" is also configured to 'autoswitch' "+str(autoswitch_id))
+    return()
 
 ###############################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals.py`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals_colour_lights.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals_colour_lights.py`

 * *Files 0% similar despite different names*

```diff
@@ -378,15 +378,15 @@
         signals_common.signals[str(sig_id)]["sigstate"] = new_aspect
         refresh_signal_aspects (sig_id)
         # Update the Theatre & Feather route indications as these are inhibited/enabled for transitions to/from DANGER
         enable_disable_feather_route_indication(sig_id)
         signals_common.enable_disable_theatre_route_indication(sig_id)
         # Send the required DCC bus commands to change the signal to the desired aspect. Note that commands will only
         # be sent if the Pi-SPROG interface has been successfully configured and a DCC mapping exists for the signal
-        dcc_control.update_dcc_signal_aspects(sig_id)
+        dcc_control.update_dcc_signal_aspects(sig_id, new_aspect)
         # Publish the signal changes to the broker (for other nodes to consume). Note that state changes will only
         # be published if the MQTT interface has been successfully configured for publishing updates for this signal
         signals_common.publish_signal_state(sig_id)            
 
     return ()
 
 # -------------------------------------------------------------------------
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals_common.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals_common.py`

 * *Files 2% similar despite different names*

```diff
@@ -58,16 +58,16 @@
     FLASH_PRELIM_CAUTION = 7
 
 # Define the main signal types that can be created
 class sig_type(enum.Enum):
     remote_signal = 0
     colour_light = 1
     ground_position = 2
-    semaphore = 3                 
-    ground_disc = 4          
+    semaphore = 3
+    ground_disc = 4
 
 # -------------------------------------------------------------------------
 # Signals are to be added to a global dictionary when created
 # -------------------------------------------------------------------------
 
 signals:dict = {}
 
@@ -122,42 +122,48 @@
 def reset_sig_passed_button (sig_id:int):
     if sig_exists(sig_id): signals[str(sig_id)]["passedbutton"].config(bg=common.bgraised)
 
 def reset_sig_released_button (sig_id:int):
     if sig_exists(sig_id): signals[str(sig_id)]["releasebutton"].config(bg=common.bgraised)
 
 def sig_passed_button_event (sig_id:int):
-    logging.info("Signal "+str(sig_id)+": Signal Passed Event **********************************************")
-    # Pulse the signal passed button to provide a visual indication (but not if a shutdown has been initiated)
-    if not common.shutdown_initiated:
-        signals[str(sig_id)]["passedbutton"].config(bg="red")
-        common.root_window.after(1000,lambda:reset_sig_passed_button(sig_id))
-    # Reset the approach control 'released' state (if the signal supports approach control)
-    if ( signals[str(sig_id)]["sigtype"] == sig_type.colour_light or
-         signals[str(sig_id)]["sigtype"] == sig_type.semaphore ):
-        signals[str(sig_id)]["released"] = False
-    # Make the external callback (if one was specified at signal creation time)
-    signals[str(sig_id)]['extcallback'] (sig_id,sig_callback_type.sig_passed)
+    if not sig_exists(sig_id):
+        logging.error("Signal "+str(sig_id)+": sig_passed_button_event - signal does not exist")
+    else:
+        logging.info("Signal "+str(sig_id)+": Signal Passed Event **********************************************")
+        # Pulse the signal passed button to provide a visual indication (but not if a shutdown has been initiated)
+        if not common.shutdown_initiated:
+            signals[str(sig_id)]["passedbutton"].config(bg="red")
+            common.root_window.after(1000,lambda:reset_sig_passed_button(sig_id))
+        # Reset the approach control 'released' state (if the signal supports approach control)
+        if ( signals[str(sig_id)]["sigtype"] == sig_type.colour_light or
+             signals[str(sig_id)]["sigtype"] == sig_type.semaphore ):
+            signals[str(sig_id)]["released"] = False
+        # Make the external callback (if one was specified at signal creation time)
+        signals[str(sig_id)]['extcallback'] (sig_id,sig_callback_type.sig_passed)
     return ()
 
 def approach_release_button_event (sig_id:int):
-    logging.info("Signal "+str(sig_id)+": Approach Release Event *******************************************")
-    # Pulse the approach release button to provide a visual indication (but not if a shutdown has been initiated)
-    if not common.shutdown_initiated:
-        signals[str(sig_id)]["releasebutton"].config(bg="red")
-        common.root_window.after(1000,lambda:reset_sig_released_button(sig_id))
-    # Set the approach control 'released' state (if the signal supports approach control)
-    if ( signals[str(sig_id)]["sigtype"] == sig_type.colour_light or
-         signals[str(sig_id)]["sigtype"] == sig_type.semaphore ):
-        signals[str(sig_id)]["released"] = True
-    # Clear the approach control and refresh the signal
-    clear_approach_control(sig_id)
-    auto_refresh_signal(sig_id)
-    # Make the external callback (if one was specified at signal creation time)
-    signals[str(sig_id)]['extcallback'] (sig_id,sig_callback_type.sig_released)
+    if not sig_exists(sig_id):
+        logging.error("Signal "+str(sig_id)+": approach_release_button_event - signal does not exist")
+    else:
+        logging.info("Signal "+str(sig_id)+": Approach Release Event *******************************************")
+        # Pulse the approach release button to provide a visual indication (but not if a shutdown has been initiated)
+        if not common.shutdown_initiated:
+            signals[str(sig_id)]["releasebutton"].config(bg="red")
+            common.root_window.after(1000,lambda:reset_sig_released_button(sig_id))
+        # Set the approach control 'released' state (if the signal supports approach control)
+        if ( signals[str(sig_id)]["sigtype"] == sig_type.colour_light or
+             signals[str(sig_id)]["sigtype"] == sig_type.semaphore ):
+            signals[str(sig_id)]["released"] = True
+        # Clear the approach control and refresh the signal
+        clear_approach_control(sig_id)
+        auto_refresh_signal(sig_id)
+        # Make the external callback (if one was specified at signal creation time)
+        signals[str(sig_id)]['extcallback'] (sig_id,sig_callback_type.sig_released)
     return ()
 
 # -------------------------------------------------------------------------
 # Common function to refreh a signal following a change in state
 # -------------------------------------------------------------------------
 
 def auto_refresh_signal(sig_id:int):
@@ -380,26 +386,24 @@
                                    x:int, y:int,
                                    signal_type:sig_type,
                                    ext_callback,
                                    orientation:int,
                                    subsidary:bool=False,
                                    sig_passed_button:bool=False,
                                    automatic:bool=False,
-                                   distant_button_offset:int=0,
+                                   associated_home:int=0,
                                    tag:str=""):
     global signals
-    # Find and store the root window (when the first signal is created)
-    if common.root_window is None: common.find_root_window(canvas)
     # If no callback has been specified, use the null callback to do nothing
     if ext_callback is None: ext_callback = null_callback
     # Assign the button labels. if a distant_button_offset has been defined then this represents the 
     # special case of a semaphore distant signal being created on the same "post" as a semaphore
     # home signal. On this case we label the button as "D" to differentiate it from the main
     # home signal button and then apply the offset to deconflict with the home signal buttons
-    if distant_button_offset !=0 : main_button_text = "D"
+    if associated_home > 0: main_button_text = "D"
     elif sig_id < 10: main_button_text = "0" + str(sig_id)
     else: main_button_text = str(sig_id)
     # Create the Signal and Subsidary Button objects and their callbacks
     sig_button = Tk.Button (canvas, text=main_button_text, padx=common.xpadding, pady=common.ypadding,
                 state="normal", relief="raised", font=('Courier',common.fontsize,"normal"),
                 bg=common.bgraised, command=lambda:signal_button_event(sig_id))
     sub_button = Tk.Button (canvas, text="S", padx=common.xpadding, pady=common.ypadding,
@@ -410,33 +414,30 @@
                 command=lambda:sig_passed_button_event(sig_id))
     # Create the 'windows' in which the buttons are displayed. The Subsidary Button is "hidden"
     # if the signal doesn't have an associated subsidary. The Button positions are adjusted
     # accordingly so they always remain in the "right" position relative to the signal
     # Note that we have to cater for the special case of a semaphore distant signal being
     # created on the same post as a semaphore home signal. In this case (signified by a
     # distant_button_offset), we apply the offset to deconflict with the home signal buttons.
-    if distant_button_offset != 0:
-        button_position = common.rotate_point (x,y,distant_button_offset,-25,orientation)
+    if associated_home > 0:
+        if signals[str(associated_home)]["hassubsidary"] and orientation == 0: button_offset = -52
+        elif signals[str(associated_home)]["hassubsidary"] and orientation != 0: button_offset = -54
+        else: button_offset = -36
+        button_position = common.rotate_point(x,y,button_offset,-14,orientation)
         if not automatic: canvas.create_window(button_position,window=sig_button,tags=tag)
-        else: canvas.create_window(button_position,window=sig_button,state='hidden',tags=tag)
-        canvas.create_window(button_position,window=sub_button,state='hidden',tags=tag)
     elif subsidary:
-        if orientation == 0: button_position = common.rotate_point (x,y,-25,-25,orientation) 
-        else: button_position = common.rotate_point (x,y,-35,-25,orientation) 
+        if orientation == 0: button_position = common.rotate_point (x,y,-22,-14,orientation) 
+        else: button_position = common.rotate_point (x,y,-30,-14,orientation) 
         canvas.create_window(button_position,anchor=Tk.E,window=sig_button,tags=tag)
         canvas.create_window(button_position,anchor=Tk.W,window=sub_button,tags=tag)          
     else:
-        button_position = common.rotate_point (x,y,-20,-25,orientation) 
+        button_position = common.rotate_point (x,y,-17,-14,orientation) 
         canvas.create_window(button_position,window=sig_button,tags=tag)
-        canvas.create_window(button_position,window=sub_button,state='hidden',tags=tag)
     # Signal passed button is created on the track at the base of the signal
-    if sig_passed_button:
-        canvas.create_window(x,y,window=passed_button,tags=tag)
-    else:
-        canvas.create_window(x,y,window=passed_button,state='hidden',tags=tag)
+    if sig_passed_button: canvas.create_window(x,y,window=passed_button,tags=tag)
     # Disable the main signal button if the signal is fully automatic
     if automatic: sig_button.config(state="disabled",relief="sunken",bg=common.bgraised,bd=0)
     # Create an initial dictionary entry for the signal and add all the mandatory signal elements
     signals[str(sig_id)] = {}
     signals[str(sig_id)]["canvas"]       = canvas               # MANDATORY - canvas object
     signals[str(sig_id)]["sigtype"]      = signal_type          # MANDATORY - Type of the signal
     signals[str(sig_id)]["automatic"]    = automatic            # MANDATORY - True = signal is fully automatic 
@@ -467,18 +468,15 @@
     global signals
     # Define the "Tag" for all drawing objects for this signal instance
     tag = "signal"+str(sig_id)
     # Create the approach release button - We only want a small button - hence a small font size
     approach_release_button = Tk.Button(canvas,text="O",padx=1,pady=1,font=('Courier',2,"normal"),
                                         command=lambda:approach_release_button_event (sig_id))
     button_position = common.rotate_point(x,y,-50,0,orientation)
-    if approach_button:
-        canvas.create_window(button_position,window=approach_release_button,tags=tag)
-    else:
-        canvas.create_window(button_position,window=approach_release_button,state="hidden",tags=tag)
+    if approach_button: canvas.create_window(button_position,window=approach_release_button,tags=tag)
     # Add the Theatre elements to the dictionary of signal objects
     signals[str(sig_id)]["released"] = False                          # SHARED - State between 'released' and 'passed' events
     signals[str(sig_id)]["releaseonred"] = False                      # SHARED - State of the "Approach Release for the signal
     signals[str(sig_id)]["releaseonyel"] = False                      # SHARED - State of the "Approach Release for the signal
     signals[str(sig_id)]["releasebutton"] = approach_release_button   # SHARED - Button drawing object
     return()
 
@@ -602,16 +600,14 @@
 # delete the existing signal with all its data and then recreate it in its new configuration
 # Note that we don't delete the signal from the list_of_signals_to_publish (via MQTT) as
 # the MQTT configuration can be set completely asynchronously from create/delete signals
 # ------------------------------------------------------------------------------------------
 
 def delete_signal(sig_id:int):
     global signals
-    global list_of_signals_to_publish_state_changes
-    global list_of_signals_to_publish_passed_events
     if sig_exists(sig_id):
         # Delete all the tkinter canvas drawing objects created for the signal
         signals[str(sig_id)]["canvas"].delete("signal"+str(sig_id))
         # Delete all the tkinter button objects created for the signal
         signals[str(sig_id)]["sigbutton"].destroy()
         signals[str(sig_id)]["subbutton"].destroy()
         signals[str(sig_id)]["passedbutton"].destroy()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals_ground_disc.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals_ground_disc.py`

 * *Files 6% similar despite different names*

```diff
@@ -61,16 +61,17 @@
                                        signal_type = signals_common.sig_type.ground_disc,
                                        ext_callback = sig_callback,
                                        orientation = orientation,
                                        sig_passed_button = sig_passed_button,
                                        tag = sig_id_tag)
 
         # Add all of the signal-specific elements we need to manage Ground Position light signal types
-        signals_common.signals[str(sig_id)]["sigon"] = sigon           # Type-specific - drawing object
-        signals_common.signals[str(sig_id)]["sigoff"] = sigoff         # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sig_subtype"] = signal_subtype  # Type-specific - signal subtype
+        signals_common.signals[str(sig_id)]["sigon"] = sigon                 # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sigoff"] = sigoff               # Type-specific - drawing object
 
         # Get the initial state for the signal (if layout state has been successfully loaded)
         # Note that each element of 'loaded_state' will be 'None' if no data was loaded
         loaded_state = file_interface.get_initial_item_state("signals",sig_id)
         # Set the initial state from the "loaded" state - We only need to set the 'override' and
         # 'sigclear' for ground signals - everything else gets set when the signal is updated
         if loaded_state["override"]: signals_common.set_signal_override(sig_id)
@@ -90,19 +91,25 @@
 # Note that we expect this function to only ever get called on a state 
 # change therefore we don't track the displayed aspect of the signal
 # -------------------------------------------------------------------------
 
 def update_ground_disc_signal (sig_id:int):
     
     # Establish what the signal should be displaying based on the state
-    if not signals_common.signals[str(sig_id)]["sigclear"]:   
-        aspect_to_set = signals_common.signal_state_type.DANGER
+    if not signals_common.signals[str(sig_id)]["sigclear"]:
+        if signals_common.signals[str(sig_id)]["sig_subtype"] == ground_disc_sub_type.shunt_ahead:
+            aspect_to_set = signals_common.signal_state_type.CAUTION
+        else:
+            aspect_to_set = signals_common.signal_state_type.DANGER
         log_message = " (signal is ON)"
     elif signals_common.signals[str(sig_id)]["override"]:
-        aspect_to_set = signals_common.signal_state_type.DANGER
+        if signals_common.signals[str(sig_id)]["sig_subtype"] == ground_disc_sub_type.shunt_ahead:
+            aspect_to_set = signals_common.signal_state_type.CAUTION
+        else:
+            aspect_to_set = signals_common.signal_state_type.DANGER
         log_message = " (signal is OVERRIDDEN)"
     else:
         aspect_to_set = signals_common.signal_state_type.PROCEED
         log_message = " (signal is OFF)"
 
     # Only refresh the signal if the aspect has been changed
     if aspect_to_set != signals_common.signals[str(sig_id)]["sigstate"]:
@@ -110,15 +117,16 @@
         signals_common.signals[str(sig_id)]["sigstate"] = aspect_to_set
         
         if signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.PROCEED:
             signals_common.signals[str(sig_id)]["canvas"].itemconfigure(signals_common.signals[str(sig_id)]["sigoff"],state='normal')
             signals_common.signals[str(sig_id)]["canvas"].itemconfigure(signals_common.signals[str(sig_id)]["sigon"],state='hidden')    
             dcc_control.update_dcc_signal_element(sig_id,True,element="main_signal")
             
-        elif signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.DANGER:
+        elif ( signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.DANGER or
+               signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.CAUTION ):
             signals_common.signals[str(sig_id)]["canvas"].itemconfigure(signals_common.signals[str(sig_id)]["sigoff"],state='hidden')
             signals_common.signals[str(sig_id)]["canvas"].itemconfigure(signals_common.signals[str(sig_id)]["sigon"],state='normal')    
             dcc_control.update_dcc_signal_element(sig_id,False,element="main_signal")
             
         # Publish the signal changes to the broker (for other nodes to consume). Note that state changes will only
         # be published if the MQTT interface has been successfully configured for publishing updates for this signal
         signals_common.publish_signal_state(sig_id)
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals_ground_position.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals_ground_position.py`

 * *Files 18% similar despite different names*

```diff
@@ -82,18 +82,19 @@
                                        signal_type = signals_common.sig_type.ground_position,
                                        ext_callback = sig_callback,
                                        orientation = orientation,
                                        sig_passed_button = sig_passed_button,
                                        tag = sig_id_tag)
         
         # Add all of the signal-specific elements we need to manage Ground Position light signal types
-        signals_common.signals[str(sig_id)]["sigoff1"]  = sigoff1         # Type-specific - drawing object
-        signals_common.signals[str(sig_id)]["sigoff2"]  = sigoff2         # Type-specific - drawing object
-        signals_common.signals[str(sig_id)]["sigon1"]   = sigon1          # Type-specific - drawing object
-        signals_common.signals[str(sig_id)]["sigon2"]   = sigon2          # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sig_subtype"]  = signal_subtype  # Type-specific - Signal Subtype
+        signals_common.signals[str(sig_id)]["sigoff1"]      = sigoff1         # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sigoff2"]      = sigoff2         # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sigon1"]       = sigon1          # Type-specific - drawing object
+        signals_common.signals[str(sig_id)]["sigon2"]       = sigon2          # Type-specific - drawing object
         
         # Get the initial state for the signal (if layout state has been successfully loaded)
         # Note that each element of 'loaded_state' will be 'None' if no data was loaded
         loaded_state = file_interface.get_initial_item_state("signals",sig_id)
         # Set the initial state from the "loaded" state - We only need to set the 'override' and
         # 'sigclear' for ground signals - everything else gets set when the signal is updated
         if loaded_state["override"]: signals_common.set_signal_override(sig_id)
@@ -113,19 +114,27 @@
 # Note that we expect this function to only ever get called on a state 
 # change therefore we don't track the displayed aspect of the signal
 # -------------------------------------------------------------------------
 
 def update_ground_position_signal (sig_id:int):
 
     # Establish what the signal should be displaying based on the state
-    if not signals_common.signals[str(sig_id)]["sigclear"]:   
-        aspect_to_set = signals_common.signal_state_type.DANGER
+    if not signals_common.signals[str(sig_id)]["sigclear"]:
+        if ( signals_common.signals[str(sig_id)]["sig_subtype"] == ground_pos_sub_type.shunt_ahead or
+             signals_common.signals[str(sig_id)]["sig_subtype"] == ground_pos_sub_type.early_shunt_ahead ):
+            aspect_to_set = signals_common.signal_state_type.CAUTION
+        else:
+            aspect_to_set = signals_common.signal_state_type.DANGER
         log_message = " (signal is ON)"
     elif signals_common.signals[str(sig_id)]["override"]:
-        aspect_to_set = signals_common.signal_state_type.DANGER
+        if ( signals_common.signals[str(sig_id)]["sig_subtype"] == ground_pos_sub_type.shunt_ahead or
+             signals_common.signals[str(sig_id)]["sig_subtype"] == ground_pos_sub_type.early_shunt_ahead ):
+            aspect_to_set = signals_common.signal_state_type.CAUTION
+        else:
+            aspect_to_set = signals_common.signal_state_type.DANGER
         log_message = " (signal is OVERRIDDEN)"
     else:
         aspect_to_set = signals_common.signal_state_type.PROCEED
         log_message = " (signal is OFF)"
         
     # Only refresh the signal if the aspect has been changed
     if aspect_to_set != signals_common.signals[str(sig_id)]["sigstate"]:
@@ -134,23 +143,24 @@
 
         if signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.PROCEED:
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigoff1"],state="normal")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigoff2"],state="normal")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigon1"],state="hidden")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigon2"],state="hidden")
 
-        elif signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.DANGER:
+        elif ( signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.DANGER or
+               signals_common.signals[str(sig_id)]["sigstate"] == signals_common.signal_state_type.CAUTION):
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigoff1"],state="hidden")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigoff2"],state="hidden")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigon1"],state="normal")
             signals_common.signals[str(sig_id)]["canvas"].itemconfig(signals_common.signals[str(sig_id)]["sigon2"],state="normal")
             
         # Send the required DCC bus commands to change the signal to the desired aspect. Note that commands will only
         # be sent if the Pi-SPROG interface has been successfully configured and a DCC mapping exists for the signal
-        dcc_control.update_dcc_signal_aspects(sig_id)
+        dcc_control.update_dcc_signal_aspects(sig_id, aspect_to_set)
         
         # Publish the signal changes to the broker (for other nodes to consume). Note that state changes will only
         # be published if the MQTT interface has been successfully configured for publishing updates for this signal
         signals_common.publish_signal_state(sig_id)            
         
     return ()
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/signals_semaphores.py` & `model_railway_signals-4.2.0/model_railway_signals/library/signals_semaphores.py`

 * *Files 1% similar despite different names*

```diff
@@ -233,34 +233,24 @@
         if not rh1_subsidary: rh1_subsidary = None
         if not lh2_subsidary: lh2_subsidary = None
         if not rh2_subsidary: rh2_subsidary = None
         if not lh1_signal: lh1_signal = None
         if not rh1_signal: rh1_signal = None
         if not lh2_signal: lh2_signal = None
         if not rh2_signal: rh2_signal = None
-
-        # If this is a distant signal associated with another home signal then we need to adjust the
-        # position of the signal button to "deconflict" with the buttons of the home signal
-        if associated_home > 0:
-            if signals_common.signals[str(associated_home)]["hassubsidary"]:
-                button_offset = -65
-            else:
-                button_offset = -45
-        else:
-            button_offset = 0
             
         # Create all of the signal elements common to all signal types
         signals_common.create_common_signal_elements (canvas, sig_id, x, y,
                                        ext_callback = sig_callback,
                                        signal_type = signals_common.sig_type.semaphore,
                                        orientation = orientation,
                                        subsidary = has_subsidary,
                                        sig_passed_button = sig_passed_button,
                                        automatic = fully_automatic,
-                                       distant_button_offset = button_offset,
+                                       associated_home = associated_home,
                                        tag = sig_id_tag)
         
         # Create the signal elements for a Theatre Route indicator
         signals_common.create_theatre_route_elements (canvas, sig_id, x, y, xoff=25, yoff = postoffset,
                                         orientation = orientation,has_theatre = theatre_route_indicator)
 
         # Create the signal elements to support Approach Control
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/track_sections.py` & `model_railway_signals-4.2.0/model_railway_signals/library/track_sections.py`

 * *Files 0% similar despite different names*

```diff
@@ -224,16 +224,14 @@
 
 def create_section (canvas, section_id:int, x:int, y:int,
                     section_callback = null_callback,
                     label:str = "OCCUPIED",
                     editable:bool = True):
     global sections
     logging.info ("Section "+str(section_id)+": Creating Track Occupancy Section")
-    # Find and store the root window (when the first signal is created)
-    if common.root_window is None: common.find_root_window(canvas)
     # Verify that a section with the same ID does not already exist
     if section_exists(section_id):
         logging.error ("Section "+str(section_id)+": Section already exists")
     elif section_id < 1:
         logging.error ("Section "+str(section_id)+": Section ID must be greater than zero")
     else:
         # Create the button objects and their callbacks
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/track_sensors.py` & `model_railway_signals-4.2.0/model_railway_signals/library/gpio_sensors.py`

 * *Files 12% similar despite different names*

```diff
@@ -1,494 +1,549 @@
-# ----------------------------------------------------------------------------------------------------------------------------
-# This module is used for creating Track Sensor objects (Sensors) mapped to GPIO Pins
-# ----------------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# This module is used for creating and managing GPIO Sensor library objects (mapped to GPIO ports)
+#---------------------------------------------------------------------------------------------------
 #
-# Public types and functions:
+# External API - the classes and functions (used by the Schematic Editor):
 # 
-# sensor_callback_type (tells the calling program what has triggered the callback):
-#     track_sensor_callback_type.sensor_triggered - The external sensor has been triggered
-# 
-# create_sensor - Creates a sensor object
-#   Mandatory Parameters:
-#       sensor_id:int - The ID to be used for the sensor 
-#       gpio_channel:int - The GPIO port number for the sensor (not the physical pin number)
-#   Optional Parameters:
-#       sensor_timeout:float - Time period for ignoring further triggers - default = 3.0 secs
-#       trigger_period:float - Active duration for sensor before triggering - default = 0.001 secs
-#       signal_passed:int    - Raise a "signal passed" event for a signal ID - default = None
-#       signal_approach:int  - Raise an "approach release" event for a signal ID - default = None
-#       sensor_callback      - Function to call when a sensor has been triggered - default = None
-#                              Only one of signal_passed, signal_approach or callback can be specified
-#                              Note that for callback, the function returns (item_id, callback type)
-# 
-# sensor_active (sensor_id:int/str) - Returns the current state of the sensor (True/False)
+#   gpio_interface_enabled() - returns True if the platform supports GPIO inputs 
+#
+#   get_list_of_available_ports() - returns a list of supported GPIO ports
+#
+#   gpio_shutdown() - Return all GPIO ports to their default states
+#
+#   gpio_sensor_exists(sensor_id:int/str) - returns true if the GPIO sensor object 'exists' (either a GPIO port
+#        mapping has been configured for the sensor_id or the sensor_id has been subscribed to via MQTT networking)
+#
+# The following API functions are for configuring the local GPIO port mappings. The functions are called
+# by the editor on 'Apply' of the GPIO settings. First, 'delete_all_local_gpio_sensors' is called to clear
+# down all the existing mappings, followed by 'create_gpio_sensor' for each sensor that has been mapped
 #
-# get_list_of_available_ports() - returns a list of supported ports
+#   delete_all_local_gpio_sensors() - Delete all local GPIO sensor objects
 #
-# ------------------------------------------------------------------------------------------
+#   create_gpio_sensor - Creates a GPIO sensor object (effectively a GPIO port mapping)
+#      Mandatory Parameters:
+#         sensor_id:int - The ID to be used for the sensor 
+#         gpio_channel:int - The GPIO port port for the sensor (not the physical pin number)
+#      Optional Parameters:
+#         trigger_period:float - Active duration for sensor before triggering - default = 0.001 secs
+#         sensor_timeout:float - Time period for ignoring further triggers - default = 3.0 secs
+#         signal_passed:int    - Configure a "signal passed" event for a Signal ID (default = 0)
+#         signal_approach:int  - Configure a "approach release" event for a Signal ID (default = 0
+#         sensor_passed:int    - Configure a "Track Sensor passed" event for a Track Sensor ID (default = 0)
 #
-# The following functions are associated with the MQTT networking Feature:
+# The following API functions are for adding/removing Signal and Track Sensor callback events to the GPIO
+# Sensor.  The 'remove_gpio_sensor_callback' function is called by the editor whenever a Signal or Track Sensor
+# object (which references the GPIO sensor in its configuration) is hard deleted from the schematic. It is
+# also called on a Signal or Track Sensor configuration object to delete the existing callback mapping prior
+# to the new mapping being created via the 'add_gpio_sensor_callback' function. Note that Signals and Track
+# Sensors can be mapped to local or remote GPIO Sensors so the Sensor ID can be an integer or a string.
 #
-# subscribe_to_remote_sensor - Subscribes to a remote track sensor object
-#   Mandatory Parameters:
-#       remote_identifier:str - the remote identifier for the sensor in the form 'node-id'
-#   Optional Parameters:
-#       signal_passed:int    - Raise a "signal passed" event for a signal ID - default = None
-#       signal_approach:int  - Raise an "approach release" event for a signal ID - default = None
-#       sensor_callback      - Function to call when a sensor has been triggered - default = None
-#                              Only one of signal_passed, signal_approach or callback can be specified
-#                              Note that for callback, the function returns (item_id, callback type)
+#   get_gpio_sensor_callback(sensor_id:int/str) - returns a list of current callbacks for the GPIO Sensor
+#                                      list comprises: [signal_passed, signal_approach, sensor_passed]
+#
+#   remove_gpio_sensor_callback(sensor_id:int/str) - Remove the callback from the specified GPIO Sensor
+#
+#   add_gpio_sensor_callback 
+#      Mandatory Parameters:
+#         sensor_id:int/str   - The local or remote (in the form 'node-id') GPIO Sensor ID 
+#      Optional Parameters:
+#         signal_passed:int   - Configure a "signal passed" event for a Signal ID (default = 0)
+#         signal_approach:int - Configure a "approach release" event for a Signal ID (default = 0
+#         sensor_passed:int   - Configure a "Track Sensor passed" event for a Track Sensor ID (default = 0)
+#
+# The following API functions are for configuring the pub/sub of GPIO Sensor events. The functions are called
+# by the editor on 'Apply' of the MQTT settings. First, 'reset_mqtt_configuration' is called to clear down
+# the existing pub/sub configuration, followed by 'set_sensors_to_publish_state' (with the list of LOCAL GPIO
+# Sensors to publish) and 'subscribe_to_remote_sensor' for each REMOTE GPIO Sensor that has been subscribed.
+#
+#   reset_mqtt_configuration() - Clears down the current GPIO Sensor pub/sub configuration
 # 
-#   set_sensors_to_publish_state- Enable the publication of state updates for track sensors.
-#                All subsequent changes will be automatically published to remote subscribers
-#   Mandatory Parameters:
-#       *sensor_ids:int - The track sensors to publish (multiple Sensor IDs can be specified)
+#   set_gpio_sensors_to_publish_state (*sensor_ids:int) - Enable the publication of GPIO Sensor trigger events.
 #
-# ----------------------------------------------------------------------------------------------------------------------------
+#   subscribe_to_remote_gpio_sensor - Subscribes to a remote GPIO Sensor object and configures the callback event
+#      Mandatory Parameters:
+#         remote_id:str       - The remote GPIO Sensor identifier (in the form 'node-id')
+#      Optional Parameters:
+#         signal_passed:int   - Configure a "signal passed" event for a Signal ID (default = 0)
+#         signal_approach:int - Configure a "approach release" event for a Signal ID (default = 0
+#         sensor_passed:int   - Configure a "Track Sensor passed" event for a Track Sensor ID (default = 0)
+# 
+# External API - classes and functions (used by the other library modules):
+#
+#   handle_mqtt_gpio_sensor_triggered_event(message:dict) - Called on receipt of a remote 'gpio_sensor_event'
+#
+#---------------------------------------------------------------------------------------------------
 
-import enum
 import time
 import threading
 import logging
 from typing import Union
+
 from . import common
 from . import signals_common
+from . import track_sensors
 from . import mqtt_interface
 
-# -----------------------------------------------------------------------------------------------------------
-# Classes used by external functions when using track sensors
-# -----------------------------------------------------------------------------------------------------------
-    
-class track_sensor_callback_type(enum.Enum):
-    sensor_triggered = 31   # The sensor has been triggered (FALLING Event)
-
-# ----------------------------------------------------------------------------------------------------------------------------
-# We can only use GPIO interface if we're running on a Raspberry Pi. Other Platforms don't include
-# the RPi specific GPIO package so this is a quick and dirty way of detecting it on startup.
-# The result (True or False) is maintained in the global 'raspberry_pi' variable
-# ----------------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# We can only use gpiozero interface if we're running on a Raspberry Pi. Other Platforms may not
+# include the RPi specific GPIO package so this is a quick and dirty way of detecting it on startup.
+# The result (True or False) is maintained in the global 'running_on_raspberry_pi' variable
+#---------------------------------------------------------------------------------------------------
 
-def is_raspberrypi():
-    global GPIO
+def is_running_on_raspberry_pi():
+    global gpiozero
     try:
-        import RPi.GPIO as GPIO
-        GPIO.setwarnings(False)
-        GPIO.setmode(GPIO.BCM)     # We want to refer to the ports by port number and not physical pin number
+        import gpiozero
         return (True)
-    except Exception: pass
+    except Exception:
+        logging.warning("GPIO Interface: Not running on a Raspberry Pi - track sensors will be inoperative")
     return (False)
 
-raspberry_pi = is_raspberrypi()
+running_on_raspberry_pi = is_running_on_raspberry_pi()
 
-# ----------------------------------------------------------------------------------------------------------------------------
-# Public API function to return a list of available ports. This is provided to make the software extensible
-# as and when I get around to adding support for add-on GPIO HATs (to provide additional inputs)
-# We don't use GPIO 14, 15, 16 or 17  as these are used for UART comms with the PI-SPROG-3 (Tx, Rx, CTS, RTS)
+#---------------------------------------------------------------------------------------------------
+# API Function for external modules to test if GPIO inputs are supported by the platform
+#---------------------------------------------------------------------------------------------------
+
+def gpio_interface_enabled():
+    return (running_on_raspberry_pi)
+
+#---------------------------------------------------------------------------------------------------
+# API function to return a list of available GPIO ports.
+# We don't use GPIO 14, 15, 16 or 17 as these are used for UART comms with the PI-SPROG-3 (Tx, Rx, CTS, RTS)
 # We don't use GPIO 0, 1, 2, 3 as these are the I2C (which we might want to use later)
-# ----------------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
 
 def get_list_of_available_ports():
     return ([4,5,6,7,8,9,10,11,12,13,18,19,20,21,22,23,24,25,26,27])
 
-# -----------------------------------------------------------------------------------------------------------
-# Gpio port mappings are stored in a global dictionary when created with the key beign the GPIO sensor ID
-# Each Entry is a dictionary specific to the GPIO sensor with the following Keys:
-# "sensor_id"       : the unique ID for the sensor (int between 1 and 99)
-# "callback"        : The callback to make when a sensor is triggered (if not mapped to a signal event)
-# "signal_approach" : The signal ID to generate a 'signal approached' event for when triggered
-# "signal_passed"   : The signal ID to generate a 'signal passed' event for when triggered
-# "trigger_period"  : The period during which the sensor must remain active before triggering
-# "timeout_start"   : The time the sensor was triggered (after the trigger_period)
-# "timeout_value"   : Time period (from timeout_start) for ignoring further triggers
-# "timeout_active"  : Flag for whether the sensor is still within the timeout period
-# "sensor_state"    : Flag for whether the sensor is 'on' (triggered) or 'off' (reset)
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# GPIO port mappings are stored in a global dictionary when created - key is the GPIO port ID 
+# Each Entry is a dictionary specific to the GPIO port that has been mapped with the following Keys:
+# "sensor_id"       : Unique ID for the sensor - int (for local sensors) or str (for remote sensors)
+# "signal_approach" : The signal ID (to raise a 'signal approached' event when triggered) - int
+# "signal_passed"   : The signal ID (to raise a 'signal passed' event for when triggered) - int
+# "sensor_passed"   : The Track Sensor ID (to raise a 'sensor passed' event when triggered) - int
+# "trigger_delay"   : Time that the GPIO port must remain active to raise a trigger event - float
+# "timeout_value"   : Time period (from initial trigger event) for ignoring further triggers - float
+# "sensor_device"   : The reference to the gpiozero button object mapped to the GPIO port
+# "timeout_start"   : The time the sensor was triggered (after any 'debounce period) - time
+# "timeout_active"  : Flag for whether the sensor is still within the timeout period - bool
+#---------------------------------------------------------------------------------------------------
 
 gpio_port_mappings: dict = {}
 
-# -----------------------------------------------------------------------------------------------------------
-# Global list of track sensors to publish to the MQTT Broker
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# Global list of track GPIO Sensor IDs (integers) to publish to the MQTT Broker
+#---------------------------------------------------------------------------------------------------
 
 list_of_track_sensors_to_publish=[]
 
-# -----------------------------------------------------------------------------------------------------------
-# The default "External" callback function for the sensor
-# This is called on events if an external callback hasn't neen specified
-# -----------------------------------------------------------------------------------------------------------
-
-def null_callback(sensor_id:int,callback_type):
-    return(sensor_id,callback_type)
-
-# -----------------------------------------------------------------------------------------------------------
-# Internal function to check if a gpio port has been confifured (returns True/False)
-# -----------------------------------------------------------------------------------------------------------
-
-def gpio_port_is_configured(gpio_port_number:Union[int,str]):
-    return (str(gpio_port_number) in gpio_port_mappings.keys() )
-
-# -----------------------------------------------------------------------------------------------------------
-# Internal function to return the GPIO port that a sensor has been mapped to (None if no mapping exists)
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# Internal function to find the key in the gpio_port_mappings dictionary for a given Sensor ID
+# Note that the gpio_port is returned as a str (as it represents the key to the dict entry)
+#---------------------------------------------------------------------------------------------------
 
-def mapped_gpio_port(sensor_id:int):
+def mapped_gpio_port(sensor_id:Union[int,str]):
     for gpio_port in gpio_port_mappings.keys():
         if str(gpio_port_mappings[gpio_port]["sensor_id"]) == str(sensor_id):
             return(gpio_port)
-    return(None)
+    return("None")
 
-# -----------------------------------------------------------------------------------------------------------
-# Internal Function to check if a sensor exists (either mapped or subscribed to via mqtt metworking)
-# -----------------------------------------------------------------------------------------------------------
-
-def sensor_exists(sensor_id:Union[int,str]):
-    for gpio_port in gpio_port_mappings.keys():
-        if str(gpio_port_mappings[gpio_port]["sensor_id"]) == str(sensor_id):
-            return(True)
-    return(None)
+#---------------------------------------------------------------------------------------------------
+# API Function to check if a sensor exists (either mapped or subscribed to via mqtt metworking)
+#---------------------------------------------------------------------------------------------------
+
+def gpio_sensor_exists(sensor_id:Union[int,str]):
+    # The sensor_id could be either an int (local sensor) or a str (remote sensor)
+    if not isinstance(sensor_id, int) and not isinstance(sensor_id, str):
+        logging.error("GPIO Sensor "+str(sensor_id)+": gpio_sensor_exists - Sensor ID must be an int or str")
+        sensor_exists = False
+    else:
+        sensor_exists = mapped_gpio_port(sensor_id) != "None"
+    return(sensor_exists)
 
-# -----------------------------------------------------------------------------------------------------------
-# Internal Test functions to simulate local GPIO events (support for system test harness
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# Thread to "lock" the sensor for the specified timeout period after gpio_sensor_triggered
+# Any re-triggers during this period are ignored (they just extend the timeout period)
+# Note that the thread_to_timeout_sensor would normally only get run for 'real' GPIO events
+# where the gpiozero device would exist and would be released during the timeout period.
+# We therefore have to provide a specific "testing" flag to enable the code to be tested.
+#---------------------------------------------------------------------------------------------------
 
-def simulate_sensor_triggered(gpio_port:int):
+def thread_to_timeout_sensor(gpio_port:int, testing:bool):
     global gpio_port_mappings
-    gpio_port_mappings[str(gpio_port)]["sensor_state"] = True
-    sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
-    logging.info("Sensor "+str(sensor_id)+": Simulated Trigger Event ***********************************************")
-    send_mqtt_track_sensor_updated_event(sensor_id)
-    make_track_sensor_callback(gpio_port)
-    return()
-    
-def simulate_sensor_reset(gpio_port:int):
-    global gpio_port_mappings
-    gpio_port_mappings[str(gpio_port)]["sensor_state"] = False
-    sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
-    logging.debug("Sensor "+str(sensor_id)+": Simulated Reset Event *************************************************")
-    send_mqtt_track_sensor_updated_event(sensor_id)
-    return()
-
-# -----------------------------------------------------------------------------------------------------------
-# Internal Function to make the appropriate callback (callback or signal approach/passed event)
-# for both local track sensors and remote (subscribed to via MQTT networking) track sensors
-# Note that we call into the main tkinter thread to process the callback. We do this as all the
-# information out there on the internet concludes tkinter isn't fully thread safe and so all  
-# manipulation of tkinter drawing objects should be done from within the main tkinter thread 
-# If a Tkinter window hasn't been created (i.e. the model_railway_signals package is just being 
-# used for the sensor functionality, then we make a callback in the thread we happen to be in
-# -----------------------------------------------------------------------------------------------------------
-
-def make_track_sensor_callback(gpio_port):
-    if gpio_port_mappings[str(gpio_port)]["signal_passed"] > 0:
-        sig_id = gpio_port_mappings[str(gpio_port)]["signal_passed"]
-        if not signals_common.sig_exists(sig_id):
-            logging.error ("Signal "+str(sig_id)+": trigger_signal_passed_event - Signal does not exist")
-        else:
-            # Raise a signal passed event in the main tkinter thread (if the signal exists)
-            # If the signal exists then we know there is a main tkinter root window
-            common.execute_function_in_tkinter_thread(lambda:signals_common.sig_passed_button_event(sig_id))
-    elif gpio_port_mappings[str(gpio_port)]["signal_approach"] > 0:
-        sig_id = gpio_port_mappings[str(gpio_port)]["signal_approach"]
-        if not signals_common.sig_exists(sig_id):
-            logging.error ("Signal "+str(sig_id)+": trigger_signal_approach_event - Signal does not exist")
-        elif (signals_common.signals[str(sig_id)]["sigtype"] in
-              (signals_common.sig_type.colour_light, signals_common.sig_type.semaphore) ):
-            # If the signal exists then we know there is a main tkinter root window
-            # Raise a signal approach event in the main tkinter thread (if the signal exists)
-            common.execute_function_in_tkinter_thread(lambda:signals_common.approach_release_button_event(sig_id))
-        else:
-            logging.error ("Signal "+str(sig_id)+": trigger_signal_approach_event - Function not supported by signal type")
-    else:
-        # Raise a callback - either in the main tkinter thread if we know the main root window or the current gpio thread
+    # We put exception handling round the entirethread to handle the case of a gpio sensor mapping
+    # being deleted whilst the timeout period is still active - in this case we just exit gracefully
+    try:
+        # Wait for the timeout period to expire (if the sensor is released and triggered again within the
+        # timeout period then the timeout will just be extended). Note that the loop will immediately exit
+        # if the shutdown has been initiated (which will delete the gpio zero button objects)
+        while (time.time() <  (gpio_port_mappings[str(gpio_port)]["timeout_start"]
+                + gpio_port_mappings[str(gpio_port)]["timeout_value"]) and not common.shutdown_initiated):
+            # We also wait for the button to be released before trporting the Event release.
+            while not testing and not common.shutdown_initiated and gpio_port_mappings[str(gpio_port)]["sensor_device"].is_pressed:
+                time.sleep(0.0001)
+        # Reset the sensor at the end of the timeout period
         sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
-        callback = gpio_port_mappings[str(gpio_port)]["callback"]
-        common.execute_function_in_tkinter_thread (lambda: callback(sensor_id,track_sensor_callback_type.sensor_triggered))
+        logging.debug("GPIO Sensor "+str(sensor_id)+": Event Reset **********************************************")
+        gpio_port_mappings[str(gpio_port)]["timeout_active"] = False
+    except:
+        pass
     return()
 
-# -----------------------------------------------------------------------------------------------------------
-# Internal function called each time a RISING or FALLING event is detected for the external GPIO port.
-# We wait for the trigger_delay period and then check the sensor is still in the same state before raising
-# the specified callback event (to alow any spurious "spikes" on the GPIO inputs to be filtered out).
-# We also apply a timeout period for each event to prevent re-triggering until the timeout has completed.
+#---------------------------------------------------------------------------------------------------
+# Internal function called whenever a "Button Press" event is detected for the external GPIO port.
+# A timeout is applied to the button press event to prevent re-triggering until the timeout has completed.
 # This is to handle optical sensors which might Fall and then Rise when each carrage/waggon passes over.
 # If the sensor is still within the timeout period (from the last time it was triggered) then the timeout
-# will effectively be extended. Only if we are not in the timout period will the external callback be made.
-# -----------------------------------------------------------------------------------------------------------
+# will effectively be extended - otherwise a new timeout period will be started and the callback made.
+# Note that the gpio_sensor_triggered function would normally only get triggered for 'real' GPIO events
+# where the gpiozero device would exist and would still be pressed at the end of the trigger period.
+# We therefore have to provide a specific "testing" flag to enable the code to be tested.
+#---------------------------------------------------------------------------------------------------
+                
+def gpio_sensor_triggered(gpio_port:int, testing:bool=False):
+    global gpio_port_mappings
+    # Wait for the trigger period to complete
+    time.sleep(gpio_port_mappings[str(gpio_port)]["trigger_period"])
+    # Only process the event if shutdown has not been not initiated and the trigger is still active
+    if not common.shutdown_initiated and (testing or gpio_port_mappings[str(gpio_port)]["sensor_device"].is_pressed):
+        # If we are still in the timeout period then ignore the trigger event (but Reset the timeout period)
+        if gpio_port_mappings[str(gpio_port)]["timeout_active"]:
+            gpio_port_mappings[str(gpio_port)]["timeout_start"] = time.time()
+        else:
+            # Start a new timeout thread
+            gpio_port_mappings[str(gpio_port)]["timeout_active"] = True
+            gpio_port_mappings[str(gpio_port)]["timeout_start"] = time.time()
+            timeout_thread = threading.Thread (target=thread_to_timeout_sensor, args=(gpio_port,testing,))
+            timeout_thread.setDaemon(True)
+            timeout_thread.start()
+            # Transmit the state via MQTT networking (will only be sent if configured to publish) and 
+            # Make the appropriate callback (triggered callback or signal approach/passed event)
+            sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
+            logging.info("GPIO Sensor "+str(sensor_id)+": Triggered Event *******************************************")
+            send_mqtt_gpio_sensor_triggered_event(sensor_id)
+            # Note that this function will be running in a different thread to the main Tkinter thread
+            # We therefore callback into the main Tkinter thread to process the event
+            common.execute_function_in_tkinter_thread(lambda:make_gpio_sensor_triggered_callback(sensor_id))
+    return()
+
+#---------------------------------------------------------------------------------------------------
+# Internal function for building and sending MQTT messages (if configured to publish)
+#---------------------------------------------------------------------------------------------------
 
-def track_sensor_triggered (gpio_port:int):
+def send_mqtt_gpio_sensor_triggered_event(sensor_id:int):
+    if sensor_id in list_of_track_sensors_to_publish:
+        log_message = "GPIO Sensor "+str(sensor_id)+": Publishing 'sensor triggered' event to MQTT Broker"
+        # Publish as non "retained" messages as these events are transitory
+        mqtt_interface.send_mqtt_message("gpio_sensor_event",sensor_id,data={},log_message=log_message,retain=False)
+    return()
 
-    # Common Thread function to "lock" the sensor for the specified timeout period
-    # Used by both the track_sensor_triggered and track_sensor_reset functions
-    def thread_to_timeout_sensor (gpio_port):
-        global gpio_port_mappings
-        gpio_port_mappings[str(gpio_port)]["timeout_start"] = time.time()
-        gpio_port_mappings[str(gpio_port)]["timeout_active"] = True
-        while time.time() < gpio_port_mappings[str(gpio_port)]["timeout_start"] + gpio_port_mappings[str(gpio_port)]["timeout_value"]:
-            time.sleep(0.0001)
-        gpio_port_mappings[str(gpio_port)]["timeout_active"] = False
-        # Set the internal state back to the current state at completion of the timeout
-        # Don't forget the state of the track sensor is the reverse of the port state
-        if gpio_port_mappings[str(gpio_port)]["sensor_state"] == GPIO.input(gpio_port):
-            gpio_port_mappings[str(gpio_port)]["sensor_state"] = not GPIO.input(gpio_port)
-            send_mqtt_track_sensor_updated_event(sensor_id)
-        return()
-    
-    # The main code starts here
-    global gpio_port_mappings
-    if not gpio_port_is_configured (gpio_port):
-        logging.error ("GPIO Port "+str(gpio_port)+": Is not configured")
+#---------------------------------------------------------------------------------------------------
+# API callback function for handling received MQTT messages from a remote track sensor
+# Note that this function will already be running in the main Tkinter thread
+#---------------------------------------------------------------------------------------------------
+
+def handle_mqtt_gpio_sensor_triggered_event(message):
+    if "sourceidentifier" not in message.keys() or not gpio_sensor_exists(message["sourceidentifier"]):
+        logging.warning("GPIO Interface: handle_mqtt_gpio_sensor_triggered_event - Unhandled MQTT message - "+str(message))
     else:
-        # Get the current state of the port (immediately after the trigger)
-        gpio_state = GPIO.input(gpio_port)
-        # Wait for the trigger delay period and then check the sensor is still in the same state
-        # We do this to provide 'debounce - i.e. filter out spurious "spikes" on the GPIO inputs
-        time.sleep (gpio_port_mappings[str(gpio_port)]["trigger_period"])
-        if gpio_state == GPIO.input(gpio_port):
-            # If we are still in the timeout period then ignore the event (RISING or FALLING)
-            # But Reset the timeout period if it is a FALLING Event (i.e. track sensor triggered)
-            if gpio_port_mappings[str(gpio_port)]["timeout_active"]:
-                if not gpio_state: gpio_port_mappings[str(gpio_port)]["timeout_start"] = time.time()
-            elif gpio_state:
-                # Maintain the state locally (so it can be queried without querying the GPIO port)
-                # We do this for consistency with how remote (MQTT) track sensors are handled
-                gpio_port_mappings[str(gpio_port)]["sensor_state"] = False
-                # Transmit the state via MQTT networking (will only be sent if configured to publish). Note that
-                # we do not make any callbacks when the sensor is reset as we only use the RISING event to update
-                # the internally-held track sensor state and update any remote nodes via MQTT networking.
-                sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
-                send_mqtt_track_sensor_updated_event(sensor_id)
-            else:
-                # Maintain the state locally (so it can be queried without querying the GPIO port
-                # We do this for consistency with how remote  (MQTT) track sensors are handled
-                gpio_port_mappings[str(gpio_port)]["sensor_state"] = True
-                # Start a new timeout thread
-                timeout_thread = threading.Thread (target=thread_to_timeout_sensor, args=(gpio_port,))
-                timeout_thread.start()
-                # Transmit the state via MQTT networking (will only be sent if configured to publish) and 
-                # Make the appropriate callback (triggered callback or signal approach/passed event)
-                sensor_id = gpio_port_mappings[str(gpio_port)]["sensor_id"]
-                logging.info("Sensor "+str(sensor_id)+": Triggered Event **************************************************")
-                send_mqtt_track_sensor_updated_event(sensor_id)
-                make_track_sensor_callback(gpio_port)
-    return()            
+        # Note that the remote sensor object would have been created with the sensor_identifier 
+        # as the 'key' to the dict of gpio_port_mappings rather than the GPIO port number
+        logging.info("GPIO Sensor "+message["sourceidentifier"]+": Remote GPIO sensor has been triggered *********************")
+        # We are already running in the main Tkinter thread so just call the function to make the callback
+        make_gpio_sensor_triggered_callback(message["sourceidentifier"])
+    return()
+
+#---------------------------------------------------------------------------------------------------
+# Internal Function to raise the appropriate event ('signal passed', 'signal approached' or
+# 'track sensor passed') - by calling in to the appropriate library module. Note that this
+# function will be called from within the main Tkinter thread so the callback we make
+# will also be executed in the main Tkinter Thread
+#---------------------------------------------------------------------------------------------------
+
+def make_gpio_sensor_triggered_callback(sensor_id:Union[int,str]):
+    # The sensor_id could be either an int (local sensor) or a str (remote sensor)
+    str_gpio_port = mapped_gpio_port(sensor_id)
+    if gpio_port_mappings[str_gpio_port]["signal_passed"] > 0:
+        sig_id = gpio_port_mappings[str_gpio_port]["signal_passed"]
+        signals_common.sig_passed_button_event(sig_id)
+    elif gpio_port_mappings[str_gpio_port]["signal_approach"] > 0:
+        sig_id = gpio_port_mappings[str_gpio_port]["signal_approach"]
+        signals_common.approach_release_button_event(sig_id)
+    elif gpio_port_mappings[str_gpio_port]["sensor_passed"] > 0:
+        sensor_id = gpio_port_mappings[str_gpio_port]["sensor_passed"]
+        track_sensors.track_sensor_triggered(sensor_id)
+    return()
 
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
 # Public API function to create a sensor object (mapped to a GPIO channel)
 # All attributes (that need to be tracked) are stored as a dictionary
 # This is then added to a dictionary of sensors for later reference
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
 
-def create_track_sensor (sensor_id:int, gpio_channel:int,
-                         sensor_callback = null_callback,
-                         signal_passed:int = 0,
-                         signal_approach:int = 0,
-                         sensor_timeout:float = 3.0,
-                         trigger_period:float = 0.001):
-    global gpio_port_mappings 
-    # Validate the parameters we have been given
-    logging.info ("Sensor "+str(sensor_id)+": Creating track sensor mapping for GPIO "+str(gpio_channel))
-    if not isinstance(sensor_id, int) or sensor_id < 1:
-        logging.error ("Sensor "+str(sensor_id)+": Sensor ID must be an integer greater than zero")
-    elif gpio_port_is_configured(gpio_channel):
-        logging.error ("Sensor "+str(sensor_id)+": GPIO port "+str(gpio_channel)+" is already mapped to another Sensor")
+def create_gpio_sensor (sensor_id:int, gpio_channel:int,
+                        signal_passed:int = 0,
+                        signal_approach:int = 0,
+                        sensor_passed:int = 0,
+                        sensor_timeout:float = 3.0,
+                        trigger_period:float = 0.001):
+    global gpio_port_mappings
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(sensor_id,int) or sensor_id < 1:
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Sensor ID must be a positive integer")
+    elif gpio_sensor_exists(sensor_id):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Sensor ID already exists")
+    elif not isinstance(signal_passed,int):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Signal ID (passed) must be an integer")
+    elif not isinstance(signal_approach,int):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Signal ID (approach) must be integer")
+    elif not isinstance(sensor_passed,int):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Track Sensor ID must be an integer")
+    elif ( (signal_passed > 0 and signal_approach > 0) or (signal_passed > 0 and sensor_passed > 0)
+                       or (signal_approach > 0 and sensor_passed > 0) ):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Multiple linked events specified")
+    elif not isinstance(sensor_timeout,float):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Sensor timeout must be a float")
+    elif sensor_timeout < 0.0:
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Sensor timeout must be >= 0.0 seconds")
+    elif not isinstance(trigger_period,float):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Trigger period must be a float")
+    elif trigger_period < 0.0:
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Trigger period must be >= 0.0 seconds")
+    elif not isinstance(gpio_channel,int):
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - GPIO port must be integer")
     elif gpio_channel not in get_list_of_available_ports():
-        logging.error ("Sensor "+str(sensor_id)+": Invalid GPIO Port "+str(gpio_channel)
-                        + " - Supported GPIO ports are: " + str(get_list_of_available_ports()))
-    elif signal_passed > 0 and signal_approach > 0:
-        logging.error ("Sensor "+str(sensor_id)+": Can only map to a signal_passed event OR a signal_approach event")
-    elif (signal_passed > 0 or signal_approach) > 0 and sensor_callback != null_callback:
-        logging.error ("Sensor "+str(sensor_id)+": Cannot specify a sensor_callback AND map to a signal event")
-    elif sensor_exists(sensor_id):
-        logging.error ("Sensor "+str(sensor_id)+": Sensor already exists - mapped to GPIO Port "+mapped_gpio_port(sensor_id))
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - Invalid GPIO Port "+str(gpio_channel))
+    elif str(gpio_channel) in gpio_port_mappings.keys():
+        logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - GPIO port "+str(gpio_channel)+" is already mapped")
     else:
-        # We're good to go and create the sensor mapping, but we only configure the GPIO if running on a Pi
-        if raspberry_pi:
-            GPIO.setup(gpio_channel, GPIO.IN, pull_up_down=GPIO.PUD_UP)
-            GPIO.add_event_detect(gpio_channel, GPIO.BOTH, callback=track_sensor_triggered)
-        else:
-            logging.warning ("Sensor "+str(sensor_id)+": Not running on a Raspberry Pi - GPIO inputs will be non-functional")
-        # Add the to the dictionaries of sensors and channels
+        if signal_passed > 0: message = " - will trigger Signal "+str(signal_passed)+ " 'passed' event"
+        elif signal_approach > 0: message = " - will trigger Signal "+str(signal_approach)+ " 'approach' event"
+        elif sensor_passed > 0: message = " - will trigger Track Section "+str(sensor_passed)+ " 'passed' event"
+        else: message = ""
+        logging.debug("GPIO Sensor "+str(sensor_id)+": Mapping sensor to GPIO Port "+str(gpio_channel)+message)
+        # Create the track sensor entry in the dictionary of gpio_port_mappings
         gpio_port_mappings[str(gpio_channel)] = {"sensor_id"       : sensor_id,
-                                                 "callback"        : sensor_callback,
                                                  "signal_approach" : signal_approach,
                                                  "signal_passed"   : signal_passed,
+                                                 "sensor_passed"   : sensor_passed,
                                                  "trigger_period"  : trigger_period,
-                                                 "timeout_start"   : time.time(),
                                                  "timeout_value"   : sensor_timeout,
+                                                 "sensor_device"   : None,
+                                                 "timeout_start"   : None,
                                                  "timeout_active"  : False,
                                                  "sensor_state"    : False}
-        # Read the initial state for the Sensor and send via MQTT networking (only if configured to publish)
-        # Note that as we are using "pull down" the state is the reverse of what we read from the port
-        if raspberry_pi: gpio_port_mappings[str(gpio_channel)]["sensor_state"] = not GPIO.input(gpio_channel)
-        send_mqtt_track_sensor_updated_event(sensor_id)
-    return() 
-
-# -----------------------------------------------------------------------------------------------------------
-# Public API function to return the state of a sensor object 
-# -----------------------------------------------------------------------------------------------------------
-
-def track_sensor_active (sensor_id:int):
-    if sensor_exists(sensor_id):
-        state = gpio_port_mappings[mapped_gpio_port(sensor_id)]["sensor_state"]
-    else:
-        state = False
-        logging.error ("track_sensor_active - Sensor "+str(sensor_id)+": does not exist")
-    return (state)
-
-# ------------------------------------------------------------------------------------------------------------------
-# Public API Function to "subscribe" to track sensor updates published by remote MQTT Nodes
-# and generate the appropriate callbacks or passed / approached events for a specified signal
-# ------------------------------------------------------------------------------------------------------------------
-
-def subscribe_to_remote_sensor (remote_identifier:str,
-                                sensor_callback = null_callback,
-                                signal_passed:int = 0,
-                                signal_approach:int = 0):    
-    global gpio_port_mappings
-    # Validate the remote identifier (must be 'node-id' where id is an int between 1 and 99)
-    if mqtt_interface.split_remote_item_identifier(remote_identifier) is None:
-        logging.error ("MQTT-Client: Sensor "+remote_identifier+": The remote identifier must be in the form of 'Node-ID'")
-        logging.error ("with the 'Node' element a non-zero length string and the 'ID' element an integer between 1 and 99")
-    elif signal_passed > 0 and signal_approach > 0:
-        logging.error ("MQTT-Client: Sensor "+remote_identifier+": Can only map to a signal_passed event OR a signal_approach event")
-    elif (signal_passed > 0 or signal_approach) > 0 and sensor_callback != null_callback:
-        logging.error ("MQTT-Client: Sensor "+remote_identifier+": Cannot specify a sensor_callback AND map to a signal event")
-    else:
-        if sensor_exists(remote_identifier):
-            logging.warning("MQTT-Client: Sensor "+remote_identifier+" - has already been subscribed to via MQTT networking")
-        # Create a dummy GPIO port mapping to hold the callback information
-        gpio_port_mappings[remote_identifier] = {"sensor_id"       : remote_identifier,
-                                                 "callback"        : sensor_callback,
-                                                 "signal_approach" : signal_approach,
-                                                 "signal_passed"   : signal_passed,
-                                                 "sensor_state"    : False}
-        # Subscribe to events from the remote track sensor
-        [node_id,item_id] = mqtt_interface.split_remote_item_identifier(remote_identifier)
-        mqtt_interface.subscribe_to_mqtt_messages("track_sensor_event",node_id,item_id,
-                                                    handle_mqtt_track_sensor_updated_event)
-    return()
-
-# ------------------------------------------------------------------------------------------------------------------
-# Public API Function to set configure a track sensor to publish state changes to remote MQTT nodes
-# ------------------------------------------------------------------------------------------------------------------
+        # We only create the gpiozero sensor device if we are running on a raspberry pi
+        if running_on_raspberry_pi:
+            try:
+                sensor_device = gpiozero.Button(gpio_channel)
+                sensor_device.when_pressed = lambda:gpio_sensor_triggered(gpio_channel)
+                gpio_port_mappings[str(gpio_channel)]["sensor_device"] = sensor_device
+            except:
+                logging.error("GPIO Sensor "+str(sensor_id)+": create_track_sensor - GPIO port "+str(gpio_channel)+" cannot be mapped")
+
+#---------------------------------------------------------------------------------------------------
+# API function to delete all LOCAL GPIO sensor mappings. Called when the GPIO sensor mappings have been
+# updated by the editor (on 'apply' of the GPIO sensor configuration). The editor will then go on to
+# re-create all LOCAL GPIO sensors (that have a GPIO mapping defined) with their updated mappings.
+#---------------------------------------------------------------------------------------------------
 
-def set_sensors_to_publish_state(*sensor_ids:int):    
-    global list_of_track_sensors_to_publish
-    for sensor_id in sensor_ids:
-        logging.debug("MQTT-Client: Configuring track sensor "+str(sensor_id)+" to publish state changes via MQTT broker")
-        if sensor_id in list_of_track_sensors_to_publish:
-            logging.warning("MQTT-Client: Track sensor "+str(sensor_id)+" - is already configured to publish state changes")
-        else:
-            list_of_track_sensors_to_publish.append(sensor_id)
-        # Publish the current state if the track sensor has already been configured
-        if sensor_exists(sensor_id): send_mqtt_track_sensor_updated_event(sensor_id)
-    return()
-
-# ------------------------------------------------------------------------------------------------------------------
-# Callback for handling received MQTT messages from a remote track sensor
-# ------------------------------------------------------------------------------------------------------------------
-
-def handle_mqtt_track_sensor_updated_event(message):
-    if "sourceidentifier" in message.keys() and "state" in message.keys():
-        sensor_identifier = message["sourceidentifier"]
-        # Defensive programming - just in case we get a spurious message
-        if sensor_exists(sensor_identifier):
-            str_gpio_port = mapped_gpio_port(sensor_identifier) 
-            # Maintain the state locally (so it can be queried via the track_sensor_active function)
-            gpio_port_mappings[str_gpio_port]["sensor_state"] = message["state"]
-            # Only make the callback (or raise signal approach/passed event) for 'triggered' events
-            if gpio_port_mappings[str_gpio_port]["sensor_state"]:
-                logging.info("Sensor "+sensor_identifier+": Remote track sensor has been triggered **********************")
-                make_track_sensor_callback(sensor_identifier)
-            else:
-                logging.debug("Sensor "+sensor_identifier+": Remote track sensor has been reset **************************")
-    return()
-
-# ------------------------------------------------------------------------------------------------------------------
-# Internal function for building and sending MQTT messages - but only if the
-# track sensor has been configured to publish updates via the mqtt broker
-# ------------------------------------------------------------------------------------------------------------------
-
-def send_mqtt_track_sensor_updated_event(sensor_id:int):
-    if sensor_id in list_of_track_sensors_to_publish:
-        data = {}
-        data["state"] = gpio_port_mappings[mapped_gpio_port(sensor_id)]["sensor_state"]
-        log_message = "Sensor "+str(sensor_id)+": Publishing sensor state of "+str(data["state"])+" to MQTT Broker"
-        # Publish as "retained" messages so remote items that subscribe later will always pick up the latest state
-        mqtt_interface.send_mqtt_message("track_sensor_event",sensor_id,data=data,log_message=log_message,retain=True)
+def delete_all_local_gpio_sensors():
+    global gpio_port_mappings
+    logging.debug("GPIO Interface: Deleting all local GPIO sensor mappings")
+    # Remove all "local" GPIO sensors from the dictionary of gpio_port_mappings (where the
+    # key in the gpio_port_mappings dict will be a a number' rather that a remote identifier).
+    # We don't iterate through the dictionary to remove items as it will change under us.
+    new_gpio_port_mappings = {}
+    for gpio_port in gpio_port_mappings:
+        if not gpio_port.isdigit(): new_gpio_port_mappings[gpio_port] = gpio_port_mappings[gpio_port]
+        elif gpio_port_mappings[gpio_port]["sensor_device"] is not None:
+            gpio_port_mappings[gpio_port]["sensor_device"].close()
+    gpio_port_mappings = new_gpio_port_mappings
     return()
 
-# -----------------------------------------------------------------------------------------------------------
-# Function called on shutdown to set the gpio ports back to their defaults
-# -----------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# API Function to return the current event callback mappings for a GPIO sensor
+#---------------------------------------------------------------------------------------------------
+
+def get_gpio_sensor_callback(sensor_id:Union[int,str]):
+    callback_list = [0, 0, 0]
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(sensor_id,int) and not isinstance(sensor_id,str):
+        logging.error("GPIO Sensor "+str(sensor_id)+": get_gpio_sensor_callback - Sensor ID must be an integer or string")
+    elif not gpio_sensor_exists(sensor_id):
+        logging.error("GPIO Sensor "+str(sensor_id)+": get_gpio_sensor_callback - Sensor does not exist")
+    else:
+        str_gpio_port = mapped_gpio_port(sensor_id)
+        signal_passed = gpio_port_mappings[str_gpio_port]["signal_passed"]
+        signal_approach = gpio_port_mappings[str_gpio_port]["signal_approach"]
+        sensor_passed = gpio_port_mappings[str_gpio_port]["sensor_passed"]
+        callback_list = [signal_passed, signal_approach, sensor_passed]
+    return(callback_list)
+
+#---------------------------------------------------------------------------------------------------
+# API Function to remove the callback behavior for existing GPIO sensors (local or remote). This
+# function is called every time a 'signal' or an 'track sensor' object is deleted from the schematic
+# either as part of a configuration update (where library objects are deleted and then re-created in
+# their new state) or as part of a hard delete (where the library objects are deleted permanently).
+# The GPIO sensor itself will still 'exist' as it will still be mapped to a GPIO input - and can then
+# be re-allocated to another 'signal' or 'track sensor' as required.
+# If the GPIO sensor no longer exists then the call will fail silently (this use case is where a GPIO
+# sensor object has been deleted (either via a GPIO sensor configuration 'Apply' or MQTT pub/sub
+# 'Apply') but is still referenced from the Signal or Track Sensor configuration.
+#---------------------------------------------------------------------------------------------------
 
-def gpio_shutdown():
-    if raspberry_pi:
-        logging.info ("GPIO: Restoring default settings")
-        GPIO.cleanup()
+def remove_gpio_sensor_callback(sensor_id:Union[int,str]):
+    global gpio_port_mappings
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(sensor_id,int) and not isinstance(sensor_id,str):
+        logging.error("GPIO Sensor "+str(sensor_id)+": remove_gpio_sensor_callback - Sensor ID must be an integer or string")
+    elif not gpio_sensor_exists(sensor_id):
+        logging.error("GPIO Sensor "+str(sensor_id)+": remove_gpio_sensor_callback - Sensor does not exist")
+    else:
+        logging.debug("GPIO Sensor "+str(sensor_id)+": Removing all trigger events for GPIO sensor")
+        str_gpio_port = mapped_gpio_port(sensor_id)
+        gpio_port_mappings[str_gpio_port]["signal_approach"] = 0
+        gpio_port_mappings[str_gpio_port]["signal_passed"] = 0
+        gpio_port_mappings[str_gpio_port]["sensor_passed"] = 0
     return()
 
-# ------------------------------------------------------------------------------------------------------------------
-# Non-Public API Functions to update the callback behavior for existing track sensors (local or remote)
-# This is called by the Schematic Editor application everytime a signal is updated if the signal has a
-# mapped "passed" or "approached" sensor mapping to make the required callback association. If the
-# sensor does not exist then the call will fail silently (this use case is where a signal has been
-# mapped to a sensor but the sensor has then been unmapped - and the user won't know until they
-# next open the signal configuration dialog and see that the entry is now invalid
-# ------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# API Function to update the callback behavior for existing GPIO sensors (local or remote). This
+# function is called by the Editor every time a 'signal' or a 'track sensor' configuration is
+# 'Applied' (where the mapped GPIO sensors may have changed).
+#---------------------------------------------------------------------------------------------------
 
-def update_sensor_callback (sensor_identifier:Union[int,str], signal_passed:int=0, signal_approach:int=0):
+def add_gpio_sensor_callback (sensor_id:Union[int,str], signal_passed:int=0,
+                              signal_approach:int=0, sensor_passed:int=0):
     global gpio_port_mappings
-    if sensor_exists(sensor_identifier):
-        str_gpio_port = mapped_gpio_port(sensor_identifier)
-        gpio_port_mappings[str_gpio_port]["signal_approach"] = signal_approach
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(sensor_id,int) and not isinstance(sensor_id,str):
+        logging.error("GPIO Sensor "+str(sensor_id)+": add_gpio_sensor_callback - Sensor ID must be an integer or string")
+    elif not gpio_sensor_exists(sensor_id):
+        logging.error("GPIO Sensor "+str(sensor_id)+": add_gpio_sensor_callback - Sensor ID does not exist")
+    elif not isinstance(signal_passed,int) or not isinstance(signal_approach,int) or not isinstance(sensor_passed,int):
+        logging.error("GPIO Sensor "+str(sensor_id)+": add_gpio_sensor_callback - Linked Item IDs must be integers")
+    elif ( (signal_passed > 0 and signal_approach > 0) or (signal_passed > 0 and sensor_passed > 0)
+                       or (signal_approach > 0 and sensor_passed > 0) ):
+        logging.error("GPIO Sensor "+str(sensor_id)+": add_gpio_sensor_callback - More than one trigger event specified")
+    else:
+        # Add the appropriate callback event to the GPIO Sensor configuration
+        str_gpio_port = mapped_gpio_port(sensor_id)
+        if signal_passed > 0:
+            logging.debug("GPIO Sensor "+str(sensor_id)+": Adding 'passed' event for Signal "+str(signal_passed))
+        elif signal_approach > 0:
+            logging.debug("GPIO Sensor "+str(sensor_id)+": Adding 'approach' event for Signal "+str(signal_approach))
+        elif sensor_passed > 0:
+            logging.debug("GPIO Sensor "+str(sensor_id)+": Adding 'passed' event for Track Section "+str(sensor_passed))
         gpio_port_mappings[str_gpio_port]["signal_passed"] = signal_passed
-
-def remove_sensor_callbacks (signal_id:int):
-    global gpio_port_mappings
-    for gpio_port in gpio_port_mappings:
-        if gpio_port_mappings[gpio_port]["signal_approach"] == signal_id:
-            gpio_port_mappings[gpio_port]["signal_approach"] = 0
-        if gpio_port_mappings[gpio_port]["signal_passed"] == signal_id:
-            gpio_port_mappings[gpio_port]["signal_passed"] = 0
+        gpio_port_mappings[str_gpio_port]["signal_approach"] = signal_approach
+        gpio_port_mappings[str_gpio_port]["sensor_passed"] = sensor_passed
     return()
 
-# ------------------------------------------------------------------------------------------------------------------
-# Non public API function for deleting all LOCAL sensor mappings - This is used by the
-# schematic editor for deleting all existing GPIO mappings (before creating new ones)
-# ------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# Function called on shutdown to set the GPIO ports back to their default states
+#---------------------------------------------------------------------------------------------------
 
-def delete_all_local_track_sensors():
-    global gpio_port_mappings
-    # Delete all "local" sensors from the dictionary of gpio_port_mappings - these
-    # will be re-created if they are subsequently re-subscribed to. Note we don't iterate 
-    # through the dictionary to remove items as it will change under us.
-    new_gpio_port_mappings = {}
-    for gpio_port in gpio_port_mappings:
-        if not gpio_port.isdigit(): new_gpio_port_mappings[gpio_port] = gpio_port_mappings[gpio_port]
-        elif raspberry_pi: GPIO.remove_event_detect(int(gpio_port))
-    gpio_port_mappings = new_gpio_port_mappings
+def gpio_shutdown():
+    if running_on_raspberry_pi:
+        time.sleep(0.001)   # Allow any threads to terminate gracefully
+        logging.debug("GPIO Interface: Restoring default settings")
+        # Close all the gpiozero Button objects to reset the GPIO interface
+        for gpio_port in gpio_port_mappings:
+            if gpio_port.isdigit() and gpio_port_mappings[gpio_port]["sensor_device"] is not None:
+                gpio_port_mappings[gpio_port]["sensor_device"].close()
     return()
 
-# ------------------------------------------------------------------------------------------------------------------
-# Non public API function to reset the list of published/subscribed track sensors. Used
-# by the schematic editor for re-setting the MQTT configuration prior to re-configuring
-# via the set_track_sensors_to_publish_state and subscribe_to_track_sensor_updates functions
-# ------------------------------------------------------------------------------------------------------------------
+#---------------------------------------------------------------------------------------------------
+# API function to reset the list of published/subscribed GPIO sensors. This function is called by
+# the editor on 'Apply' of the MQTT pub/sub configuration prior to applying the new configuration
+# via the 'set_gpio_sensors_to_publish_state' & 'subscribe_to_gpio_sensor_updates' functions.
+#---------------------------------------------------------------------------------------------------
 
 def reset_mqtt_configuration():
     global gpio_port_mappings
     global list_of_track_sensors_to_publish
-    # We only need to clear the list to stop any further track sensor events being published
+    logging.debug("GPIO Interface: Resetting MQTT publish and subscribe configuration")
+    # Clear the list_of_track_sensors_to_publish to stop GPIO sensor events being published
     list_of_track_sensors_to_publish.clear()
-    # For subscriptions we unsubscribe from all topics associated with the message_type
-    mqtt_interface.unsubscribe_from_message_type("track_sensor_event")
-    # Finally remove all "remote" sensors from the dictionary of gpio_port_mappings - these
-    # will be re-created if they are subsequently re-subscribed to. Note we don't iterate 
-    # through the dictionary to remove items as it will change under us.
+    # Unsubscribe from all topics associated with the message_type
+    mqtt_interface.unsubscribe_from_message_type("gpio_sensor_event")
+    # Remove all "remote" GPIO sensors from the dictionary of gpio_port_mappings (where the
+    # key in the gpio_port_mappings dict will be the remote identifier rather than a number).
+    # We don't iterate through the dictionary to remove items as it will change under us.
     new_gpio_port_mappings = {}
     for gpio_port in gpio_port_mappings:
         if gpio_port.isdigit(): new_gpio_port_mappings[gpio_port] = gpio_port_mappings[gpio_port]
     gpio_port_mappings = new_gpio_port_mappings
     return()
 
-############################################################################
+#---------------------------------------------------------------------------------------------------
+# API function to configure local GPIO sensors to publish 'sensor triggered' events to remote MQTT
+# nodes. This function is called by the editor on 'Apply' of the MQTT pub/sub configuration. Note
+# the configuration can be applied independently to whether the gpio sensors 'exist' or not.
+#---------------------------------------------------------------------------------------------------
+
+def set_gpio_sensors_to_publish_state(*sensor_ids:int):    
+    global list_of_track_sensors_to_publish
+    for sensor_id in sensor_ids:
+        # Validate the parameters we have been given as this is a library API function
+        if not isinstance(sensor_id,int) or sensor_id < 1:
+            logging.error("GPIO Sensor "+str(sensor_id)+": set_gpio_sensors_to_publish_state - ID must be a positive integer")
+        elif sensor_id in list_of_track_sensors_to_publish:
+            logging.warning("GPIO Sensor "+str(sensor_id)+": set_gpio_sensors_to_publish_state -"
+                                        +" Sensor is already configured to publish state to MQTT broker")
+        else:
+            # Add the GPIO sensor to the list_of_track_sensors_to_publish to enable publishing
+            logging.debug("GPIO Sensor "+str(sensor_id)+": Configuring to publish 'sensor triggered' events to MQTT broker")
+            list_of_track_sensors_to_publish.append(sensor_id)
+    return()
+
+#---------------------------------------------------------------------------------------------------
+# API Function to "subscribe" to remote GPIO sensor triggers (published by other MQTT Nodes)
+# and map the appropriate callback event (for the Signal or Track Sensor objects on the local
+# schematic. This function is called by the editor on "Apply' of the MQTT pub/sub configuration
+# for all subscribed remote GPIO sensors.
+#---------------------------------------------------------------------------------------------------
+
+def subscribe_to_remote_gpio_sensor(remote_id:str, signal_passed:int=0,
+                                    signal_approach:int=0, sensor_passed:int=0):    
+    global gpio_port_mappings
+    # Validate the parameters we have been given as this is a library API function
+    if not isinstance(remote_id,str):
+        logging.error("GPIO Sensor "+str(remote_id)+": subscribe_to_remote_gpio_sensor - Remote ID must be a string")
+    elif mqtt_interface.split_remote_item_identifier(remote_id) is None:
+        logging.error("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - Remote ID is an invalid format")
+    elif not isinstance(signal_passed,int):
+        logging.error("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - Signal ID (passed) must be an integer")
+    elif not isinstance(signal_approach,int):
+        logging.error("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - Signal ID (approach) must be integer")
+    elif not isinstance(sensor_passed,int):
+        logging.error("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - Track Sensor ID must be an integer")
+    elif ( (signal_passed > 0 and signal_approach > 0) or (signal_passed > 0 and sensor_passed > 0)
+                       or (signal_approach > 0 and sensor_passed > 0) ):
+        logging.error("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - More than one trigger event specified")
+    else:
+        if signal_passed > 0: event = " - will trigger Signal "+str(signal_passed)+ " 'passed' event"
+        elif signal_approach > 0: event = " - will trigger Signal "+str(signal_approach)+ " 'approach' event"
+        elif sensor_passed > 0: event = " - will trigger Track Section "+str(sensor_passed)+ " 'passed' event"
+        else: event = ""
+        logging.debug("GPIO Sensor "+str(remote_id)+": Subscribing to remote GPIO sensor"+event)
+        sensor_already_subscribed = gpio_sensor_exists(remote_id)
+        # Create (or update) the dummy GPIO port mapping to hold the callback information for the remote sensor
+        # Rather than use the mapped GPIO port number as the dictionary key we will use the remote Sensor ID
+        gpio_port_mappings[remote_id] = {"sensor_id"       : remote_id,
+                                         "signal_approach" : signal_approach,
+                                         "signal_passed"   : signal_passed,
+                                         "sensor_passed"   : sensor_passed}
+        # Only subscribe to events from the remote GPIO sensor if we are not already subscribed
+        if sensor_already_subscribed:
+            logging.warning("GPIO Sensor "+remote_id+": subscribe_to_remote_gpio_sensor - Already subscribed")
+        else:
+            [node_id, item_id] = mqtt_interface.split_remote_item_identifier(remote_id)
+            mqtt_interface.subscribe_to_mqtt_messages("gpio_sensor_event", node_id, item_id,
+                                                    handle_mqtt_gpio_sensor_triggered_event)
+    return()
+
+####################################################################################################
```

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-01.wav` & `model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-01.wav`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-02.wav` & `model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-02.wav`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-03.wav` & `model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-03.wav`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/resources/bell-ring-04.wav` & `model_railway_signals-4.2.0/model_railway_signals/library/resources/bell-ring-04.wav`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/model_railway_signals/library/resources/telegraph-key-01.wav` & `model_railway_signals-4.2.0/model_railway_signals/library/resources/telegraph-key-01.wav`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/system_test_harness.py` & `model_railway_signals-4.2.0/system_tests/system_test_harness.py`

 * *Files 1% similar despite different names*

```diff
@@ -19,27 +19,27 @@
 #    set_signals_off(*sigids)
 #    set_subsidaries_on(*sigids)
 #    set_subsidaries_off(*sigids)
 #    set_secondary_dists_on(*sigids) - Semaphore only
 #    set_secondary_dists_off(*sigids) - Semaphore only
 #    trigger_signals_passed(*sigids)
 #    trigger_signals_released(*sigids)
+#    trigger_sensors_passed(*sigids)
 #    set_points_switched(*pointids)
 #    set_points_normal(*pointids
 #    set_fpls_on(*pointids)
 #    set_fpls_off(*pointids)
 #    set_sections_occupied(*sectionids)
 #    set_sections_clear(*sectionids)
 #    toggle_sections(*sectionids)
 #    set_instrument_blocked(*instrumentids)
 #    set_instrument_occupied(*instrumentids)
 #    set_instrument_clear(*instrumentids)
 #    click_telegraph_key(*instrumentids)
 #    simulate_gpio_triggered(*gpioids)
-#    simulate_gpio_reset(*gpioids)
 #
 # Supported Schematic test assertions:
 #    assert_points_locked(*pointids)
 #    assert_points_unlocked(*pointids)
 #    assert_points_switched(*pointids)
 #    assert_points_normal(*pointids)
 #    assert_signals_locked(*sigids)
@@ -66,60 +66,70 @@
 #    assert_signals_route_RH2(*sigids)
 #    assert_sections_occupied(*secids)
 #    assert_sections_clear(*secids)
 #    assert_section_label(secid,label)
 #    assert_block_section_ahead_clear(instids*)
 #    assert_block_section_ahead_not_clear(instids*)
 #
-# Supported Menubar/Schematic control invocations:
+# Supported Menubar control invocations:
 #    set_edit_mode()
 #    set_run_mode()
-#    toggle_mode()
 #    set_automation_on()
 #    set_automation_off()
-#    toggle_automation()
-#    toggle_snap_to_grid()
 #    reset_layout()
-#    reset_window_size()
-# Supported Schematic test invocations:
+#
+# Supported Schematic create object invocations:
 #    create_line()
 #    create_colour_light_signal()
 #    create_semaphore_signal()
 #    create_ground_position_signal()
 #    create_ground_disc_signal()
 #    create_track_section()
+#    create_track_sensor()
 #    create_block_instrument()
 #    create_left_hand_point()
 #    create_right_hand_point()
 #    create_textbox()
+#
+# Supported Schematic keypress / right click menu invocations:
+#    toggle_mode()                    - 'Cntl-m'
+#    toggle_automation()              - 'Cntl-a'
+#    toggle_snap_to_grid()            - 'Cntl-s'
+#    reset_window_size()              - 'Cntl-r'
+#    snap_selected_objects_to_grid()  - 's' key - also right-click-menu function
+#    rotate_selected_objects()        - 'r' key - also right-click-menu function
+#    delete_selected_objects()        - 'del' key - also right-click-menu function
+#    nudge_selected_objects()         - 'arrow' keys
+#    copy_selected_objects()          - 'Cntl-c' - also right-click-menu function
+#    paste_clipboard_objects()        - 'Cntl-v' - also right-click-menu function
+#    undo() / redo()                  - 'Cntl-x' / 'Cntl-y'
+#    select_all_objects()             - Right-click-menu function
+#    deselect_all_objects()           - 'esc' key
+#
+# Supported Schematic mouse event invocations:
+#    test_all_edit_object_windows(test_all_controls:bool=False - Opens & exercises all edit windows for all schematic objects
 #    update_object_configuration(object_id, new_values:dict)
 #    select_or_deselect_objects(*object_ids)
 #    select_single_object(object_id)
 #    select_and_edit_single_object (object_id)
-#    select_and_move_objects(object_id, xfinish:int, yfinish:int, steps:int=50, delay:int=1, test_cancel:bool=True)
-#    select_and_move_line_end(object_id, line_end:int, xfinish:int, yfinish:int, steps:int=50, delay:int=1, test_cancel:bool=True)
-#    select_area(xstart:int, ystart:int, xfinish:int, yfinish:int, steps:int=50, delay:float=1, test_cancel:bool=True):
-#    select_all_objects()
-#    deselect_all_objects()
-#    rotate_selected_objects()
-#    delete_selected_objects()
-#    copy_selected_objects()
-#    paste_clipboard_objects()
-#    snap_selected_objects_to_grid()
-#    undo() and redo()
+#    select_and_move_objects(object_id, xfinish:int, yfinish:int, steps:int=50, delay:float=0.0, test_cancel:bool=True)
+#    select_and_move_line_end(object_id, line_end:int, xfinish:int, yfinish:int, steps:int=50, delay:float=0.0, test_cancel:bool=True)
+#    select_area(xstart:int, ystart:int, xfinish:int, yfinish:int, steps:int=50, delay:float=0.0, test_cancel:bool=True):
 #    get_item_id(object_id) - This is a helper function
 #    get_object_id(item_type, item_id) - This is a helper function
 #
 # Supported Editor test assertions:
 #    assert_object_configuration(object_id, test_values:dict)
 #    assert_object_position(object_id, x1:int, y1:int, x2:int=None, y2:int=None)
 #    assert_objects_selected(*object_ids)
 #    assert_objects_deselected(*object_ids)
 #    assert_objects_exist(*object_ids)
 #    assert_objects_do_not_exist(*object_ids)
+#
+# Supported configuration
 # ------------------------------------------------------------------------------
 
 from inspect import getframeinfo
 from inspect import stack
 from os.path import basename
 import logging
 import tkinter
@@ -146,14 +156,15 @@
 from model_railway_signals.library import signals_colour_lights
 from model_railway_signals.library import signals_semaphores
 from model_railway_signals.library import signals_ground_position
 from model_railway_signals.library import signals_ground_disc
 from model_railway_signals.library import track_sections
 from model_railway_signals.library import block_instruments
 from model_railway_signals.library import track_sensors
+from model_railway_signals.library import gpio_sensors
 
 thread_delay_time = 0.150
 tkinter_thread_started = False
 main_menubar = None
 root = None
 
 # ------------------------------------------------------------------------------
@@ -186,30 +197,30 @@
     logging.basicConfig(format='%(levelname)s: %(message)s')
     logging.getLogger().setLevel(logging.WARNING)
     # Start the application
     root = tkinter.Tk()
     main_menubar = editor.main_menubar(root)
     # Use the signals Lib function to find/store the root window reference
     # And then re-bind the close window event to the editor quit function
-    common.find_root_window(main_menubar.mainmenubar)
+    common.set_root_window(root)
     root.protocol("WM_DELETE_WINDOW", main_menubar.quit_schematic)
     # Start the test harness thread
     test_thread = threading.Thread (target=lambda:test_harness_thread(callback_function))
     test_thread.setDaemon(True)
     test_thread.start()
     # Enter the TKinter main loop (with exception handling for keyboardinterrupt)
     try: root.mainloop()
     except KeyboardInterrupt:
         logging.info("Keyboard Interrupt - Shutting down")
-        library_common.on_closing(ask_to_save_state=False)
+        schematic.shutdown()
+        common.shutdown()
         
 def run_function(test_function, delay:float=thread_delay_time):
     common.execute_function_in_tkinter_thread (test_function)
     sleep(delay)
-    return()
 
 # ------------------------------------------------------------------------------
 # Functions to log out test error/warning messages with the filename and line number 
 # of the parent test file that called the test assert functions in this module
 # ------------------------------------------------------------------------------
 
 def raise_test_error(message):
@@ -337,15 +348,22 @@
                                                
 def trigger_signals_released(*sigids):
     for sigid in sigids:
         if str(sigid) not in signals_common.signals.keys():
             raise_test_warning ("trigger_signals_released - Signal: "+str(sigid)+" does not exist")
         else:
             run_function(lambda:signals_common.approach_release_button_event(sigid) )                             
-    
+
+def trigger_sensors_passed(*sensorids):
+    for sensorid in sensorids:
+        if str(sensorid) not in track_sensors.track_sensors.keys():
+            raise_test_warning ("trigger_sensors_passed - Track Sensor: "+str(sensorid)+" does not exist")
+        else:
+            run_function(lambda:track_sensors.track_sensor_triggered(sensorid))
+
 def set_points_switched(*pointids):
     for pointid in pointids:
         if str(pointid) not in points.points.keys():
             raise_test_warning ("set_points_switched - Point: "+str(pointid)+" does not exist")
         elif points.point_switched(pointid):
             raise_test_warning ("set_points_switched - Point: "+str(pointid)+" is already switched")
         else:
@@ -440,25 +458,18 @@
         if str(instid) not in block_instruments.instruments.keys():
             raise_test_warning ("click_telegraph_key - Instrument: "+str(instid)+" does not exist")
         else:
             run_function(lambda:block_instruments.telegraph_key_button(instid))
 
 def simulate_gpio_triggered(*gpioids):
     for gpioid in gpioids:
-        if str(gpioid) not in track_sensors.gpio_port_mappings.keys():
+        if str(gpioid) not in gpio_sensors.gpio_port_mappings.keys():
             raise_test_warning ("simulate_gpio_triggered - GPIO: "+str(gpioid)+" has not been mapped")
         else:
-            run_function(lambda:track_sensors.simulate_sensor_triggered(gpioid))
-
-def simulate_gpio_reset(*gpioids):
-    for gpioid in gpioids:
-        if str(gpioid) not in track_sensors.gpio_port_mappings.keys():
-            raise_test_warning ("simulate_gpio_reset - GPIO: "+str(gpioid)+" does not exist")
-        else:
-            run_function(lambda:track_sensors.simulate_sensor_reset(gpioid))
+            run_function(lambda:gpio_sensors.gpio_sensor_triggered(gpioid,testing=True))
 
 # ------------------------------------------------------------------------------
 # Functions to make test 'asserts' - in terms of expected state/behavior
 # ------------------------------------------------------------------------------
 
 def assert_points_locked(*pointids):
     for pointid in pointids:
@@ -773,15 +784,20 @@
 # Functions to excersise the schematic Editor - Create Functions
 # ------------------------------------------------------------------------------
 
 def create_line():
     run_function(lambda:schematic.create_object(objects.object_type.line))
     object_id = list(objects.schematic_objects)[-1]
     return(object_id)
-    
+
+def create_track_sensor():
+    run_function(lambda:schematic.create_object(objects.object_type.track_sensor))
+    object_id = list(objects.schematic_objects)[-1]
+    return(object_id)
+
 def create_colour_light_signal():
     run_function(lambda:schematic.create_object(objects.object_type.signal,
                         signals_common.sig_type.colour_light.value,
                         signals_colour_lights.signal_sub_type.four_aspect.value))
     object_id = list(objects.schematic_objects)[-1]
     return(object_id)
 
@@ -1093,22 +1109,50 @@
     run_function(lambda:schematic.paste_clipboard_objects(),delay=0.5)
     return(schematic.schematic_state["selectedobjects"])
 
 # Simulates the <cntl-z> keypress event on the canvas
 # This event is normally only enabled in EDIT Mode (disabled when move in progress)
 def undo():
     run_function(lambda:schematic.schematic_undo(),delay=0.5)
-    return()
 
 # Simulates the <cntl-v> keypress event on the canvas
 # This event is normally only enabled in EDIT Mode (disabled when move in progress)
 def redo():
     run_function(lambda:schematic.schematic_redo(),delay=0.5)
-    return()
 
+def test_all_edit_object_windows(test_all_controls:bool=False, report_object_tested:bool=False):
+    object_types = (objects.object_type.textbox, objects.object_type.line, objects.object_type.point, objects.object_type.signal,
+                              objects.object_type.section, objects.object_type.instrument, objects.object_type.track_sensor)
+    for object_type in object_types:
+        for object_id in objects.schematic_objects.keys():
+            if objects.schematic_objects[object_id]["item"] == object_type:
+                configuration = copy.deepcopy(objects.schematic_objects[object_id])
+                if report_object_tested:
+                    print("Testing object edit window for:",configuration["item"],configuration["itemid"])
+                # Get rid of the bits we dont need
+                if configuration["item"] == objects.object_type.line:
+                    del configuration["line"]   ## Tkinter drawing object - re-created on re-draw
+                    del configuration["end1"]   ## Tkinter drawing object - re-created on re-draw
+                    del configuration["end2"]   ## Tkinter drawing object - re-created on re-draw
+                    del configuration["stop1"]  ## Tkinter drawing object - re-created on re-draw
+                    del configuration["stop2"]  ## Tkinter drawing object - re-created on re-draw
+                elif configuration["item"] == objects.object_type.section:
+                    del configuration["label"]  ## Always reset to default after editing
+                    del configuration["state"]  ## Always reset to default after editing
+                run_function(lambda:schematic.deselect_all_objects())
+                run_function(lambda:schematic.select_object(object_id))
+                run_function(lambda:schematic.edit_selected_object(), delay=1.0)
+                if test_all_controls:
+                    run_function(lambda:schematic.close_edit_window(reset=True), delay=0.2)
+                    run_function(lambda:schematic.close_edit_window(apply=True), delay=0.2)
+                    run_function(lambda:schematic.close_edit_window(cancel=True), delay=0.2)
+                    run_function(lambda:schematic.edit_selected_object(), delay=1.0)
+                run_function(lambda:schematic.close_edit_window(ok=True), delay=0.5)
+                assert_object_configuration(object_id, configuration)
+    
 # ------------------------------------------------------------------------------
 # Functions to make test 'asserts' - in terms of expected state/behavior
 # ------------------------------------------------------------------------------
 
 def assert_object_configuration(object_id, test_values:dict):
     if object_id not in objects.schematic_objects.keys():
         raise_test_warning ("assert_object_configuration - object: "+str(object_id)+" does not exist")
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_all.py` & `model_railway_signals-4.2.0/system_tests/test_all.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,48 +1,59 @@
 #-----------------------------------------------------------------------------------
 # Test script to run all system tests
 #-----------------------------------------------------------------------------------
 
 import system_test_harness
 
+import basic_library_tests
+
 import test_schematic_editor
 import test_object_editing
 import test_run_layout
 import test_object_edit_windows
-
 import test_mqtt_networking
+import test_configuration_updates
 
 import test_interlocking_examples
 import test_automation_examples
 import test_single_line_examples
 import test_mqtt_networking_example
 
 import test_library_objects
+
 import test_load_layout_failures
 
 def run_all_tests():
+    print("*** Running tests from 'basic_library_tests.py' ***")
+    basic_library_tests.run_all_basic_library_tests()
     print("*** Running tests from 'test_schematic_editor.py' ***")
     test_schematic_editor.run_all_schematic_editor_tests()
     print("*** Running tests from 'test_object_editing.py' ***")
     test_object_editing.run_all_object_editing_tests()
     print("*** Running tests from 'test_run_layout.py' ***")
     test_run_layout.run_all_run_layout_tests()
     print("*** Running tests from 'test_mqtt_networking.py' ***")
     test_mqtt_networking.run_all_mqtt_networking_tests()
+
+    print("*** Running tests from 'test_configuration_updates.py' ***")
+    test_configuration_updates.run_all_configuration_update_tests()
+    print("*** Running tests from 'test_object_edit_windows.py' ***")
+    test_object_edit_windows.run_all_configuration_window_tests()
+
     print("*** Running tests from 'test_interlocking_examples.py' ***")
     test_interlocking_examples.run_all_interlocking_example_tests()
     print("*** Running tests from 'test_automation_examples.py' ***")
     test_automation_examples.run_all_automation_example_tests()
     print("*** Running tests from 'test_single_line_examples.py' ***")
     test_single_line_examples.run_all_single_line_example_tests()
     print("*** Running tests from 'test_mqtt_networking_example.py' ***")
     test_mqtt_networking_example.run_all_mqtt_networking_example_tests()
-    print("*** Running tests from 'test_object_edit_windows.py' ***")
-    test_object_edit_windows.run_all_configuration_window_tests()
+    
     print("*** Running tests from 'test_library_objects.py' ***")
     test_library_objects.run_all_basic_library_tests()
+
     print("*** Running tests from 'test_load_layout_failures.py' ***")
     test_load_layout_failures.run_all_load_layout_negative_tests()
     system_test_harness.report_results()
 
 # The main code starts here
 system_test_harness.start_application(lambda:run_all_tests())
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_automation_examples.py` & `model_railway_signals-4.2.0/system_tests/test_automation_examples.py`

 * *Files 1% similar despite different names*

```diff
@@ -468,14 +468,16 @@
     assert_sections_occupied(5)
     assert_sections_clear(10)
     sleep(delay)
     trigger_signals_passed(16)
     assert_sections_occupied(1)
     assert_sections_clear(5)
     sleep(delay)
+    trigger_signals_released(8)
+    sleep(delay)
     trigger_signals_passed(8)
     assert_sections_occupied(2)
     assert_sections_clear(1)
     sleep(delay/2)
     assert_signals_app_cntl_set(1)
     trigger_signals_released(1)
     assert_signals_app_cntl_clear(1)
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_interlocking_examples.py` & `model_railway_signals-4.2.0/system_tests/test_interlocking_examples.py`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/test_library_objects.py` & `model_railway_signals-4.2.0/system_tests/test_library_objects.py`

 * *Files 3% similar despite different names*

```diff
@@ -97,54 +97,57 @@
 def test_basic_colour_light_operation(delay:float=0.0):
     # The sig file was saved with all colour light signals off
     print("Running basic colour light signal switching tests")
     assert_signals_PROCEED(1,2,4,5,6,7,8,10,11,12,14,15,16,17,33,18,20,21,22,23,24,34,26,27,29,30,31,32,33,34,67,69)
     assert_signals_CAUTION(3,9,13,19,25,28,68,70)
     sleep(delay)
     set_signals_on(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,67,68,69,70)
-    assert_signals_DANGER(1,2,3,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,67,68,69,70)
-    assert_signals_CAUTION(4,20)
+    assert_signals_DANGER(1,2,3,5,6,7,8,9,10,11,12,13,14,16,18,19,21,22,23,24,25,26,27,28,29,31,33,34,67,68,69,70)
+    assert_signals_CAUTION(15,17,30,32,4,20)
     sleep(delay)
     set_signals_off(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,67,68,69,70)
     assert_signals_PROCEED(1,2,4,5,6,7,8,10,11,12,14,15,16,17,33,18,20,21,22,23,24,34,26,27,29,30,31,32,33,34,67,69)
     assert_signals_CAUTION(3,9,13,19,25,28,68,70)
     return()
 
 def test_basic_semaphore_operation(delay:float=0.0):
     # The sig file was saved with all Semaphore signals off (secondary distant arms are on)
     # MAIN route indications (We need to cheat to set the route)
-    shunt_signals = (40,41,27,33)
+    shunt_signals = (40,27)
+    shunt_ahead_signals = (41,33)
     MAIN_dist_arms_only = (36,71,72,73,74,75,76,4,24,3,67,69,16,6)
     MAIN_home_arms_only = (35,45,65,52,64,60,66,70,10,68,18,9,11,21,42,17)
     MAIN_home_and_sub_arms = (37,50,51,53,54,55,56,20,15,29,13,31,5,8,77,78)
     MAIN_home_and_dist_arms = (39,59,61,58,62,57,63,1,2,32,7,25,12,19,79,80)
     MAIN_home_dist_and_sub_arms = (38,43,44,46,47,48,49,34,30,22,14,26,23,28,81,82)
     MAIN_all_signals = (MAIN_dist_arms_only + MAIN_home_arms_only + MAIN_home_and_sub_arms +
-                   MAIN_home_and_dist_arms + MAIN_home_dist_and_sub_arms + shunt_signals)
+                   MAIN_home_and_dist_arms + MAIN_home_dist_and_sub_arms + shunt_signals+shunt_ahead_signals)
     route = list(signals_common.route_type)[1]
     print("Running basic semaphore signal switching tests for route: "+str(route))
     for sig_id in MAIN_all_signals: signals.set_route (sig_id, list(signals_common.route_type)[1],"M")
     # Tests start here
     assert_signals_PROCEED(*MAIN_dist_arms_only)
     assert_signals_PROCEED(*MAIN_home_arms_only)
     assert_signals_PROCEED(*MAIN_home_and_sub_arms)
     assert_signals_PROCEED(*shunt_signals)
+    assert_signals_PROCEED(*shunt_ahead_signals)
     assert_signals_CAUTION(*MAIN_home_and_dist_arms)
     assert_signals_CAUTION(*MAIN_home_dist_and_sub_arms)
     sleep(delay)
     set_secondary_dists_off(*MAIN_home_and_dist_arms)
     set_secondary_dists_off(*MAIN_home_dist_and_sub_arms)
     assert_signals_PROCEED(*MAIN_home_and_dist_arms)
     assert_signals_PROCEED(*MAIN_home_dist_and_sub_arms)
     sleep(delay)
     set_signals_on(*MAIN_all_signals)
     assert_signals_CAUTION(*MAIN_dist_arms_only)
     assert_signals_DANGER(*MAIN_home_arms_only)
     assert_signals_DANGER(*MAIN_home_and_sub_arms)
     assert_signals_DANGER(*shunt_signals)
+    assert_signals_CAUTION(*shunt_ahead_signals)
     assert_signals_DANGER(*MAIN_home_and_dist_arms)
     assert_signals_DANGER(*MAIN_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_off(*MAIN_home_and_sub_arms)
     set_subsidaries_off(*MAIN_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_on(*MAIN_home_and_sub_arms)
@@ -157,36 +160,38 @@
     # LH1 route indications (We need to cheat to set the route)
     LH1_dist_arms_only = (71,72,75,76,24,3,16,6)
     LH1_home_arms_only = (45,65,60,66,10,68,11,21,17,42)
     LH1_home_and_sub_arms = (50,51,55,56,15,29,5,8,77,78)
     LH1_home_and_dist_arms = (59,61,57,63,2,32,12,19,79,80)
     LH1_home_dist_and_sub_arms = (43,44,48,49,30,22,23,28,81,82)
     LH1_all_signals = (LH1_dist_arms_only + LH1_home_arms_only + LH1_home_and_sub_arms +
-                   LH1_home_and_dist_arms + LH1_home_dist_and_sub_arms + shunt_signals)
+                   LH1_home_and_dist_arms + LH1_home_dist_and_sub_arms + shunt_signals + shunt_ahead_signals)
     route = list(signals_common.route_type)[2]
     print("Running basic semaphore signal switching tests for route: "+str(route))
     for sig_id in LH1_all_signals: signals.set_route (sig_id, list(signals_common.route_type)[2],"1")
     # Tests start here
     assert_signals_PROCEED(*LH1_dist_arms_only)
     assert_signals_PROCEED(*LH1_home_arms_only)
     assert_signals_PROCEED(*LH1_home_and_sub_arms)
     assert_signals_PROCEED(*shunt_signals)
+    assert_signals_PROCEED(*shunt_ahead_signals)
     assert_signals_CAUTION(*LH1_home_and_dist_arms)
     assert_signals_CAUTION(*LH1_home_dist_and_sub_arms)
     sleep(delay)
     set_secondary_dists_off(*LH1_home_and_dist_arms)
     set_secondary_dists_off(*LH1_home_dist_and_sub_arms)
     assert_signals_PROCEED(*LH1_home_and_dist_arms)
     assert_signals_PROCEED(*LH1_home_dist_and_sub_arms)
     sleep(delay)
     set_signals_on(*LH1_all_signals)
     assert_signals_CAUTION(*LH1_dist_arms_only)
     assert_signals_DANGER(*LH1_home_arms_only)
     assert_signals_DANGER(*LH1_home_and_sub_arms)
     assert_signals_DANGER(*shunt_signals)
+    assert_signals_CAUTION(*shunt_ahead_signals)
     assert_signals_DANGER(*LH1_home_and_dist_arms)
     assert_signals_DANGER(*LH1_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_off(*LH1_home_and_sub_arms)
     set_subsidaries_off(*LH1_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_on(*LH1_home_and_sub_arms)
@@ -199,36 +204,38 @@
     # LH2 route indications (We need to cheat to set the route)
     LH2_dist_arms_only = (72,76,3,6)
     LH2_home_arms_only = (65,66,68,21,17,42)
     LH2_home_and_sub_arms = (51,56,29,8,77,78)
     LH2_home_and_dist_arms = (61,63,32,19,79,80)
     LH2_home_dist_and_sub_arms = (44,49,22,28,81,82)
     LH2_all_signals = (LH2_dist_arms_only + LH2_home_arms_only + LH2_home_and_sub_arms +
-                   LH2_home_and_dist_arms + LH2_home_dist_and_sub_arms + shunt_signals)
+                   LH2_home_and_dist_arms + LH2_home_dist_and_sub_arms + shunt_signals+shunt_ahead_signals)
     route = list(signals_common.route_type)[3]
     print("Running basic semaphore signal switching tests for route: "+str(route))
     for sig_id in LH2_all_signals: signals.set_route (sig_id, list(signals_common.route_type)[3],"2")    
     # Tests start here
     assert_signals_PROCEED(*LH2_dist_arms_only)
     assert_signals_PROCEED(*LH2_home_arms_only)
     assert_signals_PROCEED(*LH2_home_and_sub_arms)
     assert_signals_PROCEED(*shunt_signals)
+    assert_signals_PROCEED(*shunt_ahead_signals)
     assert_signals_CAUTION(*LH2_home_and_dist_arms)
     assert_signals_CAUTION(*LH2_home_dist_and_sub_arms)
     sleep(delay)
     set_secondary_dists_off(*LH2_home_and_dist_arms)
     set_secondary_dists_off(*LH2_home_dist_and_sub_arms)
     assert_signals_PROCEED(*LH2_home_and_dist_arms)
     assert_signals_PROCEED(*LH2_home_dist_and_sub_arms)
     sleep(delay)
     set_signals_on(*LH2_all_signals)
     assert_signals_CAUTION(*LH2_dist_arms_only)
     assert_signals_DANGER(*LH2_home_arms_only)
     assert_signals_DANGER(*LH2_home_and_sub_arms)
     assert_signals_DANGER(*shunt_signals)
+    assert_signals_CAUTION(*shunt_ahead_signals)
     assert_signals_DANGER(*LH2_home_and_dist_arms)
     assert_signals_DANGER(*LH2_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_off(*LH2_home_and_sub_arms)
     set_subsidaries_off(*LH2_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_on(*LH2_home_and_sub_arms)
@@ -241,36 +248,38 @@
     # RH1 route indications (We need to cheat to set the route)
     RH1_dist_arms_only = (73,74,75,76,67,69,16,6)
     RH1_home_arms_only = (52,64,60,66,18,9,11,21,17,42)
     RH1_home_and_sub_arms = (53,54,55,56,13,31,5,8,77,78)
     RH1_home_and_dist_arms = (58,62,57,63,7,25,12,19,79,80)
     RH1_home_dist_and_sub_arms = (46,47,48,49,14,26,23,28,81,82)
     RH1_all_signals = (RH1_dist_arms_only + RH1_home_arms_only + RH1_home_and_sub_arms +
-                   RH1_home_and_dist_arms + RH1_home_dist_and_sub_arms + shunt_signals)
+                   RH1_home_and_dist_arms + RH1_home_dist_and_sub_arms + shunt_signals + shunt_ahead_signals)
     route = list(signals_common.route_type)[4]
     print("Running basic semaphore signal switching tests for route: "+str(route))
     for sig_id in RH1_all_signals: signals.set_route (sig_id, list(signals_common.route_type)[4],"3")    
     # Tests start here
     assert_signals_PROCEED(*RH1_dist_arms_only)
     assert_signals_PROCEED(*RH1_home_arms_only)
     assert_signals_PROCEED(*RH1_home_and_sub_arms)
     assert_signals_PROCEED(*shunt_signals)
+    assert_signals_PROCEED(*shunt_ahead_signals)
     assert_signals_CAUTION(*RH1_home_and_dist_arms)
     assert_signals_CAUTION(*RH1_home_dist_and_sub_arms)
     sleep(delay)
     set_secondary_dists_off(*RH1_home_and_dist_arms)
     set_secondary_dists_off(*RH1_home_dist_and_sub_arms)
     assert_signals_PROCEED(*RH1_home_and_dist_arms)
     assert_signals_PROCEED(*RH1_home_dist_and_sub_arms)
     sleep(delay)
     set_signals_on(*RH1_all_signals)
     assert_signals_CAUTION(*RH1_dist_arms_only)
     assert_signals_DANGER(*RH1_home_arms_only)
     assert_signals_DANGER(*RH1_home_and_sub_arms)
     assert_signals_DANGER(*shunt_signals)
+    assert_signals_CAUTION(*shunt_ahead_signals)
     assert_signals_DANGER(*RH1_home_and_dist_arms)
     assert_signals_DANGER(*RH1_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_off(*RH1_home_and_sub_arms)
     set_subsidaries_off(*RH1_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_on(*RH1_home_and_sub_arms)
@@ -283,36 +292,38 @@
     # RH2 route indications (We need to cheat to set the route)
     RH2_dist_arms_only = (74,76,69,6)
     RH2_home_arms_only = (64,66,9,21,17,42)
     RH2_home_and_sub_arms = (54,56,31,8,77,78)
     RH2_home_and_dist_arms = (62,63,25,19,79,80)
     RH2_home_dist_and_sub_arms = (47,49,26,28,81,82)
     RH2_all_signals = (RH2_dist_arms_only + RH2_home_arms_only + RH2_home_and_sub_arms +
-                   RH2_home_and_dist_arms + RH2_home_dist_and_sub_arms + shunt_signals)
+                   RH2_home_and_dist_arms + RH2_home_dist_and_sub_arms + shunt_signals + shunt_ahead_signals)
     route = list(signals_common.route_type)[5]
     print("Running basic semaphore signal switching tests for route: "+str(route))
     for sig_id in RH2_all_signals: signals.set_route (sig_id, list(signals_common.route_type)[5],"4")    
     # Tests start here
     assert_signals_PROCEED(*RH2_dist_arms_only)
     assert_signals_PROCEED(*RH2_home_arms_only)
     assert_signals_PROCEED(*RH2_home_and_sub_arms)
     assert_signals_PROCEED(*shunt_signals)
+    assert_signals_PROCEED(*shunt_ahead_signals)
     assert_signals_CAUTION(*RH2_home_and_dist_arms)
     assert_signals_CAUTION(*RH2_home_dist_and_sub_arms)
     sleep(delay)
     set_secondary_dists_off(*RH2_home_and_dist_arms)
     set_secondary_dists_off(*RH2_home_dist_and_sub_arms)
     assert_signals_PROCEED(*RH2_home_and_dist_arms)
     assert_signals_PROCEED(*RH2_home_dist_and_sub_arms)
     sleep(delay)
     set_signals_on(*RH2_all_signals)
     assert_signals_CAUTION(*RH2_dist_arms_only)
     assert_signals_DANGER(*RH2_home_arms_only)
     assert_signals_DANGER(*RH2_home_and_sub_arms)
     assert_signals_DANGER(*shunt_signals)
+    assert_signals_CAUTION(*shunt_ahead_signals)
     assert_signals_DANGER(*RH2_home_and_dist_arms)
     assert_signals_DANGER(*RH2_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_off(*RH2_home_and_sub_arms)
     set_subsidaries_off(*RH2_home_dist_and_sub_arms)
     sleep(delay)
     set_subsidaries_on(*RH2_home_and_sub_arms)
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_library_objects1.sig` & `model_railway_signals-4.2.0/system_tests/test_library_objects1.sig`

 * *Files 0% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9964648217841029%*

 * *Differences: {"'objects'": "{'053feb6a-7922-4337-bb10-f880165707c2': {'bbox': 1517}, "*

 * *              "'05e1a9dc-ff21-45e6-8b26-661eba137191': {'bbox': 1523, 'end1': 1519, 'end2': 1520, "*

 * *              "'line': 1518, 'stop1': 1521, 'stop2': 1522}, "*

 * *              "'0ada4f32-22e8-467e-ad64-e060c5129ee8': {'bbox': 1542}, "*

 * *              "'0b92c02c-b761-4d4b-9b9a-dc4c26f127e1': {'bbox': 1548}, "*

 * *              "'0f81e6c2-e582-466e-b4e5-96d5bcb39ef6': {'bbox': 1555}, "*

 * *              "'0fe62d80-bcaf-4df3-8cb0-af152e43e154': {' […]*

```diff
@@ -18,15 +18,15 @@
             "sectionstate": true
         }
     },
     "objects": {
         "053feb6a-7922-4337-bb10-f880165707c2": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3391,
+            "bbox": 1517,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 6,
             "itemtype": 2,
@@ -40,42 +40,42 @@
         "05e1a9dc-ff21-45e6-8b26-661eba137191": {
             "arrowends": 2,
             "arrowtype": [
                 20,
                 20,
                 5
             ],
-            "bbox": 3397,
+            "bbox": 1523,
             "colour": "#00ff00",
-            "end1": 3393,
-            "end2": 3394,
+            "end1": 1519,
+            "end2": 1520,
             "endx": 400.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 5,
-            "line": 3392,
+            "line": 1518,
             "posx": 350.0,
             "posy": 50.0,
-            "stop1": 3395,
-            "stop2": 3396,
+            "stop1": 1521,
+            "stop2": 1522,
             "tags": "line5"
         },
         "0ada4f32-22e8-467e-ad64-e060c5129ee8": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3416,
+            "bbox": 1542,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1133,15 +1133,15 @@
                     ]
                 ]
             ]
         },
         "0b92c02c-b761-4d4b-9b9a-dc4c26f127e1": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3423,
+            "bbox": 1548,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 3,
             "itemtype": 2,
@@ -1151,15 +1151,15 @@
             "reverse": false,
             "siginterlock": [],
             "tags": "point3"
         },
         "0f81e6c2-e582-466e-b4e5-96d5bcb39ef6": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3430,
+            "bbox": 1555,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 5,
             "itemtype": 2,
@@ -1178,15 +1178,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3449,
+            "bbox": 1574,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2253,15 +2253,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3468,
+            "bbox": 1593,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -3328,15 +3328,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3488,
+            "bbox": 1613,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4394,15 +4394,15 @@
                     ]
                 ]
             ]
         },
         "1b7a84db-6541-4df1-ab8d-4ef7b1864432": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3495,
+            "bbox": 1620,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 13,
             "itemtype": 1,
@@ -4416,44 +4416,44 @@
         "1b994030-3a99-45ed-8bf7-e776c7e2c741": {
             "arrowends": 3,
             "arrowtype": [
                 20,
                 20,
                 5
             ],
-            "bbox": 3501,
+            "bbox": 1626,
             "colour": "#0000ff",
-            "end1": 3497,
-            "end2": 3498,
+            "end1": 1622,
+            "end2": 1623,
             "endx": 500.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 6,
-            "line": 3496,
+            "line": 1621,
             "posx": 425.0,
             "posy": 50.0,
-            "stop1": 3499,
-            "stop2": 3500,
+            "stop1": 1624,
+            "stop2": 1625,
             "tags": "line6"
         },
         "1fa8aac5-1b5c-4f83-8ec5-f33a65ef133e": {
-            "bbox": 3516,
+            "bbox": 1641,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 3,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "1",
             "posx": 1400.0,
             "posy": 50.0,
             "tags": "instrument3"
         },
         "1ff1c737-4e37-4979-9f62-276b2e72ee12": {
             "background": "grey85",
-            "bbox": 3519,
+            "bbox": 1644,
             "border": 1,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -4462,15 +4462,15 @@
             "posy": 125.0,
             "tags": "1ff1c737-4e37-4979-9f62-276b2e72ee12",
             "text": "Justify\nCenter\nNormal"
         },
         "2053b6fe-69cf-48de-b6dc-116f20b2e029": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 3526,
+            "bbox": 1649,
             "colour": "#0000ff",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 11,
             "itemtype": 1,
@@ -4478,15 +4478,15 @@
             "posx": 675.0,
             "posy": 175.0,
             "reverse": false,
             "siginterlock": [],
             "tags": "point11"
         },
         "2564416e-45c0-4787-abbc-2788dd87ec95": {
-            "bbox": 3550,
+            "bbox": 1673,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 2,
             "itemtype": 2,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "4",
             "posx": 1250.0,
@@ -4501,15 +4501,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3562,
+            "bbox": 1685,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5576,15 +5576,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3574,
+            "bbox": 1697,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -6651,15 +6651,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3593,
+            "bbox": 1716,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -7726,15 +7726,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3612,
+            "bbox": 1735,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8801,15 +8801,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3631,
+            "bbox": 1754,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -9876,15 +9876,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3652,
+            "bbox": 1775,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -10951,15 +10951,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3672,
+            "bbox": 1795,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -12017,15 +12017,15 @@
                     ]
                 ]
             ]
         },
         "42c037c5-2fc6-4259-a87d-62cf59bc7479": {
             "alsoswitch": 12,
             "automatic": false,
-            "bbox": 3679,
+            "bbox": 1802,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 16,
             "itemtype": 1,
@@ -12044,15 +12044,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3698,
+            "bbox": 1821,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -13110,15 +13110,15 @@
                     ]
                 ]
             ]
         },
         "4879bd5b-c42f-475a-8061-347180955f1b": {
             "alsoswitch": 10,
             "automatic": false,
-            "bbox": 3705,
+            "bbox": 1828,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 8,
             "itemtype": 2,
@@ -13137,15 +13137,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3717,
+            "bbox": 1840,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -14201,15 +14201,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "4afb821f-7fb5-4cec-be1a-d4945e0e028b": {
-            "bbox": 3720,
+            "bbox": 1843,
             "defaultlabel": "12345",
             "editable": false,
             "item": "section",
             "itemid": 4,
             "label": "DEF",
             "mirror": "2",
             "posx": 1075.0,
@@ -14225,15 +14225,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3740,
+            "bbox": 1863,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -15300,15 +15300,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3759,
+            "bbox": 1882,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -16370,33 +16370,33 @@
         "5cfce4d1-bdc8-48f1-8db9-c8d023778a98": {
             "arrowends": 3,
             "arrowtype": [
                 20,
                 20,
                 8
             ],
-            "bbox": 3765,
+            "bbox": 1888,
             "colour": "black",
-            "end1": 3761,
-            "end2": 3762,
+            "end1": 1884,
+            "end2": 1885,
             "endx": 750.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 9,
-            "line": 3760,
+            "line": 1883,
             "posx": 675.0,
             "posy": 50.0,
-            "stop1": 3763,
-            "stop2": 3764,
+            "stop1": 1886,
+            "stop2": 1887,
             "tags": "line9"
         },
         "60196aff-19d8-4a4d-bd5b-6e287777e001": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 3772,
+            "bbox": 1893,
             "colour": "#ffffff",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 12,
             "itemtype": 1,
@@ -16405,15 +16405,15 @@
             "posy": 175.0,
             "reverse": true,
             "siginterlock": [],
             "tags": "point12"
         },
         "65a2d68e-5e35-4d89-ad06-b4ea19c79ec6": {
             "background": "#d9d9f1",
-            "bbox": 3775,
+            "bbox": 1896,
             "border": 0,
             "colour": "#0000f9",
             "font": "Courier",
             "fontsize": 16,
             "fontstyle": "underline ",
             "item": "textbox",
             "itemid": 0,
@@ -16422,15 +16422,15 @@
             "posy": 200.0,
             "tags": "65a2d68e-5e35-4d89-ad06-b4ea19c79ec6",
             "text": "Big Text without a Border"
         },
         "65ea9ab3-4b0e-4984-be97-13f01108d7f0": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3782,
+            "bbox": 1903,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 15,
             "itemtype": 1,
@@ -16449,15 +16449,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3801,
+            "bbox": 1922,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -17524,15 +17524,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3820,
+            "bbox": 1941,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -18590,15 +18590,15 @@
                     ]
                 ]
             ]
         },
         "6fd9fa5c-372d-4d6d-a8f8-efb02c07a2db": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3827,
+            "bbox": 1947,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 4,
             "itemtype": 2,
@@ -18617,15 +18617,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3847,
+            "bbox": 1967,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -19683,15 +19683,15 @@
                     ]
                 ]
             ]
         },
         "72f09e5b-29c8-41f1-ae04-f46f5cfb70a4": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 3854,
+            "bbox": 1972,
             "colour": "#00ff00",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 10,
             "itemtype": 2,
@@ -19710,15 +19710,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3874,
+            "bbox": 1992,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -20785,15 +20785,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3894,
+            "bbox": 2012,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -21860,15 +21860,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3914,
+            "bbox": 2032,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -22926,15 +22926,15 @@
                     ]
                 ]
             ]
         },
         "7bc29386-cbc0-4933-872b-2d254f130b99": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 3921,
+            "bbox": 2038,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 2,
             "itemtype": 2,
@@ -22942,15 +22942,15 @@
             "posx": 150.0,
             "posy": 100.0,
             "reverse": true,
             "siginterlock": [],
             "tags": "point2"
         },
         "81ce1745-0d19-431c-893e-2c2dacdd324e": {
-            "bbox": 3924,
+            "bbox": 2041,
             "defaultlabel": "XXXXX",
             "editable": false,
             "item": "section",
             "itemid": 3,
             "label": "ABC",
             "mirror": "1",
             "posx": 1000.0,
@@ -22961,42 +22961,42 @@
         "8524cdb7-b066-4755-8630-13c2088f7229": {
             "arrowends": 3,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3930,
+            "bbox": 2047,
             "colour": "black",
-            "end1": 3926,
-            "end2": 3927,
+            "end1": 2043,
+            "end2": 2044,
             "endx": 250.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 3,
-            "line": 3925,
+            "line": 2042,
             "posx": 200.0,
             "posy": 50.0,
-            "stop1": 3928,
-            "stop2": 3929,
+            "stop1": 2045,
+            "stop2": 2046,
             "tags": "line3"
         },
         "85b2463e-ea08-431c-8363-5d8b86586acf": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3950,
+            "bbox": 2067,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -24063,15 +24063,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3962,
+            "bbox": 2079,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -25138,15 +25138,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3981,
+            "bbox": 2098,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -26213,15 +26213,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3993,
+            "bbox": 2110,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -27288,15 +27288,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4005,
+            "bbox": 2122,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -28363,15 +28363,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4017,
+            "bbox": 2134,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -29427,30 +29427,30 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "9002b06d-954a-4bd3-ad24-96045778d202": {
-            "bbox": 4020,
+            "bbox": 2137,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 1,
             "label": "ABC",
             "mirror": "",
             "posx": 850.0,
             "posy": 50.0,
             "state": true,
             "tags": "section1"
         },
         "91bf3074-5f3f-45f1-b398-ced7a4aef742": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 4027,
+            "bbox": 2143,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 14,
             "itemtype": 1,
@@ -29460,15 +29460,15 @@
             "reverse": false,
             "siginterlock": [],
             "tags": "point14"
         },
         "92c14e0a-6980-4380-8105-d55c9d64aaef": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 4034,
+            "bbox": 2149,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 17,
             "itemtype": 1,
@@ -29482,42 +29482,42 @@
         "95b7e945-b457-45d1-b80b-8e4ad5e64a4c": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 4040,
+            "bbox": 2155,
             "colour": "black",
-            "end1": 4036,
-            "end2": 4037,
+            "end1": 2151,
+            "end2": 2152,
             "endx": 100.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 1,
-            "line": 4035,
+            "line": 2150,
             "posx": 50.0,
             "posy": 50.0,
-            "stop1": 4038,
-            "stop2": 4039,
+            "stop1": 2153,
+            "stop2": 2154,
             "tags": "line1"
         },
         "99230944-029f-42b4-bf3e-6b05cda36120": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4060,
+            "bbox": 2175,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -30584,15 +30584,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4081,
+            "bbox": 2196,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -31659,15 +31659,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4100,
+            "bbox": 2215,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -32724,15 +32724,15 @@
                         0
                     ]
                 ]
             ]
         },
         "ac15cf60-4ad6-4dfc-b982-45d76ad1b4c8": {
             "background": "#21d9d9",
-            "bbox": 4103,
+            "bbox": 2218,
             "border": 2,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "bold ",
             "item": "textbox",
             "itemid": 0,
@@ -32741,15 +32741,15 @@
             "posy": 125.0,
             "tags": "ac15cf60-4ad6-4dfc-b982-45d76ad1b4c8",
             "text": "Justify\nLeft\nbold"
         },
         "b0ae6f43-3247-44a1-b6de-18c8247edf21": {
             "alsoswitch": 11,
             "automatic": false,
-            "bbox": 4110,
+            "bbox": 2225,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 19,
             "itemtype": 1,
@@ -32763,42 +32763,42 @@
         "b48035d8-2564-4c1d-a6ca-09dbff2def3b": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 4116,
+            "bbox": 2231,
             "colour": "black",
-            "end1": 4112,
-            "end2": 4113,
+            "end1": 2227,
+            "end2": 2228,
             "endx": 175.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 2,
-            "line": 4111,
+            "line": 2226,
             "posx": 125.0,
             "posy": 50.0,
-            "stop1": 4114,
-            "stop2": 4115,
+            "stop1": 2229,
+            "stop2": 2230,
             "tags": "line2"
         },
         "b654be08-1b1d-40f3-8e2d-5a03b8cc803d": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4128,
+            "bbox": 2243,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -33865,15 +33865,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4147,
+            "bbox": 2262,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -34930,15 +34930,15 @@
                         0
                     ]
                 ]
             ]
         },
         "be4aea86-1f26-4cf3-9971-04865846cf38": {
             "background": "grey85",
-            "bbox": 4150,
+            "bbox": 2265,
             "border": 3,
             "colour": "#ff0000",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "italic ",
             "item": "textbox",
             "itemid": 0,
@@ -34956,15 +34956,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4169,
+            "bbox": 2284,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -36020,29 +36020,29 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "c18b6c22-b077-498f-a56e-f35359349f4f": {
-            "bbox": 4193,
+            "bbox": 2308,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 4,
             "itemtype": 2,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "2",
             "posx": 1400.0,
             "posy": 300.0,
             "tags": "instrument4"
         },
         "c1c9f3e1-2805-494e-8a55-c2ebdb9493f8": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 4200,
+            "bbox": 2314,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 20,
             "itemtype": 1,
@@ -36050,15 +36050,15 @@
             "posx": 75.0,
             "posy": 175.0,
             "reverse": false,
             "siginterlock": [],
             "tags": "point20"
         },
         "c2bacf51-1b13-4507-a3ee-87011591bba5": {
-            "bbox": 4203,
+            "bbox": 2317,
             "defaultlabel": "12345",
             "editable": true,
             "item": "section",
             "itemid": 2,
             "label": "DEF",
             "mirror": "",
             "posx": 925.0,
@@ -36074,15 +36074,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4222,
+            "bbox": 2336,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -37149,15 +37149,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4242,
+            "bbox": 2356,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -38213,15 +38213,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "ce8ac4e7-e4a6-49f4-ab13-acf69940385e": {
-            "bbox": 4257,
+            "bbox": 2371,
             "bellsound": "bell-ring-01.wav",
             "item": "instrument",
             "itemid": 1,
             "itemtype": 1,
             "keysound": "telegraph-key-01.wav",
             "linkedto": "3",
             "posx": 1250.0,
@@ -38231,64 +38231,64 @@
         "d142e6fa-8854-4b87-a060-7d76e2fe8f8c": {
             "arrowends": 2,
             "arrowtype": [
                 20,
                 20,
                 8
             ],
-            "bbox": 4263,
+            "bbox": 2377,
             "colour": "black",
-            "end1": 4259,
-            "end2": 4260,
+            "end1": 2373,
+            "end2": 2374,
             "endx": 650.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 8,
-            "line": 4258,
+            "line": 2372,
             "posx": 600.0,
             "posy": 50.0,
-            "stop1": 4261,
-            "stop2": 4262,
+            "stop1": 2375,
+            "stop2": 2376,
             "tags": "line8"
         },
         "d7d4f8d8-4e71-4272-a3b5-da88b587ea87": {
             "arrowends": 1,
             "arrowtype": [
                 20,
                 20,
                 5
             ],
-            "bbox": 4269,
+            "bbox": 2383,
             "colour": "#ff0300",
-            "end1": 4265,
-            "end2": 4266,
+            "end1": 2379,
+            "end2": 2380,
             "endx": 325.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 4,
-            "line": 4264,
+            "line": 2378,
             "posx": 275.0,
             "posy": 50.0,
-            "stop1": 4267,
-            "stop2": 4268,
+            "stop1": 2381,
+            "stop2": 2382,
             "tags": "line4"
         },
         "d7f16ff2-2a3e-4e70-bb8a-b46809efd0ca": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4288,
+            "bbox": 2402,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -39346,15 +39346,15 @@
                     ]
                 ]
             ]
         },
         "dd819af5-409e-423a-a480-9a0a3ebe0121": {
             "alsoswitch": 9,
             "automatic": false,
-            "bbox": 4295,
+            "bbox": 2409,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 7,
             "itemtype": 2,
@@ -39364,15 +39364,15 @@
             "reverse": false,
             "siginterlock": [],
             "tags": "point7"
         },
         "e7bc5daa-aa6a-4c55-8d4e-7341742666ec": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 4302,
+            "bbox": 2415,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 18,
             "itemtype": 1,
@@ -39391,15 +39391,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4321,
+            "bbox": 2434,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -40457,15 +40457,15 @@
                     ]
                 ]
             ]
         },
         "ed3d241d-7446-4c66-a078-4ecd1dc1fcc6": {
             "alsoswitch": 0,
             "automatic": false,
-            "bbox": 4328,
+            "bbox": 2440,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -40484,15 +40484,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4347,
+            "bbox": 2459,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -41550,15 +41550,15 @@
                     ]
                 ]
             ]
         },
         "f50b64e4-eb07-4455-ad99-613aa3775614": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 4354,
+            "bbox": 2464,
             "colour": "#ff0000",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 9,
             "itemtype": 2,
@@ -41572,27 +41572,27 @@
         "fcb7ccd0-6ef7-4e3d-a4f6-4ee57b24fdd2": {
             "arrowends": 1,
             "arrowtype": [
                 20,
                 20,
                 8
             ],
-            "bbox": 4360,
+            "bbox": 2470,
             "colour": "black",
-            "end1": 4356,
-            "end2": 4357,
+            "end1": 2466,
+            "end2": 2467,
             "endx": 575.0,
             "endy": 50.0,
             "item": "line",
             "itemid": 7,
-            "line": 4355,
+            "line": 2465,
             "posx": 525.0,
             "posy": 50.0,
-            "stop1": 4358,
-            "stop2": 4359,
+            "stop1": 2468,
+            "stop2": 2469,
             "tags": "line7"
         }
     },
     "points": {
         "1": {
             "fpllock": false,
             "locked": false,
@@ -41701,17 +41701,18 @@
             "height": 600,
             "snaptogrid": true,
             "width": 1600
         },
         "general": {
             "automation": true,
             "editmode": true,
-            "filename": "/home/pi/model-railway-signalling/system_tests/test_library_objects1.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/system_tests/test_library_objects1.sig",
             "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_library_objects2.sig` & `model_railway_signals-4.2.0/system_tests/test_library_objects2.sig`

 * *Files 0% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9974578373015872%*

 * *Differences: {"'objects'": "{'006c9316-3555-4f4f-8660-ab493ccf1397': {'bbox': 2617}, "*

 * *              "'02ae5fdb-6ec7-4e02-8a14-d27f1e851edb': {'bbox': 2651}, "*

 * *              "'06697dfc-8285-4325-9dc8-d54bad211be4': {'bbox': 2682}, "*

 * *              "'06bd6b77-715b-484a-a82b-b340671eb10d': {'bbox': 2711}, "*

 * *              "'07692177-1f1c-4af2-acdb-cbb2909ebdc5': {'bbox': 2767}, "*

 * *              "'0a1c3835-83f1-4f05-9650-c49f5d653200': {'bbox': 2801}, "*

 * *              "'0a5bc344-bc8d-4d7f-8ba4-c442362dbc94': {'bbox': 2832}, "*

 * * […]*

```diff
@@ -10,15 +10,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4507,
+            "bbox": 2617,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1085,15 +1085,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4541,
+            "bbox": 2651,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2160,15 +2160,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4572,
+            "bbox": 2682,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -3235,15 +3235,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4601,
+            "bbox": 2711,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4310,15 +4310,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4657,
+            "bbox": 2767,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5385,15 +5385,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4691,
+            "bbox": 2801,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -6460,15 +6460,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4722,
+            "bbox": 2832,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -7535,15 +7535,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4750,
+            "bbox": 2860,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -8610,15 +8610,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4784,
+            "bbox": 2894,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -9685,15 +9685,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4824,
+            "bbox": 2934,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -10760,15 +10760,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4883,
+            "bbox": 2993,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -11835,15 +11835,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4914,
+            "bbox": 3024,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -12910,15 +12910,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 4970,
+            "bbox": 3080,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -13985,15 +13985,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5010,
+            "bbox": 3120,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -15060,15 +15060,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5075,
+            "bbox": 3185,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -16135,15 +16135,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5109,
+            "bbox": 3219,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -17210,15 +17210,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5143,
+            "bbox": 3253,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -18285,15 +18285,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5174,
+            "bbox": 3284,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -19360,15 +19360,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5208,
+            "bbox": 3318,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -20435,15 +20435,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5267,
+            "bbox": 3377,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -21510,15 +21510,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5295,
+            "bbox": 3405,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -22585,15 +22585,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5326,
+            "bbox": 3436,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -23660,15 +23660,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5366,
+            "bbox": 3476,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -24735,15 +24735,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5422,
+            "bbox": 3532,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -25810,15 +25810,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5456,
+            "bbox": 3566,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -26885,15 +26885,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5487,
+            "bbox": 3597,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -27960,15 +27960,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5521,
+            "bbox": 3631,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -29035,15 +29035,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5552,
+            "bbox": 3662,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -30110,15 +30110,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5611,
+            "bbox": 3721,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -31185,15 +31185,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5640,
+            "bbox": 3750,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -32260,15 +32260,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5669,
+            "bbox": 3779,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -33335,15 +33335,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5700,
+            "bbox": 3810,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -34410,15 +34410,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5759,
+            "bbox": 3869,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -35485,15 +35485,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5813,
+            "bbox": 3923,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -36560,15 +36560,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5866,
+            "bbox": 3976,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -37635,15 +37635,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5931,
+            "bbox": 4041,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -38710,15 +38710,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 5985,
+            "bbox": 4095,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -39785,15 +39785,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6013,
+            "bbox": 4123,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -40860,15 +40860,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6053,
+            "bbox": 4163,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -41935,15 +41935,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6112,
+            "bbox": 4222,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -43010,15 +43010,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6171,
+            "bbox": 4281,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -44085,15 +44085,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6180,
+            "bbox": 4290,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -45160,15 +45160,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6211,
+            "bbox": 4321,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -46235,15 +46235,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6267,
+            "bbox": 4377,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -47310,15 +47310,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6320,
+            "bbox": 4430,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -48385,15 +48385,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6354,
+            "bbox": 4464,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -49460,15 +49460,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6413,
+            "bbox": 4523,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -50535,15 +50535,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6447,
+            "bbox": 4557,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -51610,15 +51610,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6476,
+            "bbox": 4586,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -52685,15 +52685,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6535,
+            "bbox": 4645,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -53760,15 +53760,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6594,
+            "bbox": 4704,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -54835,15 +54835,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6653,
+            "bbox": 4763,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -55910,15 +55910,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6662,
+            "bbox": 4772,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -56985,15 +56985,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6727,
+            "bbox": 4837,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -58060,15 +58060,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6755,
+            "bbox": 4865,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -59135,15 +59135,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6811,
+            "bbox": 4921,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -60210,15 +60210,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6876,
+            "bbox": 4986,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -61285,15 +61285,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6910,
+            "bbox": 5020,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -62360,15 +62360,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 6964,
+            "bbox": 5074,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -63435,15 +63435,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7020,
+            "bbox": 5130,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -64510,15 +64510,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7054,
+            "bbox": 5164,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -65585,15 +65585,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7085,
+            "bbox": 5195,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -66660,15 +66660,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7119,
+            "bbox": 5229,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -67735,15 +67735,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7178,
+            "bbox": 5288,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -68810,15 +68810,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7187,
+            "bbox": 5297,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -69885,15 +69885,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7246,
+            "bbox": 5356,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -70960,15 +70960,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7277,
+            "bbox": 5387,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -72035,15 +72035,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7331,
+            "bbox": 5441,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -73110,15 +73110,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7384,
+            "bbox": 5494,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -74185,15 +74185,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7440,
+            "bbox": 5550,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -75260,15 +75260,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7480,
+            "bbox": 5590,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -76335,15 +76335,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7511,
+            "bbox": 5621,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -77410,15 +77410,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7545,
+            "bbox": 5655,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -78485,15 +78485,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7573,
+            "bbox": 5683,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -79560,15 +79560,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7607,
+            "bbox": 5717,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -80635,15 +80635,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7663,
+            "bbox": 5773,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -81710,15 +81710,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7697,
+            "bbox": 5807,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -82785,15 +82785,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7731,
+            "bbox": 5841,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -83860,15 +83860,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7759,
+            "bbox": 5869,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -84935,15 +84935,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7768,
+            "bbox": 5878,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -86010,15 +86010,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7808,
+            "bbox": 5918,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -87085,15 +87085,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 7842,
+            "bbox": 5952,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -88161,17 +88161,18 @@
             "height": 850,
             "snaptogrid": true,
             "width": 1475
         },
         "general": {
             "automation": true,
             "editmode": true,
-            "filename": "/home/pi/model-railway-signalling/system_tests/test_library_objects2.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/system_tests/test_library_objects2.sig",
             "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_load_layout_failures.py` & `model_railway_signals-4.2.0/system_tests/test_load_layout_failures.py`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/test_load_layout_failures1.sig` & `model_railway_signals-4.2.0/system_tests/test_load_layout_failures1.sig`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/test_load_layout_failures2.sig` & `model_railway_signals-4.2.0/system_tests/test_load_layout_failures2.sig`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/test_load_layout_failures3.sig` & `model_railway_signals-4.2.0/system_tests/test_load_layout_failures3.sig`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/system_tests/test_mqtt_networking.py` & `model_railway_signals-4.2.0/system_tests/test_mqtt_networking.py`

 * *Files 17% similar despite different names*

```diff
@@ -241,52 +241,45 @@
 # Test Publish and subscribe to remote track sensors
 #-----------------------------------------------------------------------------------
 
 def run_remote_track_sensor_tests(delay:float=0.0):
     print("MQTT remote track sensor tests")
     # As we are using networking, we need to introduce an additional delay for messages
     # to be sent to and received from the MQTT message broker - as we are using a
-    # local broker, a short delay of 100ms should suffice
+    # local broker, a short 'network_delay' of 100ms should suffice
+    # We also need to introduce a delay for triggering of the remote GPIO sensors
+    # as these are configured with a timeout period of 0.1 seconds (this means that
+    # any additional triggers received within the 0.1 seconds will be ignored
+    gpio_trigger_delay = 0.2
     network_delay = 0.1
     reset_layout()
-    sleep(delay)
-    sleep(network_delay)
-    set_signals_off(5)
-    sleep(delay)
-    sleep(network_delay)
-    set_signals_off(7,8,9)
-    sleep(delay)
-    sleep(network_delay)
+    sleep(delay+network_delay)
+    set_signals_off(5,7,8,9)
+    sleep(delay+network_delay)
     assert_sections_clear(5,6,7,8,9)
     set_sections_occupied(5)
-    sleep(delay)
-    sleep(network_delay)
+    sleep(delay+network_delay)
     simulate_gpio_triggered(4)
-    sleep(delay)
-    sleep(network_delay)
+    sleep(delay+network_delay+gpio_trigger_delay)
     assert_sections_occupied(6)
     assert_sections_clear(5,7,8,9)
     simulate_gpio_triggered(5)
-    sleep(delay)
-    sleep(network_delay)
+    sleep(delay+network_delay+gpio_trigger_delay)
     assert_sections_occupied(7)
     assert_sections_clear(5,6,8,9)
     simulate_gpio_triggered(6)
-    sleep(delay)
-    sleep(network_delay)
+    sleep(delay+network_delay+gpio_trigger_delay)
     assert_sections_occupied(8)
     assert_sections_clear(5,6,7,9)
-    simulate_gpio_triggered(12)
-    sleep(delay)
-    sleep(network_delay)
+    simulate_gpio_triggered(7)
+    sleep(delay+network_delay+gpio_trigger_delay)
     assert_sections_occupied(9)
     assert_sections_clear(5,6,7,8)
     set_signals_on(5)
     sleep(delay)
-    sleep(network_delay)
     set_signals_on(7,8,9)
     return()
 
 #-----------------------------------------------------------------------------------
 # This tests that received events that we are no longer interested in
 # are safely ignored (i.e. no exceptions generated)
 #-----------------------------------------------------------------------------------
@@ -367,19 +360,16 @@
      
 ######################################################################################################
 
 def run_all_mqtt_networking_tests(delay:float=0.0, shutdown:bool=False):
     initialise_test_harness(filename="./test_mqtt_networking.sig")
     # Edit/save all schematic objects to give confidence that editing doesn't break the layout configuration
     set_edit_mode()
-    sleep(delay)
     test_object_edit_windows.test_all_object_edit_windows(delay)
-    sleep(delay)
     set_run_mode()
-    sleep(delay)
     run_basic_networking_tests(delay)
     run_remote_track_sensor_tests(delay)
     run_specific_signal_ahead_tests(delay)
     run_object_deletion_tests(delay)
     if shutdown: report_results()
     
 if __name__ == "__main__":
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_mqtt_networking.sig` & `model_railway_signals-4.2.0/user_guide/quickstart_example3.sig`

 * *Files 12% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.7069231859410431%*

 * *Differences: {"'instruments'": '{replace: OrderedDict()}',*

 * * "'objects'": "{replace: OrderedDict([('027167c4-575e-4384-9e79-d97b56ae3e01', "*

 * *              "OrderedDict([('background', 'grey85'), ('bbox', 1051), ('border', 0), ('colour', "*

 * *              "'black'), ('font', 'Courier'), ('fontsize', 8), ('fontstyle', ''), ('item', "*

 * *              "'textbox'), ('itemid', 0), ('justify', 2), ('posx', 1146.0), ('posy', 62.0), "*

 * *              "('tags', '027167c4-575e-4384-9e79-d97b56ae3e01'), ('text', 'TT-DS10')])), "*

 * *          […]*

```diff
@@ -1,1313 +1,95 @@
 {
     "information": "Model Railway Signalling Configuration File",
-    "instruments": {
-        "1": {
-            "repeaterstate": null,
-            "sectionstate": null
-        },
-        "2": {
-            "repeaterstate": null,
-            "sectionstate": null
-        },
-        "Box1-1": {
-            "repeaterstate": null,
-            "sectionstate": null
-        },
-        "Box1-2": {
-            "repeaterstate": null,
-            "sectionstate": null
-        }
-    },
+    "instruments": {},
     "objects": {
-        "07ac0721-6451-43db-b2a4-b114a516d0e5": {
-            "bbox": 2508,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 7,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 450.0,
-            "posy": 475.0,
-            "state": false,
-            "tags": "section7"
-        },
-        "0fadffdc-012f-4d63-aa88-3964c28850b5": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2514,
+        "027167c4-575e-4384-9e79-d97b56ae3e01": {
+            "background": "grey85",
+            "bbox": 1051,
+            "border": 0,
             "colour": "black",
-            "end1": 2510,
-            "end2": 2511,
-            "endx": 850.0,
-            "endy": 475.0,
-            "item": "line",
-            "itemid": 6,
-            "line": 2509,
-            "posx": 50.0,
-            "posy": 475.0,
-            "stop1": 2512,
-            "stop2": 2513,
-            "tags": "line6"
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1146.0,
+            "posy": 62.0,
+            "tags": "027167c4-575e-4384-9e79-d97b56ae3e01",
+            "text": "TT-DS10"
         },
-        "14c21c57-208a-4bdb-bc9e-b59169b5cd0e": {
+        "07cd6ea1-f297-4487-867f-b3d735e1fc41": {
             "arrowends": 2,
             "arrowtype": [
-                16,
                 20,
-                5
-            ],
-            "bbox": 2520,
-            "colour": "black",
-            "end1": 2516,
-            "end2": 2517,
-            "endx": 350.0,
-            "endy": 200.0,
-            "item": "line",
-            "itemid": 25,
-            "line": 2515,
-            "posx": 275.0,
-            "posy": 200.0,
-            "stop1": 2518,
-            "stop2": 2519,
-            "tags": "line25"
-        },
-        "1c90954a-0075-404e-9c0a-911b924d0d9a": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
                 20,
                 5
             ],
-            "bbox": 2526,
+            "bbox": 1057,
             "colour": "black",
-            "end1": 2522,
-            "end2": 2523,
-            "endx": 350.0,
-            "endy": 75.0,
-            "item": "line",
-            "itemid": 8,
-            "line": 2521,
-            "posx": 50.0,
-            "posy": 75.0,
-            "stop1": 2524,
-            "stop2": 2525,
-            "tags": "line8"
-        },
-        "26d9993d-7068-47ae-8021-a6b2a2069f88": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2532,
-            "colour": "black",
-            "end1": 2528,
-            "end2": 2529,
-            "endx": 575.0,
-            "endy": 150.0,
-            "item": "line",
-            "itemid": 28,
-            "line": 2527,
-            "posx": 350.0,
-            "posy": 150.0,
-            "stop1": 2530,
-            "stop2": 2531,
-            "tags": "line28"
-        },
-        "27f5b927-ee11-4e85-b555-08e086cc5799": {
-            "bbox": 2535,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 2,
-            "label": "XXXXX",
-            "mirror": "Box1-1",
-            "posx": 875.0,
-            "posy": 275.0,
-            "state": false,
-            "tags": "section2"
-        },
-        "2c567416-9c96-4f83-93e4-6071250044f3": {
-            "bbox": 2538,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 8,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 625.0,
-            "posy": 475.0,
-            "state": false,
-            "tags": "section8"
-        },
-        "353be14a-3f85-4327-a228-9f07929ea61a": {
-            "arrowends": 1,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 2544,
-            "colour": "black",
-            "end1": 2540,
-            "end2": 2541,
-            "endx": 575.0,
-            "endy": 400.0,
+            "end1": 1053,
+            "end2": 1054,
+            "endx": 1275.0,
+            "endy": 225.0,
             "item": "line",
             "itemid": 5,
-            "line": 2539,
-            "posx": 375.0,
-            "posy": 400.0,
-            "stop1": 2542,
-            "stop2": 2543,
+            "line": 1052,
+            "posx": 825.0,
+            "posy": 225.0,
+            "stop1": 1055,
+            "stop2": 1056,
             "tags": "line5"
         },
-        "35b3babc-89d0-4ca0-b9c9-a7a3e8318daa": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 2572,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": true,
-            "item": "signal",
-            "itemid": 2,
-            "itemsubtype": 2,
-            "itemtype": 3,
+        "07d52e15-c961-4ee9-8227-5c7e7ade9d7c": {
+            "alsoswitch": 0,
+            "automatic": false,
+            "bbox": 1064,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": true,
+            "item": "point",
+            "itemid": 1,
+            "itemtype": 2,
             "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "3",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 125.0,
-            "posy": 300.0,
-            "sigarms": [
+            "posx": 800.0,
+            "posy": 225.0,
+            "reverse": false,
+            "siginterlock": [
                 [
+                    4,
                     [
                         true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
+                        true,
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal2",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
+                        false
                     ]
                 ]
-            ]
-        },
-        "3832db83-6623-4211-8c07-a9faf26955f1": {
-            "arrowends": 1,
-            "arrowtype": [
-                16,
-                20,
-                5
             ],
-            "bbox": 2578,
-            "colour": "black",
-            "end1": 2574,
-            "end2": 2575,
-            "endx": 575.0,
-            "endy": 200.0,
-            "item": "line",
-            "itemid": 1,
-            "line": 2573,
-            "posx": 375.0,
-            "posy": 200.0,
-            "stop1": 2576,
-            "stop2": 2577,
-            "tags": "line1"
-        },
-        "4569a848-bc65-487d-a60a-039fa6fb7606": {
-            "arrowends": 1,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 2584,
-            "colour": "black",
-            "end1": 2580,
-            "end2": 2581,
-            "endx": 575.0,
-            "endy": 75.0,
-            "item": "line",
-            "itemid": 7,
-            "line": 2579,
-            "posx": 375.0,
-            "posy": 75.0,
-            "stop1": 2582,
-            "stop2": 2583,
-            "tags": "line7"
+            "tags": "point1"
         },
-        "479c5943-f0e7-4a7d-84f5-6a21e9f93142": {
+        "092832b9-9016-46ab-add9-a509340a444e": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2603,
+            "bbox": 1083,
             "dccaspects": [
                 [
                     [
-                        103,
+                        120,
                         true
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -1325,15 +107,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        103,
+                        120,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -1351,15 +133,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        121,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -1377,16 +159,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        122,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -1797,23 +579,23 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 9,
-            "itemsubtype": 1,
+            "itemid": 12,
+            "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
                 "12"
             ],
             "pointinterlock": [
                 [
                     [
@@ -1838,15 +620,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "13",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -1962,16 +744,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 700.0,
-            "posy": 475.0,
+            "posx": 375.0,
+            "posy": 274.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -2266,15 +1048,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal9",
+            "tags": "signal12",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -2328,18 +1110,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                12,
                 [
                     [
-                        9,
+                        13,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -2358,44 +1140,60 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "5976fd88-31f9-49df-af5b-6b6e7758be00": {
-            "bbox": 2606,
+        "1cd0d6ee-bf33-4e85-ad10-162a5114e499": {
+            "background": "grey85",
+            "bbox": 1086,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1170.0,
+            "posy": 239.0,
+            "tags": "1cd0d6ee-bf33-4e85-ad10-162a5114e499",
+            "text": "TT-DS10"
+        },
+        "1d324970-3029-401b-8c66-8425a680ff42": {
+            "bbox": 1088,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 9,
+            "itemid": 13,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 800.0,
-            "posy": 475.0,
+            "posx": 250.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section9"
+            "tags": "section13"
         },
-        "5be33ccf-2f0e-4f01-8cd7-074da843b121": {
+        "21fcacd0-09b2-4aa9-8bb7-98915570f164": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2625,
+            "bbox": 1107,
             "dccaspects": [
                 [
                     [
-                        0,
+                        30,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -2413,16 +1211,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        30,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2439,16 +1237,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        31,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2465,15 +1263,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        31,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -2491,16 +1289,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        32,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2517,15 +1315,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        32,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -2888,23 +1686,23 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 16,
+            "itemid": 3,
             "itemsubtype": 5,
             "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "3"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -2926,15 +1724,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -3051,15 +1849,15 @@
                         ]
                     ],
                     "",
                     0
                 ]
             ],
             "posx": 475.0,
-            "posy": 75.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -3354,22 +2152,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal16",
+            "tags": "signal3",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    true,
-                    16,
+                    false,
+                    0,
                     0,
-                    1
+                    0
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -3416,18 +2214,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                3,
                 [
                     [
-                        0,
+                        4,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -3446,32 +2244,54 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "618e3df3-2195-4b66-8bab-81e962a66f92": {
+        "22f81342-7494-4b39-bf36-8d80e25790e6": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1113,
+            "colour": "black",
+            "end1": 1109,
+            "end2": 1110,
+            "endx": 900.0,
+            "endy": 100.0,
+            "item": "line",
+            "itemid": 2,
+            "line": 1108,
+            "posx": 800.0,
+            "posy": 200.0,
+            "stop1": 1111,
+            "stop2": 1112,
+            "tags": "line2"
+        },
+        "242be6a5-b50d-4967-b1b3-e0d99ae4039f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2644,
+            "bbox": 1132,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        100,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3488,15 +2308,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        100,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -3514,15 +2334,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        101,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -3540,16 +2360,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        101,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3960,32 +2780,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": true,
+            "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 6,
+            "itemid": 10,
             "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "10"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -4001,15 +2821,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "Box1-16",
+                    "11",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -4125,16 +2945,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 250.0,
-            "posy": 75.0,
+            "posx": 1000.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -4429,15 +3249,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal6",
+            "tags": "signal10",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -4491,18 +3311,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                10,
                 [
                     [
-                        0,
+                        11,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -4521,31 +3341,31 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6290ec64-a00c-43d0-8300-39384b943e84": {
+        "334f3330-b847-4d50-968a-4d058e682f01": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2663,
+            "bbox": 1151,
             "dccaspects": [
                 [
                     [
-                        102,
+                        80,
                         true
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -4563,15 +3383,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        102,
+                        80,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -4589,15 +3409,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        81,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -4615,16 +3435,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        81,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5039,29 +3859,29 @@
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
             "itemid": 8,
-            "itemsubtype": 1,
+            "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "6"
+                "8"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            2,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -5076,15 +3896,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "11",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -5200,16 +4020,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 525.0,
-            "posy": 475.0,
+            "posx": 1000.0,
+            "posy": 150.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -5277,17 +4097,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        4,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -5569,15 +4389,15 @@
                     0
                 ]
             ],
             "tracksections": [
                 7,
                 [
                     [
-                        8,
+                        11,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -5596,32 +4416,70 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6c791787-8ce0-4db7-9308-7c5144fe412f": {
+        "33bf5593-6030-4282-a957-c96d2a12548f": {
+            "background": "grey85",
+            "bbox": 1154,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1126.0,
+            "posy": 314.0,
+            "tags": "33bf5593-6030-4282-a957-c96d2a12548f",
+            "text": "TT-DS10"
+        },
+        "3861465f-82fc-4911-853a-558f4bf91a71": {
+            "arrowends": 1,
+            "arrowtype": [
+                20,
+                20,
+                5
+            ],
+            "bbox": 1160,
+            "colour": "black",
+            "end1": 1156,
+            "end2": 1157,
+            "endx": 800.0,
+            "endy": 275.0,
+            "item": "line",
+            "itemid": 3,
+            "line": 1155,
+            "posx": 25.0,
+            "posy": 275.0,
+            "stop1": 1158,
+            "stop2": 1159,
+            "tags": "line3"
+        },
+        "42dceb78-03de-49ac-898a-6ca5aea4b6db": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2719,
+            "bbox": 1179,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        61,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5638,15 +4496,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        60,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -5664,15 +4522,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        62,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -5690,16 +4548,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        63,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -6102,40 +4960,40 @@
                         [
                             0,
                             false
                         ]
                     ]
                 ]
             ],
-            "distautomatic": true,
+            "distautomatic": false,
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": true,
+            "fullyautomatic": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 1,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 6,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
-            "overrideahead": true,
+            "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "6"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            1,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -6151,22 +5009,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "Box1-12",
+                    "",
                     0
                 ],
                 [
                     [
                         [
-                            1,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -6181,15 +5039,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "Box1-11",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -6275,16 +5133,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 125.0,
-            "posy": 200.0,
+            "posx": 1100.0,
+            "posy": 100.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -6294,23 +5152,23 @@
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
-                        true,
+                        false,
                         0
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -6563,15 +5421,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                true,
+                false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -6579,22 +5437,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal1",
+            "tags": "signal6",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    6,
                     0,
-                    0
+                    5
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -6641,15 +5499,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                6,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -6671,66 +5529,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6f4c3d24-b18c-4857-8161-03913dcca4bf": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 2725,
-            "colour": "black",
-            "end1": 2721,
-            "end2": 2722,
-            "endx": 225.0,
-            "endy": 200.0,
-            "item": "line",
-            "itemid": 26,
-            "line": 2720,
-            "posx": 50.0,
-            "posy": 200.0,
-            "stop1": 2723,
-            "stop2": 2724,
-            "tags": "line26"
-        },
-        "70fc3e04-4419-42d9-83fe-295ca1e55b72": {
-            "bbox": 2740,
-            "bellsound": "bell-ring-01.wav",
-            "item": "instrument",
-            "itemid": 2,
-            "itemtype": 1,
-            "keysound": "telegraph-key-01.wav",
-            "linkedto": "Box1-1",
-            "posx": 875.0,
-            "posy": 50.0,
-            "tags": "instrument2"
-        },
-        "7394a5cb-e0ee-43ea-908b-82dc4b86a80e": {
+        "54142c69-246a-4721-a1bf-99c05cf9dcbb": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2768,
+            "bbox": 1198,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        130,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -6747,15 +5571,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        130,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6773,15 +5597,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        131,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6799,16 +5623,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        131,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -7219,26 +6043,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 14,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemid": 13,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "13"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -7384,16 +6208,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 475.0,
-            "posy": 400.0,
+            "posx": 200.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -7688,22 +6512,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal14",
+            "tags": "signal13",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    13,
                     0,
-                    0
+                    5
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -7750,15 +6574,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                13,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -7780,31 +6604,44 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "7d2ed32b-b1f5-43a3-880b-368f5defb8f1": {
+        "55eab425-03d7-40a2-8b77-2c7d23b8e933": {
+            "bbox": 1200,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 8,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1225.0,
+            "posy": 150.0,
+            "state": false,
+            "tags": "section8"
+        },
+        "5b5c0f7e-d69b-4916-a241-3cf69f44aa7f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2787,
+            "bbox": 1219,
             "dccaspects": [
                 [
                     [
-                        101,
+                        110,
                         true
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -7822,15 +6659,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        101,
+                        110,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -7848,15 +6685,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        111,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -7874,16 +6711,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        112,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -8294,26 +7131,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 7,
-            "itemsubtype": 1,
+            "itemid": 11,
+            "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "5"
+                "11"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -8335,15 +7172,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "12",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -8459,16 +7296,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 350.0,
-            "posy": 475.0,
+            "posx": 550.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -8763,15 +7600,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal7",
+            "tags": "signal11",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -8825,18 +7662,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                6,
+                11,
                 [
                     [
-                        7,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -8855,109 +7692,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "85be3b55-420f-4776-952c-d1472c4f897b": {
-            "bbox": 2790,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 4,
-            "label": "XXXXX",
-            "mirror": "2",
-            "posx": 875.0,
-            "posy": 325.0,
-            "state": false,
-            "tags": "section4"
-        },
-        "93063a54-5b09-4045-985b-7ba45650ff68": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 2797,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 1,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 250.0,
-            "posy": 200.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    1,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point1"
-        },
-        "9a0ce7c0-d387-449f-90b7-ec13375d981a": {
-            "bbox": 2800,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 3,
-            "label": "XXXXX",
-            "mirror": "1",
-            "posx": 700.0,
-            "posy": 325.0,
-            "state": false,
-            "tags": "section3"
-        },
-        "a74abb20-3626-4896-8771-bf3068f125ce": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 2806,
-            "colour": "black",
-            "end1": 2802,
-            "end2": 2803,
-            "endx": 350.0,
-            "endy": 300.0,
-            "item": "line",
-            "itemid": 2,
-            "line": 2801,
-            "posx": 50.0,
-            "posy": 300.0,
-            "stop1": 2804,
-            "stop2": 2805,
-            "tags": "line2"
-        },
-        "a994fe0e-a4e6-48c3-bd42-b865c18f6624": {
+        "5d93f889-98ec-4b28-80f1-e77637b274ec": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2834,
+            "bbox": 1238,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        50,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -8974,15 +7734,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        50,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -9000,15 +7760,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        51,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -9026,16 +7786,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        51,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -9446,26 +8206,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": true,
+            "fullyautomatic": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 12,
-            "itemsubtype": 2,
-            "itemtype": 3,
+            "itemid": 5,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
-            "overrideahead": true,
+            "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "5"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -9611,16 +8371,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 475.0,
-            "posy": 200.0,
+            "posx": 1126.0,
+            "posy": 223.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -9915,22 +8675,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal12",
+            "tags": "signal5",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    5,
                     0,
-                    0
+                    5
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -9977,15 +8737,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                5,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -10007,31 +8767,31 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "af23443f-815c-4c1b-a272-b9acea6e8dab": {
+        "5e9dbc0d-167d-4bfb-b276-7bbb37437d06": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2853,
+            "bbox": 1257,
             "dccaspects": [
                 [
                     [
-                        100,
+                        90,
                         true
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10049,15 +8809,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        100,
+                        90,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10075,15 +8835,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        91,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10101,16 +8861,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        91,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -10521,26 +9281,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 5,
-            "itemsubtype": 1,
+            "itemid": 9,
+            "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "4"
+                "9"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -10562,15 +9322,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "10",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -10686,16 +9446,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 175.0,
-            "posy": 475.0,
+            "posx": 1175.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -10990,15 +9750,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal5",
+            "tags": "signal9",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -11052,18 +9812,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                5,
+                9,
                 [
                     [
-                        6,
+                        10,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -11082,54 +9842,260 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "bc1c1e57-d938-4721-a8f1-4009975fc3fd": {
+        "628c161f-b9f5-46fd-837c-4f36eecd60ab": {
+            "bbox": 1259,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 11,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 600.0,
+            "posy": 275.0,
+            "state": false,
+            "tags": "section11"
+        },
+        "65c6b251-6622-4fd2-958f-b28a6778dc76": {
+            "bbox": 1261,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 5,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1050.0,
+            "posy": 225.0,
+            "state": false,
+            "tags": "section5"
+        },
+        "6966a516-b636-4321-ae7b-3a733356e215": {
+            "background": "grey85",
+            "bbox": 1264,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 14,
+            "fontstyle": "bold ",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 444.0,
+            "posy": 115.0,
+            "tags": "6966a516-b636-4321-ae7b-3a733356e215",
+            "text": "Approach Control Example (Signals 4, 3 and 2)"
+        },
+        "6b03065c-be75-450c-8af5-af5dc644b14f": {
+            "background": "grey85",
+            "bbox": 1267,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 951.0,
+            "posy": 313.0,
+            "tags": "6b03065c-be75-450c-8af5-af5dc644b14f",
+            "text": "TT-DS10"
+        },
+        "719f6d7b-e39c-4d3a-8b22-f232dff5443e": {
+            "alsoswitch": 0,
+            "automatic": false,
+            "bbox": 1273,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 2,
+            "itemtype": 2,
+            "orientation": 0,
+            "posx": 825.0,
+            "posy": 275.0,
+            "reverse": false,
+            "siginterlock": [
+                [
+                    10,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ],
+                [
+                    8,
+                    [
+                        true,
+                        false,
+                        false,
+                        false,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point2"
+        },
+        "7c1562c4-2d75-46cf-b559-bef25efa2c9e": {
+            "background": "grey85",
+            "bbox": 1276,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 325.0,
+            "posy": 314.0,
+            "tags": "7c1562c4-2d75-46cf-b559-bef25efa2c9e",
+            "text": "TT-DS10"
+        },
+        "7d95452f-2bb7-48b8-8418-6d83598356d4": {
+            "bbox": 1278,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 2,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 250.0,
+            "posy": 225.0,
+            "state": false,
+            "tags": "section2"
+        },
+        "94fff3ae-cb98-48c1-8e0d-8edd82eea2b3": {
             "arrowends": 2,
             "arrowtype": [
-                16,
+                20,
                 20,
                 5
             ],
-            "bbox": 2859,
+            "bbox": 1284,
             "colour": "black",
-            "end1": 2855,
-            "end2": 2856,
-            "endx": 275.0,
-            "endy": 150.0,
+            "end1": 1280,
+            "end2": 1281,
+            "endx": 1275.0,
+            "endy": 100.0,
             "item": "line",
-            "itemid": 27,
-            "line": 2854,
-            "posx": 250.0,
-            "posy": 175.0,
-            "stop1": 2857,
-            "stop2": 2858,
-            "tags": "line27"
+            "itemid": 8,
+            "line": 1279,
+            "posx": 900.0,
+            "posy": 100.0,
+            "stop1": 1282,
+            "stop2": 1283,
+            "tags": "line8"
+        },
+        "a6541a21-387c-4ebc-93dd-3b86a950f45d": {
+            "bbox": 1286,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 1,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 75.0,
+            "posy": 225.0,
+            "state": false,
+            "tags": "section1"
         },
-        "c2ef4745-5a5d-4d66-a661-473816576771": {
+        "a6d29d1d-43c7-4b82-bca6-0fd6d90d6c89": {
+            "background": "grey85",
+            "bbox": 1289,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 175.0,
+            "posy": 187.0,
+            "tags": "a6d29d1d-43c7-4b82-bca6-0fd6d90d6c89",
+            "text": "TT-DS10"
+        },
+        "a6e61479-8736-4f06-b351-c8e99ff870f5": {
+            "bbox": 1291,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 6,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1050.0,
+            "posy": 100.0,
+            "state": false,
+            "tags": "section6"
+        },
+        "a96bd506-67b8-4312-a415-169eae42e657": {
+            "background": "grey85",
+            "bbox": 1294,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1130.0,
+            "posy": 136.0,
+            "tags": "a96bd506-67b8-4312-a415-169eae42e657",
+            "text": "TT-DS10"
+        },
+        "aa736f3d-7877-4615-b1e7-bc50b39db7f0": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1300,
+            "colour": "black",
+            "end1": 1296,
+            "end2": 1297,
+            "endx": 1275.0,
+            "endy": 275.0,
+            "item": "line",
+            "itemid": 4,
+            "line": 1295,
+            "posx": 850.0,
+            "posy": 275.0,
+            "stop1": 1298,
+            "stop2": 1299,
+            "tags": "line4"
+        },
+        "b0d82676-b068-4cb5-b1c9-d5ae0ee55b46": {
             "approachcontrol": [
-                3,
+                0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                true,
+                false,
                 ""
             ],
-            "bbox": 2887,
+            "bbox": 1319,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        70,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -11146,15 +10112,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        70,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -11172,15 +10138,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        71,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -11198,16 +10164,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        71,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -11618,26 +10584,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 3,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemid": 7,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "7"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -11659,15 +10625,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "Box1-13",
+                    "8",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -11783,16 +10749,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 250.0,
-            "posy": 300.0,
+            "posx": 1175.0,
+            "posy": 150.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12087,15 +11053,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal3",
+            "tags": "signal7",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -12149,18 +11115,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                7,
                 [
                     [
-                        0,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -12179,32 +11145,163 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "c4501acb-6274-4b11-9678-f8f2e5add613": {
+        "b1288a67-ed1d-427f-98d5-f7963edaf7f4": {
+            "bbox": 1321,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 12,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 425.0,
+            "posy": 275.0,
+            "state": false,
+            "tags": "section12"
+        },
+        "b4fc26a7-aafc-42b2-b729-ab8a76c6a93e": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1327,
+            "colour": "black",
+            "end1": 1323,
+            "end2": 1324,
+            "endx": 925.0,
+            "endy": 150.0,
+            "item": "line",
+            "itemid": 6,
+            "line": 1322,
+            "posx": 825.0,
+            "posy": 250.0,
+            "stop1": 1325,
+            "stop2": 1326,
+            "tags": "line6"
+        },
+        "b62548e4-2291-454e-9f01-4c3163fb178a": {
+            "bbox": 1329,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 3,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 425.0,
+            "posy": 225.0,
+            "state": false,
+            "tags": "section3"
+        },
+        "bc423a55-8a1d-42b1-82ee-24b38662af63": {
+            "bbox": 1331,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 7,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1050.0,
+            "posy": 150.0,
+            "state": false,
+            "tags": "section7"
+        },
+        "c617d76f-2010-4868-afe2-9be1a9a411dc": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 1337,
+            "colour": "black",
+            "end1": 1333,
+            "end2": 1334,
+            "endx": 1275.0,
+            "endy": 150.0,
+            "item": "line",
+            "itemid": 7,
+            "line": 1332,
+            "posx": 925.0,
+            "posy": 150.0,
+            "stop1": 1335,
+            "stop2": 1336,
+            "tags": "line7"
+        },
+        "d6a52ed1-1079-413c-ba46-7d8bb9b44dfd": {
+            "background": "grey85",
+            "bbox": 1340,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 525.0,
+            "posy": 187.0,
+            "tags": "d6a52ed1-1079-413c-ba46-7d8bb9b44dfd",
+            "text": "TT-DS5HS"
+        },
+        "db5992bd-ce35-492b-9453-b8a860f4a69b": {
+            "background": "grey85",
+            "bbox": 1343,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 149.0,
+            "posy": 313.0,
+            "tags": "db5992bd-ce35-492b-9453-b8a860f4a69b",
+            "text": "TT-DS10"
+        },
+        "e5810a77-a225-4247-acd8-0df551fe4184": {
+            "background": "grey85",
+            "bbox": 1346,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 351.0,
+            "posy": 187.0,
+            "tags": "e5810a77-a225-4247-acd8-0df551fe4184",
+            "text": "TT-DS5HS"
+        },
+        "e9341909-f8c6-4799-9f1f-c68dfa243425": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2915,
+            "bbox": 1365,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        20,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12221,15 +11318,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        20,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12247,15 +11344,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        21,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12273,16 +11370,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        21,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12299,15 +11396,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        22,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12325,16 +11422,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        22,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12693,26 +11790,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": true,
+            "fullyautomatic": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 4,
-            "itemsubtype": 2,
-            "itemtype": 3,
+            "itemid": 2,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": false,
+            "overrideahead": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "2"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -12734,15 +11831,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "Box1-14",
+                    "3",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -12858,16 +11955,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 250.0,
-            "posy": 400.0,
+            "posx": 300.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -13162,15 +12259,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal4",
+            "tags": "signal2",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -13224,18 +12321,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                2,
                 [
                     [
-                        0,
+                        3,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -13254,44 +12351,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "c488e27b-7a77-49dc-8045-066fb3109702": {
-            "bbox": 2930,
-            "bellsound": "bell-ring-01.wav",
-            "item": "instrument",
-            "itemid": 1,
-            "itemtype": 1,
-            "keysound": "telegraph-key-01.wav",
-            "linkedto": "Box1-2",
-            "posx": 700.0,
-            "posy": 50.0,
-            "tags": "instrument1"
-        },
-        "c842b5f7-9fba-4ef2-a7bc-c9464af920b2": {
+        "ec80f368-a012-4c83-996f-07678edbdf72": {
             "approachcontrol": [
                 0,
-                0,
+                2,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
-                ""
+                true,
+                "14"
             ],
-            "bbox": 2958,
+            "bbox": 1384,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        40,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13308,15 +12393,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        40,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13334,15 +12419,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        41,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13360,16 +12445,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        41,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13441,15 +12526,15 @@
                     ]
                 ]
             ],
             "dccautoinhibit": false,
             "dccfeathers": [
                 [
                     [
-                        0,
+                        45,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13467,15 +12552,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        45,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13493,16 +12578,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        45,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13775,37 +12860,37 @@
                         ]
                     ]
                 ]
             ],
             "distautomatic": false,
             "feathers": [
                 false,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 13,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 4,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "4"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            1,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -13821,22 +12906,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "5",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            1,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -13851,15 +12936,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "6",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -13945,16 +13030,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 475.0,
-            "posy": 300.0,
+            "posx": 700.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14022,17 +13107,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -14233,15 +13318,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -14249,15 +13334,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal13",
+            "tags": "signal4",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -14311,23 +13396,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                4,
                 [
                     [
-                        0,
+                        5,
                         0,
                         0
                     ],
                     [
-                        0,
+                        6,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -14341,66 +13426,60 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "c8b72001-7d62-44e6-aac0-44ad9f41c124": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 2964,
-            "colour": "black",
-            "end1": 2960,
-            "end2": 2961,
-            "endx": 300.0,
-            "endy": 150.0,
-            "item": "line",
-            "itemid": 29,
-            "line": 2959,
-            "posx": 350.0,
-            "posy": 150.0,
-            "stop1": 2962,
-            "stop2": 2963,
-            "tags": "line29"
-        },
-        "ce73144a-7678-497d-ba28-a42c4c314f86": {
-            "bbox": 2967,
+        "eca7185e-bfed-4cfb-8430-a3153bc29573": {
+            "bbox": 1386,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 5,
+            "itemid": 10,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 100.0,
-            "posy": 475.0,
+            "posx": 1050.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section5"
+            "tags": "section10"
         },
-        "d41f0e5f-13e5-4a7f-bc3e-3388254d6b8c": {
+        "edf730b4-253d-4ac9-a473-0a3ba0e72183": {
+            "background": "grey85",
+            "bbox": 1389,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 748.0,
+            "posy": 185.0,
+            "tags": "edf730b4-253d-4ac9-a473-0a3ba0e72183",
+            "text": "TT-DS10L"
+        },
+        "f49fbf77-4587-42fb-b0a8-45d646a96a95": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 2995,
+            "bbox": 1408,
             "dccaspects": [
                 [
                     [
-                        0,
+                        10,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -14418,16 +13497,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        10,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14444,16 +13523,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        11,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14470,15 +13549,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        11,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -14890,26 +13969,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 11,
-            "itemsubtype": 2,
-            "itemtype": 3,
+            "itemid": 1,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "1"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -14931,15 +14010,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "2",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -15055,16 +14134,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 375.0,
-            "posy": 150.0,
+            "posx": 125.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -15359,15 +14438,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal11",
+            "tags": "signal1",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -15421,18 +14500,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                1,
                 [
                     [
-                        0,
+                        2,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -15451,342 +14530,352 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "d538187e-fba1-4825-9cad-3d7df730bbf3": {
-            "bbox": 2998,
+        "f85047ff-ffac-4342-835a-98803dee39b6": {
+            "bbox": 1410,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 6,
+            "itemid": 4,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 275.0,
-            "posy": 475.0,
+            "posx": 600.0,
+            "posy": 225.0,
             "state": false,
-            "tags": "section6"
-        },
-        "dad0ea03-0e05-4585-9484-9141a32f8ff7": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 3004,
-            "colour": "black",
-            "end1": 3000,
-            "end2": 3001,
-            "endx": 350.0,
-            "endy": 400.0,
-            "item": "line",
-            "itemid": 4,
-            "line": 2999,
-            "posx": 50.0,
-            "posy": 400.0,
-            "stop1": 3002,
-            "stop2": 3003,
-            "tags": "line4"
+            "tags": "section4"
         },
-        "f0f1cab2-b2f3-4e9e-9a89-b916314c5315": {
-            "arrowends": 1,
+        "fb84aba9-207e-4c8a-b905-29813ab1417c": {
+            "arrowends": 0,
             "arrowtype": [
-                16,
-                20,
-                5
+                0,
+                0,
+                0
             ],
-            "bbox": 3010,
+            "bbox": 1416,
             "colour": "black",
-            "end1": 3006,
-            "end2": 3007,
-            "endx": 575.0,
-            "endy": 300.0,
+            "end1": 1412,
+            "end2": 1413,
+            "endx": 775.0,
+            "endy": 225.0,
             "item": "line",
-            "itemid": 3,
-            "line": 3005,
-            "posx": 375.0,
-            "posy": 300.0,
-            "stop1": 3008,
-            "stop2": 3009,
-            "tags": "line3"
+            "itemid": 1,
+            "line": 1411,
+            "posx": 25.0,
+            "posy": 225.0,
+            "stop1": 1414,
+            "stop2": 1415,
+            "tags": "line1"
         },
-        "f498f46c-3819-447e-ac88-2ebe032b0b3d": {
-            "bbox": 3013,
+        "fdcafbec-2869-438c-ba72-2a8d5d849f58": {
+            "bbox": 1418,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 1,
+            "itemid": 9,
             "label": "XXXXX",
-            "mirror": "Box1-2",
-            "posx": 700.0,
+            "mirror": "",
+            "posx": 1225.0,
             "posy": 275.0,
             "state": false,
-            "tags": "section1"
+            "tags": "section9"
+        },
+        "ff002fef-4577-4b37-8b4c-c09a758ae29f": {
+            "background": "grey85",
+            "bbox": 1421,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 501.0,
+            "posy": 313.0,
+            "tags": "ff002fef-4577-4b37-8b4c-c09a758ae29f",
+            "text": "TT-DS10"
         }
     },
     "points": {
         "1": {
+            "fpllock": true,
+            "locked": false,
+            "switched": false
+        },
+        "2": {
             "fpllock": false,
             "locked": false,
             "switched": false
         }
     },
     "sections": {
-        "Box1-1": {
+        "1": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "10": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "11": {
             "labeltext": "XXXXX",
             "occupied": false
         },
-        "Box1-2": {
+        "12": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "13": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "2": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "3": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "4": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "5": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "6": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "7": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "8": {
+            "labeltext": "XXXXX",
+            "occupied": false
+        },
+        "9": {
             "labeltext": "XXXXX",
             "occupied": false
         }
     },
     "settings": {
         "canvas": {
             "grid": 25,
-            "height": 550,
-            "snaptogrid": true,
-            "width": 1000
+            "height": 500,
+            "snaptogrid": false,
+            "width": 1300
         },
         "general": {
             "automation": true,
-            "editmode": true,
-            "filename": "./test_mqtt_networking.sig",
+            "editmode": false,
+            "filename": "/home/pi/Software/model-railway-signalling/user_guide/quickstart_example3.sig",
             "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [
                 [
-                    4,
+                    1,
                     4
                 ],
                 [
-                    5,
+                    2,
                     5
                 ],
                 [
-                    6,
+                    3,
                     6
                 ],
                 [
-                    12,
+                    4,
+                    7
+                ],
+                [
+                    5,
+                    8
+                ],
+                [
+                    6,
+                    9
+                ],
+                [
+                    7,
+                    10
+                ],
+                [
+                    8,
+                    11
+                ],
+                [
+                    9,
                     12
                 ],
                 [
-                    13,
+                    10,
                     13
                 ],
                 [
-                    18,
+                    11,
                     18
                 ],
                 [
-                    19,
+                    12,
                     19
                 ],
                 [
-                    20,
+                    13,
                     20
                 ],
                 [
-                    21,
+                    14,
                     21
                 ],
                 [
-                    22,
+                    15,
                     22
                 ],
                 [
-                    23,
+                    16,
                     23
                 ],
                 [
-                    24,
+                    17,
                     24
                 ],
                 [
-                    25,
+                    18,
                     25
                 ],
                 [
-                    26,
+                    19,
                     26
+                ],
+                [
+                    20,
+                    27
                 ]
             ],
             "timeoutperiod": 1.0,
             "triggerdelay": 0.001
         },
         "logging": {
             "level": 2
         },
         "mqtt": {
             "debug": false,
-            "network": "network1",
-            "node": "Box1",
-            "password": "Password1234",
+            "network": "network",
+            "node": "node",
+            "password": "",
             "port": 1883,
-            "pubdcc": true,
-            "pubinstruments": [
-                1,
-                2
-            ],
-            "pubsections": [
-                1,
-                2
-            ],
-            "pubsensors": [
-                4,
-                5,
-                6,
-                7
-            ],
+            "pubdcc": false,
+            "pubinstruments": [],
+            "pubsections": [],
+            "pubsensors": [],
             "pubshutdown": false,
-            "pubsignals": [
-                11,
-                12,
-                13,
-                14,
-                16
-            ],
-            "startup": true,
-            "subdccnodes": [
-                "Box1"
-            ],
-            "subinstruments": [
-                "Box1-1",
-                "Box1-2"
-            ],
-            "subsections": [
-                "Box1-1",
-                "Box1-2"
-            ],
-            "subsensors": [
-                "Box1-4",
-                "Box1-5",
-                "Box1-6",
-                "Box1-7"
-            ],
+            "pubsignals": [],
+            "startup": false,
+            "subdccnodes": [],
+            "subinstruments": [],
+            "subsections": [],
+            "subsensors": [],
             "subshutdown": false,
-            "subsignals": [
-                "Box1-11",
-                "Box1-12",
-                "Box1-13",
-                "Box1-14",
-                "Box1-16"
-            ],
-            "url": "localhost",
-            "username": "test_user"
+            "subsignals": [],
+            "url": "",
+            "username": ""
         },
         "sprog": {
-            "baud": 115200,
+            "baud": 460800,
             "debug": false,
             "port": "/dev/serial0",
             "power": false,
             "startup": false
         }
     },
     "signals": {
         "1": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "101": {
+        "10": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": true,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "11": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "12": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "13": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "14": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "16": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
             "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "2": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
+            "sigclear": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "3": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "4": {
             "override": false,
@@ -15800,15 +14889,15 @@
             "theatretext": "NONE"
         },
         "5": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "6": {
             "override": false,
@@ -15822,92 +14911,37 @@
             "theatretext": "NONE"
         },
         "7": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "8": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "9": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
-        },
-        "Box1-11": {
-            "override": null,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 0,
-            "sigclear": null,
-            "siglocked": null,
-            "subclear": null,
-            "sublocked": null,
-            "theatretext": null
-        },
-        "Box1-12": {
-            "override": null,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 0,
-            "sigclear": null,
-            "siglocked": null,
-            "subclear": null,
-            "sublocked": null,
-            "theatretext": null
-        },
-        "Box1-13": {
-            "override": null,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 0,
-            "sigclear": null,
-            "siglocked": null,
-            "subclear": null,
-            "sublocked": null,
-            "theatretext": null
-        },
-        "Box1-14": {
-            "override": null,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 0,
-            "sigclear": null,
-            "siglocked": null,
-            "subclear": null,
-            "sublocked": null,
-            "theatretext": null
-        },
-        "Box1-16": {
-            "override": null,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 0,
-            "sigclear": null,
-            "siglocked": null,
-            "subclear": null,
-            "sublocked": null,
-            "theatretext": null
         }
     }
 }
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_mqtt_networking_example.py` & `model_railway_signals-4.2.0/system_tests/test_mqtt_networking_example.py`

 * *Files 4% similar despite different names*

```diff
@@ -170,75 +170,75 @@
 #-----------------------------------------------------------------------------------
 
 def test_circular_layout(delay=0.0):
     print("Circular layout tests - networked signals ahead and mirrored track sections")
     # As we are using networking, we need to introduce an additional delay for messages
     # to be sent to and received from the MQTT message broker - as we are using a
     # local broker, a short delay of 100ms should suffice
-    network_delay = 0.1 
+    # We also need to introduce a delay for triggering of the remote GPIO sensors
+    # as these are configured with a timeout period of 0.1 seconds (this means that
+    # any additional triggers received within the 0.1 seconds will be ignored
+    network_delay = 0.1
+    gpio_trigger_delay = 0.2
     sleep(delay)
     reset_layout()
     sleep(delay)
     set_signals_off(21,22,31,32)
+    sleep(delay)
     set_sections_occupied(22)
+    sleep(delay)
     for repeat in range(5):
+        sleep(delay+network_delay+gpio_trigger_delay)
         assert_sections_occupied(22)
         assert_sections_clear(21,23,31,32,33)
-        sleep(network_delay)
         assert_signals_DANGER(21)
         assert_signals_CAUTION(32)
         assert_signals_PRELIM_CAUTION(31)
         assert_signals_PROCEED(22)
-        sleep(delay)
 #        trigger_signals_passed(22)
         simulate_gpio_triggered(5)
-        simulate_gpio_reset(5)
-        sleep(network_delay)
+        sleep(delay+network_delay+gpio_trigger_delay)
         assert_sections_occupied(23,31)
         assert_sections_clear(21,22,32,33)
         assert_signals_DANGER(22)
         assert_signals_CAUTION(21)
         assert_signals_PRELIM_CAUTION(32)
         assert_signals_PROCEED(31)
-        sleep(delay)
 #        trigger_signals_passed(31)
         simulate_gpio_triggered(6)
-        simulate_gpio_reset(6)
-        sleep(network_delay)
+        sleep(delay+network_delay+gpio_trigger_delay)
         assert_sections_occupied(32)
         assert_sections_clear(21,22,23,31,33)
         assert_signals_DANGER(31)
         assert_signals_CAUTION(22)
         assert_signals_PRELIM_CAUTION(21)
         assert_signals_PROCEED(32)
-        sleep(delay)
 #        trigger_signals_passed(32)
         simulate_gpio_triggered(12)
-        simulate_gpio_reset(12)
-        sleep(network_delay)
+        sleep(delay+network_delay+gpio_trigger_delay)
         assert_sections_occupied(33,21)
         assert_sections_clear(22,23,31,32)
         assert_signals_DANGER(32)
         assert_signals_CAUTION(31)
         assert_signals_PRELIM_CAUTION(22)
         assert_signals_PROCEED(21)
-        sleep(delay)
 #        trigger_signals_passed(21)
         simulate_gpio_triggered(4)
-        simulate_gpio_reset(4)
-        sleep(network_delay)
+        sleep(delay+network_delay+gpio_trigger_delay)
         assert_sections_occupied(22)
         assert_sections_clear(23,31,32,33)
         assert_signals_DANGER(21)
         assert_signals_CAUTION(32)
         assert_signals_PRELIM_CAUTION(31)
         assert_signals_PROCEED(22)
     # Revert everything to the default state
     set_sections_clear(22)
+    sleep(delay)
     set_signals_on(21,22,31,32)
+    sleep(delay)
     return()
     
 
 ######################################################################################################
 
 def run_all_mqtt_networking_example_tests(delay:float=0.0, shutdown:bool=False):
     initialise_test_harness(filename="../configuration_examples/mqtt_networked_example.sig")
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_object_editing.py` & `model_railway_signals-4.2.0/system_tests/test_object_editing.py`

 * *Files 12% similar despite different names*

```diff
@@ -20,27 +20,33 @@
 #  - run_change_of_item_id_tests
 #     - initial configuration of signal interlocking tables
 #         - point interlocking tables are correctly populated to match
 #         - test the basic interlocking of signals against points and instruments
 #     - Signal timed sequence configuration tables
 #         - Timed signal IDs are updated to reflect change of signal ID
 #         - Timed signal IDs are removed to reflect deletion of signals
-#     - Signal interlocking tables
+#     - Signal interlocking configuration tables
 #         - signal ahead IDs are updated to reflect change of signal ID
 #         - signal ahead IDs are removed to reflect deletion of signals
 #         - opposing signal IDs are updated to reflect change of signal ID
 #         - opposing signal IDs are removed to reflect deletion of signals
 #         - instrument ahead IDs are updated to reflect change of instrument ID
 #         - instrument ahead IDs are removed to reflect deletion of instruments
 #         - interlocked point IDs are updated to reflect change of point ID
 #         - interlocked point IDs are removed to reflect deletion of points
-#         - interlocked section IDs are updated to reflect change of point ID
-#         - interlocked section IDs are removed to reflect deletion of points
-#         - automation section IDs are updated to reflect change of point ID
-#         - automation section IDs are removed to reflect deletion of points
+#         - interlocked section IDs are updated to reflect change of section IDs
+#         - interlocked section IDs are removed to reflect deletion of section
+#      - Signal Track Occupancy Automation Tables:
+#         - Section ahead/behind IDs are updated to reflect change of section ID
+#         - Section ahead/behind IDs are removed to reflect deletion of section
+#      - Track Sensor Route Tables
+#         - Route point IDs are updated to reflect change of point ID
+#         - Route point IDs are removed to reflect deletion of point
+#         - Route section IDs are updated to reflect change of section ID
+#         - Route section IDs are removed to reflect deletion of section
 #      - Line Item ID has successfully been changed (to obtain the branch coverage)
 #  - run_reset_objects_tests
 #    - test points, signals, instruments and sections are returned to their
 #      default state following a layout "reset"
 #-----------------------------------------------------------------------------------
 
 from system_test_harness import *
@@ -49,15 +55,15 @@
 # These test the block instrument linking functions, specifically:
 #    Linked instruments should be synchronised (block section ahead clear)
 #    Change of Item ID in (block instruments remain linked)
 #    Deletion of an item (linked instrument updated to remove the deleted instrument)
 #-----------------------------------------------------------------------------------
 
 def run_instrument_linking_tests(delay:float=0.0):
-    print("Block Instrument linking tests")
+    print("Block Instrument linking tests - 4 warnings will be generated")
     # Add elements to the layout
     sleep(delay)
     i1 = create_block_instrument()
     sleep(delay)
     select_and_move_objects(i1,100,300,delay=delay)
     sleep(delay)
     i2 = create_block_instrument()
@@ -136,15 +142,15 @@
     assert_block_section_ahead_not_clear(1,2,4)
     sleep(delay)
     set_instrument_occupied(4)
     assert_block_section_ahead_not_clear(1,2,3,4)
     sleep(delay)
     set_instrument_blocked(4)
     assert_block_section_ahead_not_clear(1,2,3,4)
-    # Change the item IDs
+    # Change the item IDs - 4 warnings will be generated as we change the IDs
     update_object_configuration(i1,{"itemid":11})
     update_object_configuration(i2,{"itemid":12})
     update_object_configuration(i3,{"itemid":13})
     update_object_configuration(i4,{"itemid":14})
     assert_object_configuration(i1,{"itemid":11,"linkedto":"12"})
     assert_object_configuration(i2,{"itemid":12,"linkedto":"11"})
     assert_object_configuration(i3,{"itemid":13,"linkedto":"14"})
@@ -476,28 +482,177 @@
     # clean up
     sleep(delay)
     set_edit_mode()
     sleep(delay)
     select_all_objects()
     delete_selected_objects()
     return()
-    
+
+#-----------------------------------------------------------------------------------
+# This function tests the basic interlocking and override functionality
+# before and after the item IDs are changed
+#-----------------------------------------------------------------------------------
+
+def test_interlocking_and_overrides(delay,sig1,sig2,sig3,sig4,point1,point2,block1,block2,sec1,sec2,sec3):
+    # Test the basic interlocking for signal 1 (in run mode)
+    sleep(delay)
+    set_run_mode()
+    # Initial (default) configuration
+    assert_points_unlocked(point1,point2)
+    assert_block_section_ahead_not_clear(block1)
+    assert_sections_clear(sec1,sec2,sec3)
+    assert_signals_locked(sig1)
+    # Clear the instrument and switch the points to unlock the signal
+    sleep(delay)
+    set_points_switched(point1,point2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_instrument_clear(block2)
+    assert_signals_unlocked(sig1)
+    # Test interlocking of signal with points
+    sleep(delay)
+    set_points_normal(point1)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_points_switched(point1)
+    assert_signals_unlocked(sig1)
+    sleep(delay)
+    set_points_normal(point2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_points_switched(point2)
+    assert_signals_unlocked(sig1)
+    # Test interlocking of signal with track sections
+    sleep(delay)
+    set_sections_occupied(sec1)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_sections_clear(sec1)
+    assert_signals_unlocked(sig1)
+    sleep(delay)
+    set_sections_occupied(sec2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_sections_clear(sec2)
+    assert_signals_unlocked(sig1)
+    sleep(delay)
+    set_sections_occupied(sec3)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_sections_clear(sec3)
+    assert_signals_unlocked(sig1)
+    # Test interlocking of points with signal
+    sleep(delay)
+    set_signals_off(sig1)
+    assert_points_locked(point1,point2)
+    sleep(delay)
+    set_signals_on(sig1)
+    assert_points_unlocked(point1,point2)
+    # Test interlocking of signal with conflicting signals
+    sleep(delay)
+    set_signals_off(sig2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_signals_on(sig2)
+    assert_signals_unlocked(sig1)
+    sleep(delay)
+    set_signals_off(sig3)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_signals_on(sig3)
+    assert_signals_unlocked(sig1)
+    # Test interlocking of signal with block instrument
+    sleep(delay)
+    set_instrument_blocked(block2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_instrument_clear(block2)
+    assert_signals_unlocked(sig1)
+    sleep(delay)
+    set_instrument_occupied(block2)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_instrument_clear(block2)
+    assert_signals_unlocked(sig1)
+    # Test the signal overrides (on track section occupied)
+    assert_signals_DANGER(sig1)
+    sleep(delay)
+    set_signals_off(sig1)
+    assert_signals_override_clear(sig1)    
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_sections_occupied(sec1)
+    assert_signals_override_set(sig1)    
+    assert_signals_DANGER(sig1)
+    sleep(delay)
+    set_sections_clear(sec1)
+    assert_signals_override_clear(sig1)    
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_sections_occupied(sec2)
+    assert_signals_override_set(sig1)    
+    assert_signals_DANGER(sig1)
+    sleep(delay)
+    set_sections_clear(sec2)
+    assert_signals_override_clear(sig1)    
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_sections_occupied(sec3)
+    assert_signals_override_set(sig1)    
+    assert_signals_DANGER(sig1)
+    sleep(delay)
+    set_sections_clear(sec3)
+    assert_signals_override_clear(sig1)    
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_signals_on(sig1)
+    assert_signals_DANGER(sig1)
+    # Test the signal interaction with the signal ahead
+    sleep(delay)
+    set_signals_off(sig1)
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_signals_off(sig4)
+    assert_signals_PROCEED(sig1)
+    sleep(delay)
+    set_signals_on(sig4)
+    assert_signals_CAUTION(sig1)
+    sleep(delay)
+    set_signals_on(sig1)
+    assert_signals_DANGER(sig1)
+    # Return everything to its default state
+    sleep(delay)
+    set_instrument_blocked(block2)
+    sleep(delay)
+    set_points_normal(point1,point2)
+    assert_points_unlocked(point1,point2)
+    assert_block_section_ahead_not_clear(block1)
+    assert_sections_clear(sec1,sec2,sec3)
+    assert_signals_locked(sig1)
+    sleep(delay)
+    set_edit_mode()
+    return()
+
 #-----------------------------------------------------------------------------------
 # These test the Item ID update functions, specifically:
 #    Update of point interlocking when Signal ID is changed or deleted
 #    Update of signal ahead value when Signal ID is changed or deleted
 #    Update of signal interlocking when Signal ID is changed or deleted
 #    Update of signal interlocking when Point ID is changed or deleted
 #    Update of signal interlocking when Instrument ID is changed or deleted
 #    Update of signal interlocking when Track Section ID is changed or deleted
 #    Update of signal automation (override) when Section ID is changed or deleted
+#    Update of Track Sensor route tables to reflect change of Point ID
+#    Update of Track Sensor route tables to reflect deletion of Point
+#    Update of Track Sensor route tables to reflect change of section ID
+#    Update of Track Sensor route tables to reflect deletion of section
 #-----------------------------------------------------------------------------------
 
 def run_change_of_item_id_tests(delay:float=0.0):
-    print("Change of Item Id tests")
+    print("Change of Item Id tests - 2 warnings will be generated for the Block Instruments")
     # Add elements to the layout
     sleep(delay)
     l1 = create_line()
     sleep(delay)
     p1 = create_left_hand_point()
     sleep(delay)
     p2 = create_left_hand_point()
@@ -512,50 +667,55 @@
     sleep(delay)
     t1 = create_track_section()
     sleep(delay)
     t2 = create_track_section()
     sleep(delay)
     t3 = create_track_section()
     sleep(delay)
+    ts1 = create_track_sensor()
+    sleep(delay)
     i1 = create_block_instrument()
     sleep(delay)
     i2 = create_block_instrument()
+    sleep(delay)
     # Test the 'one-up' IDs have been correctly generated
     assert_object_configuration(l1,{"itemid":1})
     assert_object_configuration(p1,{"itemid":1})
     assert_object_configuration(p2,{"itemid":2})
     assert_object_configuration(s1,{"itemid":1})
     assert_object_configuration(s2,{"itemid":2})
     assert_object_configuration(s3,{"itemid":3})
     assert_object_configuration(s4,{"itemid":4})
     assert_object_configuration(t1,{"itemid":1})
     assert_object_configuration(t2,{"itemid":2})
     assert_object_configuration(t3,{"itemid":3})
     assert_object_configuration(i1,{"itemid":1})
     assert_object_configuration(i2,{"itemid":2})
+    assert_object_configuration(ts1,{"itemid":1})
     sleep(delay)
     select_and_move_objects(i1,500,200,delay=delay)
     sleep(delay)
     select_and_move_objects(i2,800,200,delay=delay)
     # Link the 2 block instruments (so we can test the interlocking)
     # Note the linked instrument is a string (local or remote)
     update_object_configuration(i1,{"linkedto":"2"})
     update_object_configuration(i2,{"linkedto":"1"})
-    # Set up the signal interlocking tables and the automation tables for Signal 1
+    # Set up the interlocking tables and the automation tables for Signal 1
     # This includes point/signal/inst/section interlocking, track sections & timed signals
     # Signal is interlocked on instrument 1, section 1 and points 1/2 - Sig ahead is 4
+    # Note the Signal ahead is a string as this can be local or remote
     update_object_configuration(s1,{
         "sigroutes":[True,True,True,True,True],
         "overridesignal": True,
         "pointinterlock":[
-           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True],[2,True]],"4",1],
-           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True],[2,True]],"4",1],
-           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True],[2,True]],"4",1],
-           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True],[2,True]],"4",1],
-           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True],[2,True]],"4",1] ],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],"4",1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],"4",1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],"4",1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],"4",1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],"4",1] ],
         "siginterlock":[
              [ [2, [True, True, True, True, True]], 
                [2, [True, True, True, True, True]], 
                [3, [True, True, True, True, True]], 
                [3, [True, True, True, True, True]] ], 
              [ [2, [True, True, True, True, True]], 
                [2, [True, True, True, True, True]], 
@@ -585,197 +745,79 @@
         "siginterlock":[ [1, [True,True,True,True,True] ] ] } )
     assert_object_configuration(p2,{
         "siginterlock":[ [1, [True,True,True,True,True] ] ] } )
     # Configure another signal for point interlocking
     update_object_configuration(s2,{
         "sigroutes":[True,True,True,True,True],
         "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[1,True],[0,False],[0,False],[0,True],[0,False],[0,False],[0,False]],"",0],
-           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0] ] } )
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[1,True],[0,False],[0,False],[0,True],[0,False],[0,False]],"",0],
+           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[1,True],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0] ] } )
     # Assert the point interlocking tables have been configured correctly
     assert_object_configuration(p1,{
         "siginterlock":[ [1, [True,True,True,True,True] ],
                          [2, [False,True,True,True,True] ] ] } )
     assert_object_configuration(p2,{
         "siginterlock":[ [1, [True,True,True,True,True] ] ] } )
-    # Test the basic interlocking for signal 1 (in run mode)
-    sleep(delay)
-    set_run_mode()
-    # Initial (default) configuration
-    assert_points_unlocked(1,2)
-    assert_block_section_ahead_not_clear(1)
-    assert_sections_clear(1,2,3)
-    assert_signals_locked(1)
-    # Clear the instrument and switch the points to unlock the signal
-    sleep(delay)
-    set_points_switched(1,2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_instrument_clear(2)
-    assert_signals_unlocked(1)
-    # Test interlocking of signal with points
-    sleep(delay)
-    set_points_normal(1)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_points_switched(1)
-    assert_signals_unlocked(1)
-    sleep(delay)
-    set_points_normal(2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_points_switched(2)
-    assert_signals_unlocked(1)
-    # Test interlocking of signal with track sections
-    sleep(delay)
-    set_sections_occupied(1)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_sections_clear(1)
-    assert_signals_unlocked(1)
-    sleep(delay)
-    set_sections_occupied(2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_sections_clear(2)
-    assert_signals_unlocked(1)
-    sleep(delay)
-    set_sections_occupied(3)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_sections_clear(3)
-    assert_signals_unlocked(1)
-    # Test interlocking of points with signal
-    sleep(delay)
-    set_signals_off(1)
-    assert_points_locked(1,2)
-    sleep(delay)
-    set_signals_on(1)
-    assert_points_unlocked(1,2)
-    # Test interlocking of signal with conflicting signals
-    sleep(delay)
-    set_signals_off(2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_signals_on(2)
-    assert_signals_unlocked(1)
-    sleep(delay)
-    set_signals_off(3)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_signals_on(3)
-    assert_signals_unlocked(1)
-    # Test interlocking of signal with block instrument
-    sleep(delay)
-    set_instrument_blocked(2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_instrument_clear(2)
-    assert_signals_unlocked(1)
-    sleep(delay)
-    set_instrument_occupied(2)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_instrument_clear(2)
-    assert_signals_unlocked(1)
-    # Test the signal overrides (on track section occupied)
-    assert_signals_DANGER(1)
-    sleep(delay)
-    set_signals_off(1)
-    assert_signals_override_clear(1)    
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_sections_occupied(1)
-    assert_signals_override_set(1)    
-    assert_signals_DANGER(1)
-    sleep(delay)
-    set_sections_clear(1)
-    assert_signals_override_clear(1)    
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_sections_occupied(2)
-    assert_signals_override_set(1)    
-    assert_signals_DANGER(1)
-    sleep(delay)
-    set_sections_clear(2)
-    assert_signals_override_clear(1)    
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_sections_occupied(3)
-    assert_signals_override_set(1)    
-    assert_signals_DANGER(1)
-    sleep(delay)
-    set_sections_clear(3)
-    assert_signals_override_clear(1)    
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_signals_on(1)
-    assert_signals_DANGER(1)
-    # Test the signal interaction with the signal ahead
-    sleep(delay)
-    set_signals_off(1)
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_signals_off(4)
-    assert_signals_PROCEED(1)
-    sleep(delay)
-    set_signals_on(4)
-    assert_signals_CAUTION(1)
-    sleep(delay)
-    set_signals_on(1)
-    assert_signals_DANGER(1)
-    # Return everything to its default state
-    sleep(delay)
-    set_instrument_blocked(2)
-    sleep(delay)
-    set_points_normal(1,2)
-    assert_points_unlocked(1,2)
-    assert_block_section_ahead_not_clear(1)
-    assert_sections_clear(1,2,3)
-    assert_signals_locked(1)
-    sleep(delay)
-    set_edit_mode()
+    # Set up the route tables for Track Sensor 1
+    update_object_configuration(ts1,{
+        "routeahead":[
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1] ],
+        "routebehind":[
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1],
+           [[[1,True],[1,True],[1,True],[1,True],[2,True],[2,True]],1] ] } )
+    # Test the interlocking and override functionality before changing the item IDs
+    test_interlocking_and_overrides(delay,sig1=1,sig2=2,sig3=3,sig4=4,
+            point1=1,point2=2,block1=1,block2=2,sec1=1,sec2=2,sec3=3)
     # Change the IDs of Signal 2, Points 1/2, Instrument 1, Track Section 1 and line 1
     update_object_configuration(l1,{"itemid":51})
     update_object_configuration(s1,{"itemid":11})
     update_object_configuration(s2,{"itemid":12})
     update_object_configuration(s3,{"itemid":13})
     update_object_configuration(s4,{"itemid":14})
     update_object_configuration(p1,{"itemid":21})
     update_object_configuration(p2,{"itemid":22})
     update_object_configuration(t1,{"itemid":31})
     update_object_configuration(t2,{"itemid":32})
     update_object_configuration(t3,{"itemid":33})
+    update_object_configuration(ts1,{"itemid":61})
     update_object_configuration(i1,{"itemid":41})
     update_object_configuration(i2,{"itemid":42})
     # Test the IDs have been changed
     assert_object_configuration(l1,{"itemid":51})
     assert_object_configuration(s1,{"itemid":11})
     assert_object_configuration(s2,{"itemid":12})
     assert_object_configuration(s3,{"itemid":13})
     assert_object_configuration(s4,{"itemid":14})
     assert_object_configuration(p1,{"itemid":21})
     assert_object_configuration(p2,{"itemid":22})
     assert_object_configuration(t1,{"itemid":31})
     assert_object_configuration(t2,{"itemid":32})
     assert_object_configuration(t3,{"itemid":33})
+    assert_object_configuration(ts1,{"itemid":61})
     # Note the linked instrument is a string (local or remote)
     assert_object_configuration(i1,{"itemid":41,"linkedto":"42"})
     assert_object_configuration(i2,{"itemid":42,"linkedto":"41"})
     # Test the signal interlocking and automation tables have been updated correctly
     assert_object_configuration(s1,{
         "pointinterlock":[
-           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True],[22,True]],"14",41],
-           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True],[22,True]],"14",41],
-           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True],[22,True]],"14",41],
-           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True],[22,True]],"14",41],
-           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True],[22,True]],"14",41] ],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],"14",41],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],"14",41],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],"14",41],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],"14",41],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],"14",41] ],
         "siginterlock":[
              [ [12, [True, True, True, True, True]], 
                [12, [True, True, True, True, True]], 
                [13, [True, True, True, True, True]], 
                [13, [True, True, True, True, True]] ], 
              [ [12, [True, True, True, True, True]], 
                [12, [True, True, True, True, True]], 
@@ -802,186 +844,92 @@
                            [True,12,1,1] ]} )
     # Assert the point interlocking tables have been updated correctly
     assert_object_configuration(p1,{
         "siginterlock":[ [11, [True,True,True,True,True] ],
                          [12, [False,True,True,True,True] ] ] } )
     assert_object_configuration(p2,{
         "siginterlock":[ [11, [True,True,True,True,True] ] ] } )
-    # Re-Test the basic interlocking for signal 1 (in run mode) with the new IDs
-    sleep(delay)
-    set_run_mode()
-    # Initial (default) configuration
-    assert_points_unlocked(21,22)
-    assert_block_section_ahead_not_clear(41)
-    assert_sections_clear(31,32,33)
-    assert_signals_locked(11)
-    # Clear the instrument and switch the points to unlock the signal
-    sleep(delay)
-    set_points_switched(21,22)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_instrument_clear(42)
-    assert_signals_unlocked(11)
-    # Test interlocking of signal with points
-    sleep(delay)
-    set_points_normal(21)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_points_switched(21)
-    assert_signals_unlocked(11)
-    sleep(delay)
-    set_points_normal(22)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_points_switched(22)
-    assert_signals_unlocked(11)
-    # Test interlocking of signal with track sections
-    sleep(delay)
-    set_sections_occupied(31)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_sections_clear(31)
-    assert_signals_unlocked(11)
-    sleep(delay)
-    set_sections_occupied(32)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_sections_clear(32)
-    assert_signals_unlocked(11)
-    sleep(delay)
-    set_sections_occupied(33)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_sections_clear(33)
-    assert_signals_unlocked(11)
-    # Test interlocking of points with signal
-    sleep(delay)
-    set_signals_off(11)
-    assert_points_locked(21,22)
-    sleep(delay)
-    set_signals_on(11)
-    assert_points_unlocked(21,22)
-    # Test interlocking of signal with conflicting signals
-    sleep(delay)
-    set_signals_off(12)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_signals_on(12)
-    assert_signals_unlocked(11)
-    sleep(delay)
-    set_signals_off(13)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_signals_on(13)
-    assert_signals_unlocked(11)
-    # Test interlocking of signal with block instrument
-    sleep(delay)
-    set_instrument_blocked(42)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_instrument_clear(42)
-    assert_signals_unlocked(11)
-    sleep(delay)
-    set_instrument_occupied(42)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_instrument_clear(42)
-    assert_signals_unlocked(11)
-    # Test the signal overrides (on track section occupied)
-    sleep(delay)
-    set_signals_off(11)
-    assert_signals_override_clear(11)    
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_sections_occupied(31)
-    assert_signals_override_set(11)    
-    assert_signals_DANGER(11)
-    sleep(delay)
-    set_sections_clear(31)
-    assert_signals_override_clear(11)    
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_sections_occupied(32)
-    assert_signals_override_set(11)    
-    assert_signals_DANGER(11)
-    sleep(delay)
-    set_sections_clear(32)
-    assert_signals_override_clear(11)    
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_sections_occupied(33)
-    assert_signals_override_set(11)    
-    assert_signals_DANGER(11)
-    sleep(delay)
-    set_sections_clear(33)
-    assert_signals_override_clear(11)    
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_signals_on(11)    
-    # Test the signal interaction with the signal ahead
-    sleep(delay)
-    set_signals_off(11)
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_signals_off(14)
-    assert_signals_PROCEED(11)
-    sleep(delay)
-    set_signals_on(14)
-    assert_signals_CAUTION(11)
-    sleep(delay)
-    set_signals_on(11)
-    assert_signals_DANGER(11)
-    # Return everything to its default state
-    sleep(delay)
-    set_instrument_blocked(42)
-    sleep(delay)
-    set_points_normal(21,22)
-    assert_points_unlocked(21,22)
-    assert_block_section_ahead_not_clear(41)
-    assert_sections_clear(31,32,33)
-    assert_signals_locked(11)
-    sleep(delay)
-    set_edit_mode()
-    # Delete Point 21 and test all references have been removed
+    # Test the route tables have been updated correctly for Track Sensor 61
+    assert_object_configuration(ts1,{
+        "routeahead":[
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31] ],
+        "routebehind":[
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31],
+           [[[21,True],[21,True],[21,True],[21,True],[22,True],[22,True]],31] ] } )
+    # Test the interlocking and override functionality after changing the item IDs
+    test_interlocking_and_overrides(delay,sig1=11,sig2=12,sig3=13,sig4=14,
+            point1=21,point2=22,block1=41,block2=42,sec1=31,sec2=32,sec3=33)
+    # Delete Point 21 and test all references have been removed from the Signals and track Sensors
     # Note that the point 22 entries will have shuffled down in the list
     sleep(delay)
     select_single_object(p1)
     sleep(delay)
     delete_selected_objects()
+    # Test the route tables have been updated correctly for Signal 11
     assert_object_configuration(s1,{
         "pointinterlock":[
-           [[[22,True],[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[22,True],[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[22,True],[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[22,True],[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[22,True],[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41] ] })
-    # Delete Point 22 and test all references have been removed
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],"14",41] ] })
+    # Test the route tables have been updated correctly for Track Sensor 61
+    assert_object_configuration(ts1,{
+        "routeahead":[
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31] ],
+        "routebehind":[
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[22,True],[22,True],[0,False],[0,False],[0,False],[0,False]],31] ] } )
+    # Delete Point 22 and test all references have been removed from Signal 11 and Track Sensor 61
     sleep(delay)
     select_single_object(p2)
     sleep(delay)
     delete_selected_objects()
+    # Test the interlocking tables have been updated correctly for Signal 11
     assert_object_configuration(s1,{
         "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41] ] })
-    # Delete signal 12 and test all references have been removed
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41] ] })
+    # Test the route tables have been updated correctly for Track Sensor 61
+    assert_object_configuration(ts1,{
+        "routeahead":[
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31] ],
+        "routebehind":[
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],31] ] } )
+    # Delete signal 12 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(s2)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
-        "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41] ],
         "siginterlock":[
              [ [13, [True, True, True, True, True]], 
                [13, [True, True, True, True, True]], 
                [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]] ], 
              [ [13, [True, True, True, True, True]], 
                [13, [True, True, True, True, True]], 
@@ -1000,26 +948,20 @@
                [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]] ] ],
         "timedsequences":[ [False,0,0,0],
                            [False,0,0,0],
                            [True,13,1,1],
                            [False,0,0,0],
                            [False,0,0,0] ] } )
-    # Delete signal 13 and test all references have been removed
+    # Delete signal 13 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(s3)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
-        "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"14",41] ],
         "siginterlock":[
              [ [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]] ], 
              [ [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]], 
@@ -1038,55 +980,70 @@
                [0, [False, False, False, False, False]], 
                [0, [False, False, False, False, False]] ] ],
         "timedsequences":[ [False,0,0,0],
                            [False,0,0,0],
                            [False,0,0,0],
                            [False,0,0,0],
                            [False,0,0,0] ] } )
-    # Delete signal 14 and test all references have been removed
+    # Delete signal 14 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(s4)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
         "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41] ] } )
-    # Delete Instrument 1 and test all references have been removed
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",41] ] } )
+    # Delete Instrument 1 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(i1)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
         "pointinterlock":[
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
-           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0] ] })
-    # Delete Section 31 and test all references have been removed
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],"",0] ] })
+    # Delete Track Section 31 and test all references have been removed from Signal 1 and Track Sensor 61
     sleep(delay)
     select_single_object(t1)
     sleep(delay)
     delete_selected_objects()
+    # Test the route and interlocking tables have been updated correctly for Signal 11
     assert_object_configuration(s1,{
         "tracksections":[0,[[0,32,33],[0,32,33],[0,32,33],[0,32,33],[0,32,33]] ],
         "trackinterlock":[[0,32,33],[0,32,33],[0,32,33],[0,32,33],[0,32,33]] } )
-    # Delete Section 32 and test all references have been removed
+    # Test the route tables have been updated correctly for Track Sensor 61
+    assert_object_configuration(ts1,{
+        "routeahead":[
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0] ],
+        "routebehind":[
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0],
+           [[[0,False],[0,False],[0,False],[0,False],[0,False],[0,False]],0] ] } )
+    # Delete Section 32 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(t2)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
         "tracksections":[0,[[0,0,33],[0,0,33],[0,0,33],[0,0,33],[0,0,33]] ],
         "trackinterlock":[[0,0,33],[0,0,33],[0,0,33],[0,0,33],[0,0,33]] } )
-    # Delete Section 33 and test all references have been removed
+    # Delete Section 33 and test all references have been removed from Signal 11
     sleep(delay)
     select_single_object(t3)
     sleep(delay)
     delete_selected_objects()
     assert_object_configuration(s1,{
         "tracksections":[0,[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]] ],
         "trackinterlock":[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]] } )
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_run_layout.py` & `model_railway_signals-4.2.0/system_tests/test_run_layout.py`

 * *Files 12% similar despite different names*

```diff
@@ -738,482 +738,649 @@
 #-----------------------------------------------------------------------------------
 # These test the changes to track occupancy on signal passed events for non-distant
 # and non-shunt-ahead signals - testing all the possible signal routes. This test
 # case has track sections both ahead of and behind the signal. Track occupancy
 # changes are operational only in RUN Mode (automation either on or off)
 #-----------------------------------------------------------------------------------
 
-def run_basic_track_occupancy_tests(delay:float, edit_mode:bool, test_sensors:bool=False):
+def test_route(sig1, sig2, gpio1, gpio2, sec1, sec2, test_sensors, delay, edit_mode):
+    # We need to introduce a delay after triggering of the remote GPIO sensors
+    # as these are configured with a timeout period of 0.1 seconds (this means that
+    # any additional triggers received within the 0.1 seconds will be ignored
+    gpio_trigger_delay = 0.2
+    # Test the route forward
+    if not edit_mode:
+        assert_sections_occupied(sec1)
+        assert_sections_clear(sec2)
+    if test_sensors:
+        simulate_gpio_triggered(gpio1)
+        sleep(delay+gpio_trigger_delay)
+        simulate_gpio_triggered(gpio2)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(sig1)
+        sleep(delay)
+        trigger_signals_passed(sig2)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(sec2)
+        assert_sections_clear(sec1)
+    return
+
+def run_signal_track_occupancy_tests(delay:float, edit_mode:bool, test_sensors:bool=False):
     reset_layout()
     sleep(delay)
+    if test_sensors: print("Signal Track occupancy changes -  simulated GPIO events")
+    else: print("Signal Track occupancy changes - user-generated (button push) events")
     # Set the block instrument to CLEAR (so it doesn't lock signal 1)
     set_instrument_clear(2)
     sleep(delay)
-    
-    if test_sensors: print("Track occupancy changes (on signal passed events) - Main route - simulated GPIO events")
-    else: print("Track occupancy changes (on signal passed events) - Main route - user-generated events")
-    
-    # MAIN route - forward
-    # No change to track occupancy if signal is ON
-    if not edit_mode:
-        set_sections_occupied(1)
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
+    if not edit_mode: set_sections_occupied(1)
     sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    # Train will be passed if signal is OFF
+    
+    # Test MAIN route forward and back with signals at DANGER - train should still be passed but with warnings generated
+    if not edit_mode: print("Signal Track occupancy changes - Signals Passed at danger - 2 warnings should be generated:")
+    test_route(sig1=1, sig2=4, gpio1=4, gpio2=7, sec1=1, sec2=4, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route(sig1=4, sig2=1, gpio1=7, gpio2=4, sec1=4, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test MAIN route forward and back with signals CLEAR
     set_signals_off(1)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(4)
-        assert_sections_clear(1,2,3,5,6)
+    test_route(sig1=1, sig2=4, gpio1=4, gpio2=7, sec1=1, sec2=4, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(1)
-    # MAIN route - back
-    # No change to track occupancy if signal is ON
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(12)
-    else: trigger_signals_passed(4)
     sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(4)
-        assert_sections_clear(1,2,3,5,6)
-    # Train will be passed if signal is OFF
     set_signals_off(4)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(12)
-    else: trigger_signals_passed(4)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
+    test_route(sig1=4, sig2=1, gpio1=7, gpio2=4, sec1=4, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(4)
     sleep(delay)
     
-    if test_sensors: print("Track occupancy changes (on signal passed events) - LH1 route - simulated GPIO events")
-    else: print("Track occupancy changes (on signal passed events) - LH1 route - user-generated events")
+    # Test LH1 route forward and back with signals at DANGER - train should still be passed but with warnings generated
     set_fpls_off(1)
     sleep(delay)
     set_points_switched(1)
     sleep(delay)
     set_fpls_on(1)
     sleep(delay)
-    # LH1 route - forward
-    # No change to track occupancy if signal is ON
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    # Train will be passed if signal is OFF
+    if not edit_mode: print("Signal Track occupancy changes - Signals Passed at danger - 2 warnings should be generated:")
+    test_route(sig1=1, sig2=5, gpio1=4, gpio2=8, sec1=1, sec2=5, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route(sig1=5, sig2=1, gpio1=8, gpio2=4, sec1=5, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH1 route forward and back with signals CLEAR
     set_signals_off(1)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(5)
-        assert_sections_clear(1,2,3,4,6)
+    test_route(sig1=1, sig2=5, gpio1=4, gpio2=8, sec1=1, sec2=5, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(1)
-    # LH1 route - back
-    # No change to track occupancy if signal is ON
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(13)
-    else: trigger_signals_passed(5)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(5)
-        assert_sections_clear(1,2,3,4,6)
-    # Train will be passed if signal is OFF
     set_signals_off(5)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(13)
-    else: trigger_signals_passed(5)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
+    test_route(sig1=5, sig2=1, gpio1=8, gpio2=4, sec1=5, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(5)
     sleep(delay)
-    
-    if test_sensors: print("Track occupancy changes (on signal passed events) - LH2 route - simulated GPIO events")
-    else: print("Track occupancy changes (on signal passed events) - LH2 route - user-generated events")
+
+    # Test LH2 route forward and back with signals at DANGER - train should still be passed but with warnings generated
     set_fpls_off(2)
     sleep(delay)
     set_points_switched(2)
     sleep(delay)
     set_fpls_on(2)
     sleep(delay)
-    # LH2 route - forward
-    # No change to track occupancy if signal is ON
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    # Train will be passed if signal is OFF
+    if not edit_mode: print("Signal Track occupancy changes - Signals Passed at danger - 2 warnings should be generated:")
+    test_route(sig1=1, sig2=6, gpio1=4, gpio2=9, sec1=1, sec2=6, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route(sig1=6, sig2=1, gpio1=9, gpio2=4, sec1=6, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH2 route forward and back with signals CLEAR
     set_signals_off(1)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(6)
-        assert_sections_clear(1,2,3,4,5)
+    test_route(sig1=1, sig2=6, gpio1=4, gpio2=9, sec1=1, sec2=6, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(1)
-    # LH2 route - back
-    # No change to track occupancy if signal is ON
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(18)
-    else: trigger_signals_passed(6)
     sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(6)
-        assert_sections_clear(1,2,3,4,5)
-    # Train will be passed if signal is OFF
     set_signals_off(6)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(18)
-    else: trigger_signals_passed(6)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
+    test_route(sig1=6, sig2=1, gpio1=9, gpio2=4, sec1=6, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(6)
     sleep(delay)
     
-    if test_sensors: print("Track occupancy changes (on signal passed events) - RH1 route - simulated GPIO events")
-    else: print("Track occupancy changes (on signal passed events) - RH1 route - user-generated events")
+    # Test RH1 route forward and back with signals at DANGER - train should still be passed but with warnings generated
     set_fpls_off(1,3)
     sleep(delay)
-    set_points_normal(1)
     set_points_switched(3)
+    set_points_normal(1)
     sleep(delay)
     set_fpls_on(1,3)
     sleep(delay)
-    # RH1 route - forward
-    # No change to track occupancy if signal is ON
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    # Train will be passed if signal is OFF
+    if not edit_mode: print("Signal Track occupancy changes - Signals Passed at danger - 2 warnings should be generated:")
+    test_route(sig1=1, sig2=3, gpio1=4, gpio2=6, sec1=1, sec2=3, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route(sig1=3, sig2=1, gpio1=6, gpio2=4, sec1=3, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test RH1 route forward and back with signals CLEAR
     set_signals_off(1)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(3)
-        assert_sections_clear(1,2,4,5,6)
+    test_route(sig1=1, sig2=3, gpio1=4, gpio2=6, sec1=1, sec2=3, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(1)
-    # RH1 route - back
-    # No change to track occupancy if signal is ON
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(6)
-    else: trigger_signals_passed(3)
     sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(3)
-        assert_sections_clear(1,2,4,5,6)
-    # Train will be passed if signal is OFF
     set_signals_off(3)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(6)
-    else: trigger_signals_passed(3)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
+    test_route(sig1=3, sig2=1, gpio1=6, gpio2=4, sec1=3, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
     set_signals_on(3)
     sleep(delay)
     
-    if test_sensors: print("Track occupancy changes (on signal passed events) - RH2 route - simulated GPIO events")
-    else: print("Track occupancy changes (on signal passed events) - RH2 route - user-generated events")
+    # Test RH2 route forward and back with signals at DANGER - train should still be passed but with warnings generated
     set_fpls_off(4)
     sleep(delay)
     set_points_switched(4)
-    sleep(delay)
     set_fpls_on(4)
     sleep(delay)
-    # RH2 route - forward
-    # No change to track occupancy if signal is ON
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
-    sleep(delay)
-    if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    # Train will be passed if signal is OFF
+    if not edit_mode: print("Signal Track occupancy changes - Signals Passed at danger - 2 warnings should be generated:")
+    test_route(sig1=1, sig2=2, gpio1=4, gpio2=5, sec1=1, sec2=2, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route(sig1=2, sig2=1, gpio1=5, gpio2=4, sec1=2, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test RH2 route forward and back with signals CLEAR
     set_signals_off(1)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(4)
-    else: trigger_signals_passed(1)
+    test_route(sig1=1, sig2=2, gpio1=4, gpio2=5, sec1=1, sec2=2, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    set_signals_on(1)
+    sleep(delay)
+    set_signals_off(2)
+    sleep(delay)
+    test_route(sig1=2, sig2=1, gpio1=5, gpio2=4, sec1=2, sec2=1, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    set_signals_on(2)
     sleep(delay)
+    
+    if not edit_mode: print("Signal Track occupancy changes - Edge case tests - 3 warnings should be generated:")
+    # Test Both sections occupied - and signal is CLEAR - Valid Move - Train should be passed (without warnings)
+    set_subsidaries_off(1)
+    sleep(delay)
+    gpio_trigger_delay = 0.2
+    if not edit_mode:
+        set_sections_occupied(2)
+        sleep(delay)
+        assert_sections_occupied(1,2)
+    if test_sensors:
+        simulate_gpio_triggered(4)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(1)
+        sleep(delay)
     if not edit_mode:
         assert_sections_occupied(2)
-        assert_sections_clear(1,3,4,5,6)
-    set_signals_on(1)
+        assert_sections_clear(1)
+    # Test Both sections occupied - and signal is at DANGER - Warning will be generated
+    set_subsidaries_on(1)
     sleep(delay)
-    # RH2 route - back
-    # No change to track occupancy if signal is ON
-    if test_sensors: simulate_gpio_triggered(12)
-    else: trigger_signals_passed(2)
+    if not edit_mode:
+        set_sections_occupied(1)
+        sleep(delay)
+        assert_sections_occupied(1,2)
+    if test_sensors:
+        simulate_gpio_triggered(4)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(1)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(1,2)
+    # Test Both sections clear - and signal is at DANGER - Warning will be generated
     sleep(delay)
     if not edit_mode:
-        assert_sections_occupied(2)
-        assert_sections_clear(1,3,4,5,6)
-    # Train will be passed if signal is OFF
-    set_signals_off(2)
+        set_sections_clear(1,2)
+        sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(4)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(1)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_clear(1,2)
+    # Test Both sections clear - and signal is Clear - Warning will be generated
+    set_subsidaries_off(1)
+    sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(4)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(1)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_clear(1,2)
+    set_subsidaries_on(1)
+    sleep(delay)
+    return()
+
+#-----------------------------------------------------------------------------------
+# These test the changes to track occupancy on Track Sensor passed events. This test
+# case has track sections both ahead of and behind the Track Section. Track occupancy
+# changes are operational only in RUN Mode (automation either on or off)
+#-----------------------------------------------------------------------------------
+
+def test_route_sensors(sen1, gpio1, sec1, sec2, test_sensors, delay, edit_mode):
+    # We need to introduce a delay after triggering of the remote GPIO sensors
+    # as these are configured with a timeout period of 0.1 seconds (this means that
+    # any additional triggers received within the 0.1 seconds will be ignored
+    gpio_trigger_delay = 0.2
+    # Test the route forward
+    if not edit_mode:
+        assert_sections_occupied(sec1)
+        assert_sections_clear(sec2)
+    if test_sensors:
+        simulate_gpio_triggered(gpio1)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(sen1)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(sec2)
+        assert_sections_clear(sec1)
+    return
+
+def run_track_sensor_occupancy_tests(delay:float, edit_mode:bool, test_sensors:bool=False):
+    reset_layout()
+    sleep(delay)
+    if test_sensors: print("Track Sensor occupancy changes - simulated GPIO events")
+    else: print("Track Sensoroccupancy changes - user-generated (button push) events")
+    if not edit_mode: set_sections_occupied(34)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(5)
-    else: trigger_signals_passed(2)
+    
+    # Test MAIN route forward and back
+    test_route_sensors(sen1=1, gpio1=22,sec1=34, sec2=29, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    test_route_sensors(sen1=1, gpio1=22,sec1=29, sec2=34, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test Main => LH1
+    set_points_switched(10)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=34, sec2=30, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH1 <= LH1
+    set_points_switched(15)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=30, sec2=37, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH1 => LH2
+    set_points_switched(11)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=37, sec2=31, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH2 <= LH2
+    set_points_switched(16)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=31, sec2=33, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test LH2 => RH1
+    set_points_switched(12)
+    set_points_normal(10)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=33, sec2=32, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test RH1 <= RH1
+    set_points_switched(13)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=32, sec2=35, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test RH1 => RH2
+    set_points_switched(9)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=35, sec2=28, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test RH2 <=RH2
+    set_points_switched(14)
     sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=28, sec2=36, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    
+    # Test the Track Sections both occupied (negative test coverage)
+    gpio_trigger_delay = 0.2
     if not edit_mode:
-        assert_sections_occupied(1)
-        assert_sections_clear(2,3,4,5,6)
-    set_signals_on(2)    
+        print("Track Sensor occupancy changes - negative tests - 4 warnings should be generated:")
+        set_sections_occupied(28)
+        assert_sections_occupied(28,36)
+    if test_sensors:
+        simulate_gpio_triggered(22)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(1)
+        sleep(delay)
+    if not edit_mode: assert_sections_occupied(28,36)
+    # Test the Track Sections both clear (negative test coverage)
+    if not edit_mode:
+        set_sections_clear(28,36)
+        sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(22)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(1)
+        sleep(delay)
+    if not edit_mode: assert_sections_clear(28,36)
+    # Test the case of route not locked - track occupancy will still change
+    if not edit_mode: set_sections_occupied(28)
+    set_fpls_off(17,18)
+    sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=28, sec2=36, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+    # Test the case of no route existing before the sensor (negative test coverage)
+    set_points_switched(18)
+    sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(22)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(1)
+        sleep(delay)
+    # Test the case of no route existing after the sensor (negative test coverage)
+    set_points_normal(18)
+    set_points_switched(17)
+    sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(22)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(1)
+        sleep(delay)
+    set_points_normal(17)
     sleep(delay)
+    test_route_sensors(sen1=1, gpio1=22,sec1=36, sec2=28, test_sensors=test_sensors, delay=delay, edit_mode=edit_mode)
+
+    if not edit_mode: print("Track Sensor occupancy changes - Section Ahead or Section Behind Tests")
+    # Section ahead of Track Sensor only - Section should change to OCCUPIED
+    if test_sensors:
+        simulate_gpio_triggered(23)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(2)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(38)
+    # Section ahead of Track Sensor only - Section should change to CLEAR
+    if test_sensors:
+        simulate_gpio_triggered(23)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(2)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_clear(38)
+    # Section behind of Track Sensor only - Section should change to OCCUPIED
+    if test_sensors:
+        simulate_gpio_triggered(24)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(3)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(39)
+    # Section behind of Track Sensor only - Section should change to CLEAR
+    if test_sensors:
+        simulate_gpio_triggered(24)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_sensors_passed(3)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_clear(39)
     return()
 
 #-----------------------------------------------------------------------------------
 # These test the changes to track occupancy on signal passed events for non-distant
 # and non-shunt-ahead signals - where sections only exist one side of the signal
 # Track occupancy changes work in RUN Mode (Automation enabled or disabled)
 #-----------------------------------------------------------------------------------
 
 def subtest_sections_ahead_behind_3(delay:float, edit_mode:bool, test_sensors:bool=False):
+    # We need to introduce a delay after triggering of the remote GPIO sensors
+    # as these are configured with a timeout period of 0.1 seconds (this means that
+    # any additional triggers received within the 0.1 seconds will be ignored
+    gpio_trigger_delay = 0.2
     if test_sensors:
         print("Section ahead/behind tests - Other signal types - simulated GPIO events")        
     else:
         print("Section ahead/behind tests - Other signal types - user-generated events")        
     # Track occupancy tests for non-distant signals - section ahead of signal only
-    sleep(delay)
     reset_layout()
-    # No change to track occupancy if signal is ON
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(19)
-    else: trigger_signals_passed(7)
+    # No Section behind signal, section ahead is CLEAR, signal is ON
+    # Section ahead will be set to OCCUPIED (but with a SPAD warning)
+    if not edit_mode:
+        assert_sections_clear(7)
+        print("signals passed at danger - a warning will be generated")        
+    if test_sensors:
+        simulate_gpio_triggered(10)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(7)
+        sleep(delay)
+    if not edit_mode: assert_sections_occupied(7)
+    # No Section behind signal, section ahead is now OCCUPIED, signal is ON
+    # Section ahead will be set to CLEAR
+    if test_sensors:
+        simulate_gpio_triggered(10)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(7)
+        sleep(delay)
     if not edit_mode: assert_sections_clear(7)
-    # Section will be set to occupied if signal is off
+    # No Section behind signal, section ahead is now CLEAR, signal is OFF
+    # Section ahead will be set to OCCUPIED (no SPAD warning this time)
     sleep(delay)
     set_signals_off(7)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(19)
-    else: trigger_signals_passed(7)
-    if not edit_mode: assert_sections_occupied(7)
-    # Check the train doesn't get passed back
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(19)
-    else: trigger_signals_passed(7)
+    if test_sensors:
+        simulate_gpio_triggered(10)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(7)
+        sleep(delay)
     if not edit_mode: assert_sections_occupied(7)
-    sleep(delay)
+    # No Section behind signal, section ahead is now OCCUPIED, signal is ON
+    # Section ahead will be set to CLEAR
+    if test_sensors:
+        simulate_gpio_triggered(10)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(7)
+        sleep(delay)
+    if not edit_mode: assert_sections_clear(7)
     set_signals_on(7)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(19)
-    else: trigger_signals_passed(7)
-    if not edit_mode: assert_sections_occupied(7)
+    
     # Track occupancy tests for non-distant signals - section behind signal only
-    sleep(delay)
-    if not edit_mode: set_sections_occupied(8)
-    # No change to track occupancy if signal is ON
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(20)
-    else: trigger_signals_passed(8)
-    if not edit_mode: assert_sections_occupied(8)
-    # Section will be cleared if signal is off
-    sleep(delay)
-    set_signals_off(8)
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(20)
-    else: trigger_signals_passed(8)
     if not edit_mode: assert_sections_clear(8)
-    # Check the train doesn't get passed back
-    sleep(delay)
-    if test_sensors: simulate_gpio_triggered(20)
-    else: trigger_signals_passed(8)
+    # No Section ahead of signal, section behind is CLEAR, signal is ON
+    # Section behind will be set to OCCUPIED 
+    if test_sensors:
+        simulate_gpio_triggered(11)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(8)
+        sleep(delay)
+    if not edit_mode:
+        assert_sections_occupied(8)
+        print("signals passed at danger - a warning will be generated")        
+    # No Section ahead of signal, section behind is now OCCUPIED, signal is ON
+    # Section behind will be set to CLEAR (but with a SPAD warning)
+    if test_sensors:
+        simulate_gpio_triggered(11)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(8)
+        sleep(delay)
     if not edit_mode: assert_sections_clear(8)
+    # No Section ahead of signal, section behind is CLEAR, signal is OFF
+    # Section behind will be set to OCCUPIED
+    set_signals_off(8)
     sleep(delay)
+    if test_sensors:
+        simulate_gpio_triggered(11)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(8)
+        sleep(delay)
+    if not edit_mode: assert_sections_occupied(8)
+    # No Section ahead of signal, section behind is now OCCUPIED, signal isOFF
+    # Section behind will be set to CLEAR (no SPAD warning this time)
+    if test_sensors:
+        simulate_gpio_triggered(11)
+        sleep(delay+gpio_trigger_delay)
+    else:
+        trigger_signals_passed(8)
+        sleep(delay)
+    if not edit_mode: assert_sections_clear(8)    
     set_signals_on(8)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(20)
-    else: trigger_signals_passed(8)
-    if not edit_mode: assert_sections_clear(8)
     return()
 
 #-----------------------------------------------------------------------------------
 # These test the changes to track occupancy on signal passed events for distant
 # and shunt-ahead signals - all combinations of section ahead/behind
 #-----------------------------------------------------------------------------------
 
 def subtest_sections_ahead_behind_1(delay:float, edit_mode:bool, test_sensors:bool=False):
     # Track occupancy tests --- section ahead of signal only
     # Section will be set to occupied if signal is on
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(21)
+    if test_sensors: simulate_gpio_triggered(12)
     else: trigger_signals_passed(9)
     if not edit_mode: assert_sections_occupied(9)
     sleep(delay)
     if not edit_mode: set_sections_clear(9)
     # Section will be set to occupied if signal is off
     sleep(delay)
     set_signals_off(9)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(21)
+    if test_sensors: simulate_gpio_triggered(12)
     else: trigger_signals_passed(9)
     if not edit_mode: assert_sections_occupied(9)
     # Check the train gets passed back the other way
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(21)
+    if test_sensors: simulate_gpio_triggered(12)
     else: trigger_signals_passed(9)
     if not edit_mode: assert_sections_clear(9)
     sleep(delay)
     set_signals_on(9)
     sleep(delay)
     if not edit_mode: set_sections_occupied(9)
-    if test_sensors: simulate_gpio_triggered(21)
+    if test_sensors: simulate_gpio_triggered(12)
     else: trigger_signals_passed(9)
     if not edit_mode: assert_sections_clear(9)
     # Track occupancy tests --- section behind signal only
     sleep(delay)
     # Test the normal condition (section behind occupied) - Section will be Cleared if signal is on
     sleep(delay)
     if not edit_mode: set_sections_occupied(10)
     # Section will be Cleared if signal is on
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(22)
+    if test_sensors: simulate_gpio_triggered(13)
     else: trigger_signals_passed(10)
     if not edit_mode: assert_sections_clear(10)
     sleep(delay)
     if not edit_mode: set_sections_occupied(10)
     # Section will be Cleared if signal is on
     sleep(delay)
     set_signals_off(10)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(22)
+    if test_sensors: simulate_gpio_triggered(13)
     else: trigger_signals_passed(10)
     if not edit_mode: assert_sections_clear(10)
     # Check the train gets passed back the other way
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(22)
+    if test_sensors: simulate_gpio_triggered(13)
     else: trigger_signals_passed(10)
     if not edit_mode: assert_sections_occupied(10)
     sleep(delay)
     set_signals_on(10)
     sleep(delay)
     if not edit_mode: set_sections_clear(10)
-    if test_sensors: simulate_gpio_triggered(22)
+    if test_sensors: simulate_gpio_triggered(13)
     else: trigger_signals_passed(10)
     if not edit_mode: assert_sections_occupied(10)
     # Track occupancy tests --- sections ahead of and behind signal
     sleep(delay)
     if not edit_mode: set_sections_occupied(11)
     # Train will be passed forward if signal is on
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(23)
+    if test_sensors: simulate_gpio_triggered(18)
     else: trigger_signals_passed(11)
     if not edit_mode:
         assert_sections_occupied(12)
         assert_sections_clear(11)
     # Check the train gets passed back the other way
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(23)
+    if test_sensors: simulate_gpio_triggered(18)
     else: trigger_signals_passed(11)
     if not edit_mode:
         assert_sections_occupied(11)
         assert_sections_clear(12)
     # Train will be passed forward if signal is off
     sleep(delay)
     set_signals_off(11)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(23)
+    if test_sensors: simulate_gpio_triggered(18)
     else: trigger_signals_passed(11)
     if not edit_mode:
         assert_sections_occupied(12)
         assert_sections_clear(11)
     # Check the train gets passed back the other way
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(23)
+    if test_sensors: simulate_gpio_triggered(18)
     else: trigger_signals_passed(11)
     if not edit_mode:
         assert_sections_occupied(11)
         assert_sections_clear(12)
     # Set everything back to normal
     set_signals_on(11)
     if not edit_mode: set_sections_clear(10,11)
     return()
 
 #-----------------------------------------------------------------------------------
-# Thisfunction runs the above two tests for all relevant signal types / subtypes
+# This function runs the above two tests for all relevant signal types / subtypes
 # That can be legitimately passed when either ON or OFF
 # Sig Type: colour_light=1, ground_position=2, semaphore=3, ground_disc=4
 # Sub type (colour light): distant=2
 # Sub type (semaphore): distant=2
 # Sub type (ground pos): shunt_ahead=2, early_shunt_ahead=4
 # Sub type (ground disc): shunt_ahead=2
 #-----------------------------------------------------------------------------------
 
 def subtest_sections_ahead_behind_2(delay:float, edit_mode:bool, route_valid:bool, test_sensors:bool=False):
     if route_valid: text=" - Valid signal route"
     else: text=" - No route configured"
     s9 = get_object_id("signal",9)
     s10 = get_object_id("signal",10)
     s11 = get_object_id("signal",11)
-    # Test with semaphore distants
+    # Test with semaphore & Colour light distants - If the route is not valid the MAIN route will be assumed
     if test_sensors: print("Section ahead/behind tests - Colour Light Distant Signals - simulated GPIO events"+text)        
-    else: print("Section ahead/behind tests - Colour Light Distant Signals - user-generated events"+text)        
+    else: print("Section ahead/behind tests - Colour Light Distant Signals - user-generated events"+text)
     update_object_configuration(s9, {"itemtype":1, "itemsubtype":2} )
     update_object_configuration(s10, {"itemtype":1, "itemsubtype":2} )
     update_object_configuration(s11, {"itemtype":1, "itemsubtype":2} )
     subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
     if test_sensors: print("Section ahead/behind tests - Semaphore Distant Signals - simulated GPIO events"+text)        
     else: print("Section ahead/behind tests - Semaphore Distant Signals - user-generated events"+text)        
     update_object_configuration(s9, {"itemtype":3, "itemsubtype":2} )
     update_object_configuration(s10, {"itemtype":3, "itemsubtype":2} )
     update_object_configuration(s11, {"itemtype":3, "itemsubtype":2} )
     subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
-    if test_sensors: print("Section ahead/behind tests - Ground Disc Shunt Ahead Signals - simulated GPIO events"+text)        
-    else: print("Section ahead/behind tests - Ground Disc Shunt Ahead Signals - user-generated events"+text)        
-    update_object_configuration(s9, {"itemtype":4, "itemsubtype":2} )
-    update_object_configuration(s10, {"itemtype":4, "itemsubtype":2} )
-    update_object_configuration(s11, {"itemtype":4, "itemsubtype":2} )
-    subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
-    if test_sensors: print("Section ahead/behind tests - Ground Position Shunt Ahead Signals - simulated GPIO events"+text)        
-    else: print("Section ahead/behind tests - Ground Position Shunt Ahead Signals - user-generated events"+text)        
-    update_object_configuration(s9, {"itemtype":2, "itemsubtype":2} )
-    update_object_configuration(s10, {"itemtype":2, "itemsubtype":2} )
-    update_object_configuration(s11, {"itemtype":2, "itemsubtype":2} )
-    subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
-    if test_sensors: print("Section ahead/behind tests - Ground Position Early Shunt Ahead Signals - simulated GPIO events"+text)        
-    else: print("Section ahead/behind tests - Ground Position Early Shunt Ahead Signals - user-generated events"+text)        
-    update_object_configuration(s9, {"itemtype":2, "itemsubtype":4} )
-    update_object_configuration(s10, {"itemtype":2, "itemsubtype":4} )
-    update_object_configuration(s11, {"itemtype":2, "itemsubtype":4} )
-    subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
+    # Only run the tests for the other signal types if the route is valid
+    if route_valid:
+        if test_sensors: print("Section ahead/behind tests - Ground Disc Shunt Ahead Signals - simulated GPIO events"+text)        
+        else: print("Section ahead/behind tests - Ground Disc Shunt Ahead Signals - user-generated events"+text)        
+        update_object_configuration(s9, {"itemtype":4, "itemsubtype":2} )
+        update_object_configuration(s10, {"itemtype":4, "itemsubtype":2} )
+        update_object_configuration(s11, {"itemtype":4, "itemsubtype":2} )
+        # Only run the tests if the route is valid
+        subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
+        if test_sensors: print("Section ahead/behind tests - Ground Position Shunt Ahead Signals - simulated GPIO events"+text)        
+        else: print("Section ahead/behind tests - Ground Position Shunt Ahead Signals - user-generated events"+text)        
+        update_object_configuration(s9, {"itemtype":2, "itemsubtype":2} )
+        update_object_configuration(s10, {"itemtype":2, "itemsubtype":2} )
+        update_object_configuration(s11, {"itemtype":2, "itemsubtype":2} )
+        subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
+        if test_sensors: print("Section ahead/behind tests - Ground Position Early Shunt Ahead Signals - simulated GPIO events"+text)        
+        else: print("Section ahead/behind tests - Ground Position Early Shunt Ahead Signals - user-generated events"+text)        
+        update_object_configuration(s9, {"itemtype":2, "itemsubtype":4} )
+        update_object_configuration(s10, {"itemtype":2, "itemsubtype":4} )
+        update_object_configuration(s11, {"itemtype":2, "itemsubtype":4} )
+        subtest_sections_ahead_behind_1(delay, edit_mode=edit_mode, test_sensors=test_sensors)
     return()
 
 #-----------------------------------------------------------------------------------
 # This function runs the above tests for the two cases of the signal having a valid
 # route configured and the signal having no valid route configured (which is a possible
 # scenario for splitting distant signals which rely on the points ahead of the home
 # signal to set the appropriate route arms. In this case, the home signal could
 # be locked at DANGER if the points are not set/locked but the distant signal can
 # still be legitimately passed at CAUTION (and move to the track section ahead)
 #-----------------------------------------------------------------------------------
 
-def test_sections_ahead_and_behind(delay:float, edit_mode:bool, test_sensors:bool=False):
+def signals_sections_ahead_and_behind(delay:float, edit_mode:bool, test_sensors:bool=False):
     sleep(delay)
     reset_layout()
     # Signals 9,10,11 have a valid route
     subtest_sections_ahead_behind_2(delay, edit_mode=edit_mode, route_valid=False, test_sensors=test_sensors)
     # signals 9,10,11 have no valid route
     sleep(delay)
     set_points_switched(5)
@@ -1222,43 +1389,44 @@
     set_points_normal(5)
     subtest_sections_ahead_behind_3(delay, edit_mode=edit_mode, test_sensors=test_sensors)
     # Set everything back to its default state
     return()
 
 #-----------------------------------------------------------------------------------
 # This function tests the correct behavior for shunt ahead signals (can be passed whilst ON)
+# No Signal Passed at Danger warnings should be generated
 #-----------------------------------------------------------------------------------
 
 def subtest_shunt_ahead_signal_routes_1(delay:float, edit_mode:bool, test_sensors:bool=False):
     sleep(delay)
     if not edit_mode:
         set_sections_occupied(13)
         assert_sections_clear(14,15)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(24)
+    if test_sensors: simulate_gpio_triggered(19)
     else: trigger_signals_passed(12)
     if not edit_mode:
         assert_sections_occupied(14)
         assert_sections_clear(13,15)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(24)
+    if test_sensors: simulate_gpio_triggered(19)
     else: trigger_signals_passed(12)
     if not edit_mode:
         assert_sections_occupied(13)
         assert_sections_clear(14,15)
     sleep(delay)
     set_points_switched(6)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(24)
+    if test_sensors: simulate_gpio_triggered(19)
     else: trigger_signals_passed(12)
     if not edit_mode:
         assert_sections_occupied(15)
         assert_sections_clear(13,14)
     sleep(delay)
-    if test_sensors: simulate_gpio_triggered(24)
+    if test_sensors: simulate_gpio_triggered(19)
     else: trigger_signals_passed(12)
     if not edit_mode:
         assert_sections_occupied(13)
         assert_sections_clear(14,15)
     # Clear everything down again
     if not edit_mode: set_sections_clear(13)
     set_points_normal(6)
@@ -1451,21 +1619,24 @@
 
 def override_on_distant_signal_ahead_tests(delay:float, edit_mode:bool, automation_enabled:bool):
     print("Override automatic secondary distant on distant signal ahead tests")
     reset_layout()
     sleep(delay)
     # Main route
     assert_signals_DANGER(23)
+    assert_signals_CAUTION(21)
     sleep(delay)
     set_signals_off(23)
     assert_signals_PROCEED(23)
+    assert_signals_CAUTION(21)
     sleep(delay)
     set_signals_on(23)
     sleep(delay)
     assert_signals_DANGER(23)
+    assert_signals_CAUTION(21)
     # diverting route - secondary distant overridden by distant ahead
     # Override on distant aheads only active in RUN mode with automation enabled
     set_points_switched(8)
     sleep(delay)
     set_signals_off(23)
     sleep(delay)
     if not edit_mode and automation_enabled:
@@ -1483,27 +1654,30 @@
 #-----------------------------------------------------------------------------------
 # This function exercises all the run layout tests. it is called for each
 # combination of modes (Edit/Run and Automation On/Off)
 #-----------------------------------------------------------------------------------
 
 def run_layout_tests(delay:float, edit_mode:bool, automation_enabled:bool):
     run_interlocking_tests(delay, edit_mode=edit_mode, automation_enabled=automation_enabled)
-    run_basic_track_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=False)
-    run_basic_track_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=True)
-    test_sections_ahead_and_behind(delay, edit_mode=edit_mode, test_sensors=False)
-    test_sections_ahead_and_behind(delay, edit_mode=edit_mode, test_sensors=True)
+    run_signal_track_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=False)
+    run_signal_track_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=True)
+    run_track_sensor_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=False)
+    run_track_sensor_occupancy_tests(delay, edit_mode=edit_mode, test_sensors=True)
+    signals_sections_ahead_and_behind(delay, edit_mode=edit_mode, test_sensors=False)
+    signals_sections_ahead_and_behind(delay, edit_mode=edit_mode, test_sensors=True)
     shunt_ahead_signal_route_tests(delay, edit_mode=edit_mode, test_sensors=False)
     shunt_ahead_signal_route_tests(delay, edit_mode=edit_mode, test_sensors=True)
     override_on_home_signal_ahead_tests(delay, edit_mode=edit_mode, automation_enabled=automation_enabled)
     override_on_distant_signal_ahead_tests(delay, edit_mode=edit_mode, automation_enabled=automation_enabled)
     
 ######################################################################################################
 
 def run_all_run_layout_tests(delay:float=0.0, shutdown:bool=False):
     initialise_test_harness(filename="./test_run_layout.sig")
+    # IMPORTANT - Sig file must be saved in EDIT mode with Automation ON **************
     # Edit/save all schematic objects to give confidence that editing doesn't break the layout configuration
     set_edit_mode()
     test_object_edit_windows.test_all_object_edit_windows(delay)
     # Run the tests in all mode combinations. Note that we don't toggle Automation On/Off in Edit mode as
     # The 'A' keypress event is disabled and the menubar 'Automation Enable/Disable' selection is inhibited
     print("Run Layout Tests - EDIT Mode / Automation ON **************************************************")    
     run_layout_tests(delay, edit_mode=True, automation_enabled=True)
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_run_layout.sig` & `model_railway_signals-4.2.0/configuration_examples/automation_colour_light_example.sig`

 * *Files 12% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.7428902116402117%*

 * *Differences: {"'instruments'": '{replace: OrderedDict()}',*

 * * "'objects'": "{replace: OrderedDict([('02febfbf-ee80-4c08-b52d-84b72fa9c23b', "*

 * *              "OrderedDict([('approachcontrol', [0, 0, 0, 0, 0]), ('approachsensor', [False, '']), "*

 * *              "('bbox', 169), ('dccaspects', [[[625, False], [627, False], [628, False], [626, "*

 * *              'True], [0, False], [0, False]], [[626, False], [627, False], [628, False], [625, '*

 * *              'True], [0, False], [0, False]], [[625, False], [626, False], [828, False], […]*

```diff
@@ -1,190 +1,119 @@
 {
     "information": "Model Railway Signalling Configuration File",
-    "instruments": {
-        "1": {
-            "repeaterstate": true,
-            "sectionstate": null
-        },
-        "2": {
-            "repeaterstate": null,
-            "sectionstate": true
-        }
-    },
+    "instruments": {},
     "objects": {
-        "00df7795-1ac5-4b0a-8400-0ae0f64e3cf7": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 145,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 4,
-            "itemtype": 1,
-            "orientation": 0,
-            "posx": 550.0,
-            "posy": 200.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    2,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    1,
-                    [
-                        false,
-                        false,
-                        false,
-                        true,
-                        true
-                    ]
-                ]
-            ],
-            "tags": "point4"
-        },
-        "059e8b30-21fe-4a68-8fde-644d31f5963f": {
-            "bbox": 148,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 2,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 700.0,
-            "posy": 250.0,
-            "state": false,
-            "tags": "section2"
-        },
-        "06384292-95e6-4a34-b6cc-dacf1e08f90c": {
+        "02febfbf-ee80-4c08-b52d-84b72fa9c23b": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 176,
+            "bbox": 169,
             "dccaspects": [
                 [
                     [
-                        0,
+                        625,
                         false
                     ],
                     [
-                        0,
+                        627,
                         false
                     ],
                     [
-                        0,
+                        628,
                         false
                     ],
                     [
-                        0,
-                        false
+                        626,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        626,
                         false
                     ],
                     [
-                        0,
+                        627,
                         false
                     ],
                     [
-                        0,
+                        628,
                         false
                     ],
                     [
-                        0,
-                        false
+                        625,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        625,
                         false
                     ],
                     [
-                        0,
+                        626,
                         false
                     ],
                     [
-                        0,
+                        828,
                         false
                     ],
                     [
-                        0,
-                        false
+                        627,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        625,
                         false
                     ],
                     [
-                        0,
+                        626,
                         false
                     ],
                     [
-                        0,
+                        627,
                         false
                     ],
                     [
-                        0,
-                        false
+                        628,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -586,33 +515,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 8,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 2,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "20"
+                "19"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            3,
+                            true
                         ],
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -624,21 +553,21 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -748,16 +677,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925.0,
-            "posy": 425.0,
+            "posx": 1100.0,
+            "posy": 175.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -825,20 +754,20 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
@@ -867,17 +796,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        7,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -1042,25 +971,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
-                false,
+                true,
+                true,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                false,
-                0
+                true,
+                631
             ],
-            "tags": "signal8",
+            "tags": "signal2",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -1114,23 +1043,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                8,
+                12,
                 [
                     [
-                        0,
+                        4,
                         0,
                         0
                     ],
                     [
-                        0,
+                        13,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -1144,1287 +1073,237 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "070fb3ca-5984-440b-8f99-46f2683874ac": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 182,
+        "05c99664-2259-4355-a881-4c3e2c4279d3": {
+            "background": "grey85",
+            "bbox": 172,
+            "border": 0,
             "colour": "black",
-            "end1": 178,
-            "end2": 179,
-            "endx": 750.0,
-            "endy": 600.0,
-            "item": "line",
-            "itemid": 20,
-            "line": 177,
-            "posx": 650.0,
-            "posy": 600.0,
-            "stop1": 180,
-            "stop2": 181,
-            "tags": "line20"
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1574.0,
+            "posy": 185.0,
+            "tags": "05c99664-2259-4355-a881-4c3e2c4279d3",
+            "text": "TT-DS10"
         },
-        "0d5da466-b04e-402a-aa88-1afa3c1a0ed1": {
-            "bbox": 185,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 18,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 775.0,
-            "posy": 100.0,
-            "state": false,
-            "tags": "section18"
+        "0cdde9d4-28ce-4644-8601-f613605ff8f4": {
+            "background": "grey85",
+            "bbox": 175,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 16,
+            "fontstyle": "bold ",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 819.0,
+            "posy": 44.0,
+            "tags": "0cdde9d4-28ce-4644-8601-f613605ff8f4",
+            "text": "Colour Light Automation Example"
         },
-        "14c21c57-208a-4bdb-bc9e-b59169b5cd0e": {
+        "146287d7-4772-46bc-8952-89c98ff36bb0": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 191,
+            "bbox": 181,
             "colour": "black",
-            "end1": 187,
-            "end2": 188,
-            "endx": 400.0,
-            "endy": 600.0,
+            "end1": 750,
+            "end2": 751,
+            "endx": 1675,
+            "endy": 275,
             "item": "line",
-            "itemid": 25,
-            "line": 186,
-            "posx": 250.0,
-            "posy": 600.0,
-            "stop1": 189,
-            "stop2": 190,
-            "tags": "line25"
-        },
-        "15e208d0-1738-407c-adac-0119c52527d6": {
-            "bbox": 206,
-            "bellsound": "bell-ring-01.wav",
-            "item": "instrument",
             "itemid": 1,
-            "itemtype": 1,
-            "keysound": "telegraph-key-01.wav",
-            "linkedto": "2",
-            "posx": 975.0,
-            "posy": 75.0,
-            "tags": "instrument1"
+            "line": 749,
+            "posx": 1300.0,
+            "posy": 275.0,
+            "stop1": 752,
+            "stop2": 753,
+            "tags": "line1"
         },
-        "1691d3ee-af50-44d0-af70-e400407393aa": {
+        "147bdac0-2cb4-4de7-a45d-a87b46155eab": {
             "background": "grey85",
-            "bbox": 209,
+            "bbox": 184,
             "border": 0,
             "colour": "black",
             "font": "Courier",
-            "fontsize": 10,
+            "fontsize": 8,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
             "justify": 2,
-            "posx": 957.0,
-            "posy": 486.0,
-            "tags": "1691d3ee-af50-44d0-af70-e400407393aa",
-            "text": "Section ahead or section behind tests\n Distant and shunt-ahead signal types"
+            "posx": 36.0,
+            "posy": 288.0,
+            "tags": "147bdac0-2cb4-4de7-a45d-a87b46155eab",
+            "text": "Up Main"
         },
-        "1ccdf967-6bae-4665-a682-489a7b7542ee": {
-            "bbox": 212,
+        "233a09d0-5c3b-4fd7-9838-1045b392fc85": {
+            "bbox": 187,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 4,
+            "itemid": 10,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 700.0,
-            "posy": 150.0,
+            "posx": 50,
+            "posy": 225,
             "state": false,
-            "tags": "section4"
+            "tags": "section10"
         },
-        "1cfdad25-a454-44a3-b440-988209da6738": {
-            "bbox": 215,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 12,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1050.0,
-            "posy": 650.0,
-            "state": false,
-            "tags": "section12"
+        "237bec79-c24f-4c2f-956a-a12133fa79db": {
+            "background": "grey85",
+            "bbox": 190,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 12,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 575.0,
+            "posy": 150.0,
+            "tags": "237bec79-c24f-4c2f-956a-a12133fa79db",
+            "text": "MPD"
         },
-        "1e6b30b4-df92-4c43-9435-e8bf2b4f4f6b": {
+        "2809aba0-8417-4ffe-b8ab-9d0bcfd4b777": {
+            "background": "grey85",
+            "bbox": 193,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 12,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1460.0,
+            "posy": 149.0,
+            "tags": "2809aba0-8417-4ffe-b8ab-9d0bcfd4b777",
+            "text": "Goods Yard"
+        },
+        "350ab106-55fd-4920-800f-606a103c9392": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 221,
+            "bbox": 199,
             "colour": "black",
-            "end1": 217,
-            "end2": 218,
-            "endx": 900.0,
-            "endy": 200.0,
+            "end1": 763,
+            "end2": 764,
+            "endx": 0,
+            "endy": 275,
             "item": "line",
-            "itemid": 9,
-            "line": 216,
-            "posx": 575.0,
-            "posy": 200.0,
-            "stop1": 219,
-            "stop2": 220,
-            "tags": "line9"
+            "itemid": 2,
+            "line": 762,
+            "posx": 1250.0,
+            "posy": 275.0,
+            "stop1": 765,
+            "stop2": 766,
+            "tags": "line2"
         },
-        "20f2e28c-a01b-475e-8cf4-15a251fd5fe3": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 240,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
-            "itemid": 3,
-            "itemsubtype": 1,
-            "itemtype": 1,
-            "orientation": 180,
-            "overrideahead": false,
-            "overridesignal": true,
-            "passedsensor": [
-                true,
-                "6"
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            4,
-                            false
-                        ],
-                        [
-                            3,
-                            true
-                        ],
-                        [
-                            1,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 625.0,
-            "posy": 200.0,
-            "sigarms": [
+        "36c92467-cd2d-4608-bd3d-1ae2fe2fb9b0": {
+            "alsoswitch": 6,
+            "automatic": false,
+            "bbox": 205,
+            "colour": "black",
+            "dccaddress": 1005,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 5,
+            "itemtype": 2,
+            "orientation": 0,
+            "posx": 1275.0,
+            "posy": 275.0,
+            "reverse": false,
+            "siginterlock": [
                 [
+                    2,
                     [
                         true,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ]
-                ],
-                [
-                    [
                         false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
+                        false
                     ]
                 ],
                 [
+                    3,
                     [
+                        true,
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
+                        false
                     ]
                 ],
                 [
+                    14,
                     [
+                        true,
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
+                        false
                     ]
                 ],
                 [
+                    12,
                     [
+                        true,
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ],
-                    [
                         false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        1,
-                        [
-                            false,
-                            false,
-                            false,
-                            true,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
+                        false
                     ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal3",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    1,
-                    26,
-                    27
                 ],
                 [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                3,
-                [
-                    [
-                        1,
-                        26,
-                        27
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
+                    13,
                     [
-                        0,
-                        0,
-                        0
+                        true,
+                        true,
+                        false,
+                        true,
+                        false
                     ]
                 ]
-            ]
-        },
-        "263cd888-5471-4263-91a7-f957c7ba98fa": {
-            "bbox": 243,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 21,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 150.0,
-            "state": false,
-            "tags": "section21"
-        },
-        "26d9993d-7068-47ae-8021-a6b2a2069f88": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
             ],
-            "bbox": 249,
-            "colour": "black",
-            "end1": 245,
-            "end2": 246,
-            "endx": 400.0,
-            "endy": 550.0,
-            "item": "line",
-            "itemid": 28,
-            "line": 244,
-            "posx": 325.0,
-            "posy": 550.0,
-            "stop1": 247,
-            "stop2": 248,
-            "tags": "line28"
-        },
-        "27215a1d-9b38-4e57-80af-f67a4ee7448e": {
-            "bbox": 252,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 25,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 250.0,
-            "state": false,
-            "tags": "section25"
+            "tags": "point5"
         },
-        "278b1c3b-1e55-4252-98fb-deaa7795a5db": {
+        "3c7bba34-5257-4b19-824b-0ccee7c32079": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 264,
+            "bbox": 224,
             "dccaspects": [
                 [
                     [
-                        0,
+                        40,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -2442,16 +1321,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        40,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2468,16 +1347,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        41,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -2494,15 +1373,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        41,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -2917,30 +1796,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 10,
-            "itemsubtype": 4,
-            "itemtype": 2,
+            "itemid": 4,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                "22"
+                "12"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -3079,16 +1958,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925.0,
-            "posy": 600.0,
+            "posx": 1525.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -3383,22 +2262,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal10",
+            "tags": "signal4",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    4,
                     0,
-                    0
+                    1
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -3445,15 +2324,15 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                10,
+                4,
                 [
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -3475,71 +2354,74 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "27aebf20-9446-4581-b1e3-655efc915ece": {
+        "3d9905d7-3a8c-42d0-ada6-e78748273374": {
+            "background": "grey85",
+            "bbox": 227,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 690.0,
+            "posy": 245.0,
+            "tags": "3d9905d7-3a8c-42d0-ada6-e78748273374",
+            "text": "AA-4Awpl&lhf"
+        },
+        "3f11b41e-b356-402c-b59e-b314963b3723": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 270,
+            "bbox": 233,
             "colour": "black",
-            "end1": 266,
-            "end2": 267,
-            "endx": 425.0,
-            "endy": 100.0,
+            "end1": 793,
+            "end2": 794,
+            "endx": 1300.0,
+            "endy": 225.0,
             "item": "line",
-            "itemid": 2,
-            "line": 265,
-            "posx": 400.0,
-            "posy": 125.0,
-            "stop1": 268,
-            "stop2": 269,
-            "tags": "line2"
-        },
-        "294ffd9a-e658-4095-9446-9608c6565ea5": {
-            "bbox": 273,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 11,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 650.0,
-            "state": false,
-            "tags": "section11"
+            "itemid": 3,
+            "line": 792,
+            "posx": 1675,
+            "posy": 225,
+            "stop1": 795,
+            "stop2": 796,
+            "tags": "line3"
         },
-        "2a487715-ca64-4c3c-b9f8-b6ace67d34c2": {
+        "48fb7f13-0c14-4920-b2d3-a1013c4b5a1f": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 285,
+            "bbox": 245,
             "dccaspects": [
                 [
                     [
-                        0,
+                        612,
                         false
                     ],
                     [
-                        0,
-                        false
+                        611,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -3552,20 +2434,20 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        611,
                         false
                     ],
                     [
-                        0,
-                        false
+                        612,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -4027,30 +2909,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 11,
-            "itemsubtype": 4,
+            "itemid": 6,
+            "itemsubtype": 1,
             "itemtype": 2,
-            "orientation": 0,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                "23"
+                "18"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            2,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -4071,16 +2953,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            2,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -4189,16 +3071,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925.0,
-            "posy": 650.0,
+            "posx": 825.0,
+            "posy": 175.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -4266,17 +3148,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        5,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -4308,17 +3190,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -4328,18 +3210,18 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -4477,15 +3359,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -4493,15 +3375,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal11",
+            "tags": "signal6",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -4555,23 +3437,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                11,
+                12,
                 [
                     [
-                        12,
+                        11,
                         0,
                         0
                     ],
                     [
-                        0,
+                        2,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -4585,122 +3467,167 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "3126e15c-eeff-4c6c-a948-c82686dfb9a4": {
+        "4c400af8-bf96-447e-85f4-9928287360c5": {
+            "background": "grey85",
+            "bbox": 248,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1141.0,
+            "posy": 240.0,
+            "tags": "4c400af8-bf96-447e-85f4-9928287360c5",
+            "text": "AA-4Awpl"
+        },
+        "500f7750-b750-4d33-b9fe-1e6373da674d": {
+            "background": "grey85",
+            "bbox": 251,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 512.0,
+            "posy": 239.0,
+            "tags": "500f7750-b750-4d33-b9fe-1e6373da674d",
+            "text": "TT-DS5HS"
+        },
+        "5424b00f-f0ad-4900-8b9c-7d858a2e05d0": {
+            "bbox": 254,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 4,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1450.0,
+            "posy": 225.0,
+            "state": false,
+            "tags": "section4"
+        },
+        "547bd259-550f-4e84-b100-fb0dd86ba88d": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 304,
+            "bbox": 274,
             "dccaspects": [
                 [
                     [
-                        0,
+                        633,
                         false
                     ],
                     [
-                        0,
+                        635,
                         false
                     ],
                     [
-                        0,
+                        636,
                         false
                     ],
                     [
-                        0,
-                        false
+                        634,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        634,
                         false
                     ],
                     [
-                        0,
+                        32,
                         false
                     ],
                     [
-                        0,
+                        33,
                         false
                     ],
                     [
-                        0,
-                        false
+                        633,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        633,
                         false
                     ],
                     [
-                        0,
+                        634,
                         false
                     ],
                     [
-                        0,
+                        636,
                         false
                     ],
                     [
-                        0,
-                        false
+                        635,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        633,
                         false
                     ],
                     [
-                        0,
+                        634,
                         false
                     ],
                     [
-                        0,
+                        635,
                         false
                     ],
                     [
-                        0,
-                        false
+                        636,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5102,37 +4029,37 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 2,
-            "itemsubtype": 1,
+            "itemid": 3,
+            "itemsubtype": 5,
             "itemtype": 1,
-            "orientation": 180,
+            "orientation": 0,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "5"
+                "10"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            4,
-                            true
+                            3,
+                            false
                         ],
                         [
-                            3,
-                            true
+                            5,
+                            false
                         ],
                         [
-                            1,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -5140,15 +4067,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "4",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -5264,16 +4191,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 625.0,
-            "posy": 250.0,
+            "posx": 1100.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -5341,21 +4268,21 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        13,
                         [
+                            true,
                             false,
                             false,
                             false,
-                            false,
-                            true
+                            false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
                             false,
@@ -5558,25 +4485,25 @@
                 true,
                 false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
+                true,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                false,
-                0
+                true,
+                637
             ],
-            "tags": "signal2",
+            "tags": "signal3",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -5604,17 +4531,17 @@
                     0,
                     0,
                     0
                 ]
             ],
             "trackinterlock": [
                 [
-                    1,
-                    26,
-                    27
+                    0,
+                    0,
+                    0
                 ],
                 [
                     0,
                     0,
                     0
                 ],
                 [
@@ -5630,20 +4557,20 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                2,
+                3,
                 [
                     [
-                        1,
-                        26,
-                        27
+                        4,
+                        0,
+                        0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -5660,31 +4587,31 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "355303ef-7d68-4944-a4b2-3f74364da097": {
+        "566843c0-90fe-4397-9a64-9b9f3cb44514": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 316,
+            "bbox": 293,
             "dccaspects": [
                 [
                     [
-                        0,
+                        90,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -5702,16 +4629,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        90,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5728,16 +4655,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        91,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -5754,15 +4681,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        91,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6174,33 +5101,33 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
             "itemid": 9,
-            "itemsubtype": 4,
-            "itemtype": 2,
-            "orientation": 0,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
                 "21"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            5,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -6215,15 +5142,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "12",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -6339,16 +5266,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925.0,
-            "posy": 550.0,
+            "posx": 1550,
+            "posy": 275,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -6705,18 +5632,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                6,
                 [
                     [
-                        9,
+                        7,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -6735,32 +5662,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "36ffdea8-566f-482c-a95b-639d96aab1a2": {
+        "59c4ede5-e1ca-42cb-bcd9-fd630fb9c383": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 344,
+            "bbox": 312,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        80,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -6777,15 +5704,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        80,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6803,15 +5730,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        81,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6829,16 +5756,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        81,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -6855,15 +5782,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        82,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -6881,16 +5808,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        82,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -7252,23 +6179,23 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 7,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 8,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "19"
+                "6"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -7290,15 +6217,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "1",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -7414,16 +6341,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 925.0,
-            "posy": 375.0,
+            "posx": 475.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -7491,17 +6418,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        15,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -7511,18 +6438,18 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        6,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -7718,15 +6645,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal7",
+            "tags": "signal8",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -7780,18 +6707,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                1,
                 [
                     [
-                        7,
+                        2,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -7810,70 +6737,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "3921c74d-11e9-4a28-baac-22741f00f5f6": {
-            "background": "grey85",
-            "bbox": 347,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 10,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 200.0,
-            "posy": 59.0,
-            "tags": "3921c74d-11e9-4a28-baac-22741f00f5f6",
-            "text": "Basic track occupancy tests\nBasic interlocking/override tests\n(Tests include manual triggering\nof signal passed events and\nsimulated triggering of GPIO inputs)"
-        },
-        "3bd65ffb-4f36-4d7b-8606-bd1b875623e2": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 353,
-            "colour": "black",
-            "end1": 349,
-            "end2": 350,
-            "endx": 1100.0,
-            "endy": 600.0,
-            "item": "line",
-            "itemid": 14,
-            "line": 348,
-            "posx": 800.0,
-            "posy": 600.0,
-            "stop1": 351,
-            "stop2": 352,
-            "tags": "line14"
-        },
-        "41271867-259f-4e9b-92d8-fc6362917365": {
+        "624d1f40-9385-4bc6-bf34-480883562b08": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 372,
+            "bbox": 331,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        110,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -7890,15 +6779,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        110,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -7916,15 +6805,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        111,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -7942,16 +6831,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        111,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -8362,37 +7251,37 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 6,
-            "itemsubtype": 1,
+            "itemid": 11,
+            "itemsubtype": 5,
             "itemtype": 1,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
-                "18"
+                "27"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            2,
-                            true
+                            0,
+                            false
                         ],
                         [
-                            1,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -8527,16 +7416,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 625.0,
-            "posy": 50.0,
+            "posx": 150.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -8604,19 +7493,19 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        0,
                         [
                             false,
                             false,
-                            true,
+                            false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
@@ -8831,22 +7720,22 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal6",
+            "tags": "signal11",
             "theatreroute": false,
             "timedsequences": [
                 [
-                    false,
-                    0,
+                    true,
+                    11,
                     0,
-                    0
+                    1
                 ],
                 [
                     false,
                     0,
                     0,
                     0
                 ],
@@ -8867,17 +7756,17 @@
                     0,
                     0,
                     0
                 ]
             ],
             "trackinterlock": [
                 [
-                    1,
-                    26,
-                    27
+                    0,
+                    0,
+                    0
                 ],
                 [
                     0,
                     0,
                     0
                 ],
                 [
@@ -8893,20 +7782,20 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                6,
+                15,
                 [
                     [
-                        1,
-                        26,
-                        27
+                        0,
+                        0,
+                        0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -8923,32 +7812,48 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "46a885cd-7532-4cba-9363-7dda2d3d97df": {
+        "632a3066-6bfb-4269-81f1-c73b4b294ae9": {
+            "background": "grey85",
+            "bbox": 334,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 335.0,
+            "posy": 240.0,
+            "tags": "632a3066-6bfb-4269-81f1-c73b4b294ae9",
+            "text": "TT-DS5HS"
+        },
+        "64b572a6-a2d0-4010-b33f-cd73b16f3f24": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 381,
+            "bbox": 353,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        160,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -8965,15 +7870,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        160,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -8991,15 +7896,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        161,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -9017,16 +7922,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        161,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -9043,15 +7948,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        162,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -9069,16 +7974,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        162,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -9437,32 +8342,32 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 12,
-            "itemsubtype": 2,
-            "itemtype": 4,
+            "itemid": 16,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                "24"
+                "5"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            6,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -9478,15 +8383,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "8",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -9544,16 +8449,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            6,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -9602,16 +8507,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 575.0,
-            "posy": 550.0,
+            "posx": 300.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -9892,29 +8797,29 @@
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
                 false,
                 false,
-                true,
+                false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal12",
+            "tags": "signal16",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -9968,100 +8873,65 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                13,
+                5,
                 [
                     [
-                        14,
+                        1,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
-                        15,
+                        0,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "4a970770-84a4-4672-8f6b-6e4eed48a290": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 387,
-            "colour": "black",
-            "end1": 383,
-            "end2": 384,
-            "endx": 900.0,
-            "endy": 150.0,
-            "item": "line",
-            "itemid": 8,
-            "line": 382,
-            "posx": 525.0,
-            "posy": 150.0,
-            "stop1": 385,
-            "stop2": 386,
-            "tags": "line8"
-        },
-        "4e39406c-54ed-48bb-9835-c4a93664e288": {
-            "bbox": 390,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 7,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 1050.0,
-            "posy": 375.0,
-            "state": false,
-            "tags": "section7"
-        },
-        "4ec8decd-fe88-4ef8-8510-0f8b3097f86c": {
+        "69f55083-33c0-4066-a29d-a3f14cee3bb9": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 409,
+            "bbox": 365,
             "dccaspects": [
                 [
                     [
-                        0,
+                        614,
                         false
                     ],
                     [
-                        0,
+                        613,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10075,19 +8945,19 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        613,
                         false
                     ],
                     [
-                        0,
+                        614,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -10550,34 +9420,34 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 5,
+            "itemid": 15,
             "itemsubtype": 1,
-            "itemtype": 1,
+            "itemtype": 2,
             "orientation": 180,
             "overrideahead": false,
-            "overridesignal": true,
+            "overridesignal": false,
             "passedsensor": [
                 true,
-                "13"
+                "9"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             2,
                             false
                         ],
                         [
-                            1,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -10712,16 +9582,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 625.0,
-            "posy": 100.0,
+            "posx": 825.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -10791,35 +9661,35 @@
                 ]
             ],
             "siginterlock": [
                 [
                     [
                         1,
                         [
-                            false,
                             true,
                             false,
                             false,
+                            false,
                             false
                         ]
                     ],
                     [
                         0,
                         [
                             false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        8,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -11016,15 +9886,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal5",
+            "tags": "signal15",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -11052,17 +9922,17 @@
                     0,
                     0,
                     0
                 ]
             ],
             "trackinterlock": [
                 [
-                    1,
-                    26,
-                    27
+                    0,
+                    0,
+                    0
                 ],
                 [
                     0,
                     0,
                     0
                 ],
                 [
@@ -11078,20 +9948,20 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                5,
+                3,
                 [
                     [
-                        1,
-                        26,
-                        27
+                        2,
+                        0,
+                        0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -11108,106 +9978,166 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "58a3b159-ccd8-46fa-b40e-cb8e0f6dfe7b": {
-            "bbox": 412,
+        "6c28ce24-e08c-4845-8e06-b21f418911eb": {
+            "alsoswitch": 0,
+            "automatic": true,
+            "bbox": 370,
+            "colour": "black",
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 4,
+            "itemtype": 1,
+            "orientation": 180,
+            "posx": 1225.0,
+            "posy": 225.0,
+            "reverse": false,
+            "siginterlock": [],
+            "tags": "point4"
+        },
+        "6df4e851-8669-4940-8dc9-fec3e1873294": {
+            "background": "grey85",
+            "bbox": 373,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 51.0,
+            "posy": 191.0,
+            "tags": "6df4e851-8669-4940-8dc9-fec3e1873294",
+            "text": "Set\nNext\nTrain"
+        },
+        "709c0d2f-3d16-4669-b53f-38614ef26ea2": {
+            "background": "grey85",
+            "bbox": 376,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1636.0,
+            "posy": 212.0,
+            "tags": "709c0d2f-3d16-4669-b53f-38614ef26ea2",
+            "text": "Down Main"
+        },
+        "75eb7e1b-08a6-4223-8ed8-f31381186102": {
+            "background": "grey85",
+            "bbox": 379,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 165.0,
+            "posy": 237.0,
+            "tags": "75eb7e1b-08a6-4223-8ed8-f31381186102",
+            "text": "TT-DS10"
+        },
+        "7648db7c-97c7-41f3-beee-e60656b9173a": {
+            "bbox": 382,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 9,
+            "itemid": 14,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 1050.0,
-            "posy": 550.0,
+            "posx": 400.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section9"
+            "tags": "section14"
         },
-        "59728ad9-d204-4ca9-8c8d-a3e340bc7e72": {
-            "bbox": 415,
+        "768c5e02-b80c-4025-a27a-ab5a225ae105": {
+            "bbox": 385,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 5,
+            "itemid": 9,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 700.0,
-            "posy": 100.0,
+            "posx": 575.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section5"
+            "tags": "section9"
         },
-        "5bf7d348-7aa4-4239-a180-b6b92663851e": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 421,
+        "7b1d99fb-c02e-48be-9c48-c5645301eb85": {
+            "background": "grey85",
+            "bbox": 388,
+            "border": 0,
             "colour": "black",
-            "end1": 417,
-            "end2": 418,
-            "endx": 300.0,
-            "endy": 350.0,
-            "item": "line",
-            "itemid": 21,
-            "line": 416,
-            "posx": 25.0,
-            "posy": 350.0,
-            "stop1": 419,
-            "stop2": 420,
-            "tags": "line21"
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1143.0,
+            "posy": 81.0,
+            "tags": "7b1d99fb-c02e-48be-9c48-c5645301eb85",
+            "text": "Signals 2 and 3 each\nControlled by a single\nSignalist SC1 Decoder\nBase Address = 601 and 633"
         },
-        "5e14d312-7750-4ab5-9376-09c40e391a55": {
+        "8232da6f-9aeb-45bd-8519-039297c6d3b9": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 427,
+            "bbox": 394,
             "colour": "black",
-            "end1": 423,
-            "end2": 424,
-            "endx": 350.0,
-            "endy": 400.0,
+            "end1": 935,
+            "end2": 936,
+            "endx": 800.0,
+            "endy": 225.0,
             "item": "line",
-            "itemid": 24,
-            "line": 422,
-            "posx": 325.0,
-            "posy": 375.0,
-            "stop1": 425,
-            "stop2": 426,
-            "tags": "line24"
+            "itemid": 4,
+            "line": 934,
+            "posx": 1200.0,
+            "posy": 225.0,
+            "stop1": 937,
+            "stop2": 938,
+            "tags": "line4"
         },
-        "5f7adc51-3867-4068-89e9-951344c619aa": {
+        "82685c46-2db9-4145-a0f8-7111098f16ec": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 455,
+            "bbox": 406,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        606,
+                        true
                     ],
                     [
-                        0,
-                        false
+                        605,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -11220,20 +10150,20 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        605,
                         false
                     ],
                     [
-                        0,
-                        false
+                        606,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -11695,30 +10625,30 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 17,
+            "itemid": 14,
             "itemsubtype": 1,
-            "itemtype": 3,
+            "itemtype": 2,
             "orientation": 0,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "23"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
-                            false
+                            5,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -11857,16 +10787,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 675.0,
-            "posy": 350.0,
+            "posx": 1225.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -11934,18 +10864,18 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        13,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -12161,15 +11091,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal17",
+            "tags": "signal14",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -12223,18 +11153,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                8,
                 [
                     [
-                        0,
+                        4,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -12253,66 +11183,146 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "67ab0983-6537-46c7-95e5-8e6f48075319": {
-            "bbox": 458,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 13,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 500.0,
-            "posy": 550.0,
-            "state": false,
-            "tags": "section13"
+        "8c773174-1179-4350-946c-4e8548569e33": {
+            "background": "grey85",
+            "bbox": 409,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1144.0,
+            "posy": 133.0,
+            "tags": "8c773174-1179-4350-946c-4e8548569e33",
+            "text": "AA-4Awpl"
         },
-        "6adea958-0dca-4a25-a546-6cf71f1ab346": {
+        "8efa0c5d-19c3-4826-a797-34453446bb67": {
             "arrowends": 0,
             "arrowtype": [
                 0,
                 0,
                 0
             ],
-            "bbox": 464,
+            "bbox": 415,
             "colour": "black",
-            "end1": 460,
-            "end2": 461,
-            "endx": 1100.0,
-            "endy": 550.0,
+            "end1": 953,
+            "end2": 954,
+            "endx": 1200.0,
+            "endy": 175.0,
             "item": "line",
-            "itemid": 15,
-            "line": 459,
+            "itemid": 5,
+            "line": 952,
             "posx": 800.0,
-            "posy": 550.0,
-            "stop1": 462,
-            "stop2": 463,
-            "tags": "line15"
+            "posy": 175.0,
+            "stop1": 955,
+            "stop2": 956,
+            "tags": "line5"
+        },
+        "956e68f3-b5ca-4869-9be5-186c3b2b2663": {
+            "background": "grey85",
+            "bbox": 418,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1628.0,
+            "posy": 311.0,
+            "tags": "956e68f3-b5ca-4869-9be5-186c3b2b2663",
+            "text": "Set\nNext\nTrain"
+        },
+        "9754f858-e3bb-4c96-a3a6-d70b3cc8287f": {
+            "background": "grey85",
+            "bbox": 421,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1324.0,
+            "posy": 135.0,
+            "tags": "9754f858-e3bb-4c96-a3a6-d70b3cc8287f",
+            "text": "Ground Signals 7, 13 & 14\nControlled by a single\nSignalist SC1 Decoder\nBase Address = 601"
         },
-        "6c791787-8ce0-4db7-9308-7c5144fe412f": {
+        "9a537d13-0794-4f88-8386-67b76bbd39d7": {
+            "background": "grey85",
+            "bbox": 424,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 501.0,
+            "posy": 315.0,
+            "tags": "9a537d13-0794-4f88-8386-67b76bbd39d7",
+            "text": "TT-DS10"
+        },
+        "9f0bd8e5-accc-4abc-8491-8db955715941": {
+            "background": "grey85",
+            "bbox": 427,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 10,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 1,
+            "posx": 850.0,
+            "posy": 387.0,
+            "tags": "9f0bd8e5-accc-4abc-8491-8db955715941",
+            "text": "TT-DS10 - Train Tech 4 aspect DCC signal\nTT-DS5HS - Train Tech 4 aspect DCC signal with flashing aspects\nAA-4Awpl - Absolute Aspects 4 aspect signal with position light\nAA-4wpl&lhf - Absolute Asp'ts 4 asp signal with pos light & LH Feather"
+        },
+        "a19e74b3-1746-478b-92c3-2ae4183b4c71": {
+            "bbox": 430,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 6,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1625,
+            "posy": 275,
+            "state": false,
+            "tags": "section6"
+        },
+        "a3a8d6ac-dc68-4d04-a0c0-8a94f8dd4d5b": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 520,
+            "bbox": 449,
             "dccaspects": [
                 [
                     [
-                        0,
+                        100,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12330,16 +11340,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        100,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12356,16 +11366,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        101,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -12382,15 +11392,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        101,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -12794,40 +11804,40 @@
                         [
                             0,
                             false
                         ]
                     ]
                 ]
             ],
-            "distautomatic": true,
+            "distautomatic": false,
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 23,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": false,
+            "itemid": 10,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
+            "overrideahead": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "24"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            8,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -12843,22 +11853,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "18",
                     0
                 ],
                 [
                     [
                         [
-                            8,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -12873,15 +11883,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "21",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -12967,16 +11977,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 100.0,
-            "posy": 600.0,
+            "posx": 825.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -12986,23 +11996,23 @@
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
-                        true,
+                        false,
                         0
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -13255,15 +12265,15 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                true,
+                false,
                 false,
                 false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
@@ -13271,15 +12281,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal23",
+            "tags": "signal10",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -13333,18 +12343,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                8,
                 [
                     [
-                        0,
+                        9,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -13363,111 +12373,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "6f4c3d24-b18c-4857-8161-03913dcca4bf": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 526,
-            "colour": "black",
-            "end1": 522,
-            "end2": 523,
-            "endx": 200.0,
-            "endy": 600.0,
-            "item": "line",
-            "itemid": 26,
-            "line": 521,
-            "posx": 25.0,
-            "posy": 600.0,
-            "stop1": 524,
-            "stop2": 525,
-            "tags": "line26"
-        },
-        "7482f7e1-f1ad-473d-b856-6f70ab6a8015": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 532,
-            "colour": "black",
-            "end1": 528,
-            "end2": 529,
-            "endx": 1100.0,
-            "endy": 375.0,
-            "item": "line",
-            "itemid": 12,
-            "line": 527,
-            "posx": 800.0,
-            "posy": 375.0,
-            "stop1": 530,
-            "stop2": 531,
-            "tags": "line12"
-        },
-        "76a00814-9701-437d-99a8-32e60ed4ba17": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 538,
-            "colour": "black",
-            "end1": 534,
-            "end2": 535,
-            "endx": 475.0,
-            "endy": 50.0,
-            "item": "line",
-            "itemid": 5,
-            "line": 533,
-            "posx": 450.0,
-            "posy": 75.0,
-            "stop1": 536,
-            "stop2": 537,
-            "tags": "line5"
-        },
-        "792e40e8-1303-49a8-b2d7-1e1e255cbff0": {
-            "bbox": 541,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 23,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 200.0,
-            "state": false,
-            "tags": "section23"
-        },
-        "7bdabd95-5597-4e06-8130-48b446f66571": {
+        "a58ae971-dd6e-4f5e-92e3-0d451f28cc36": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 560,
+            "bbox": 468,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        190,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13484,15 +12415,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        190,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13510,15 +12441,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        191,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -13536,16 +12467,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        191,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -13956,36 +12887,36 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 4,
-            "itemsubtype": 1,
+            "itemid": 19,
+            "itemsubtype": 5,
             "itemtype": 1,
             "orientation": 180,
             "overrideahead": false,
             "overridesignal": true,
             "passedsensor": [
                 true,
-                "12"
+                "26"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            1,
+                            0,
                             false
                         ],
                         [
-                            3,
+                            0,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -13997,15 +12928,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "11",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -14121,16 +13052,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 625.0,
-            "posy": 150.0,
+            "posx": 325.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -14198,17 +13129,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        1,
+                        0,
                         [
-                            true,
+                            false,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -14425,15 +13356,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal4",
+            "tags": "signal19",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -14461,17 +13392,17 @@
                     0,
                     0,
                     0
                 ]
             ],
             "trackinterlock": [
                 [
-                    1,
-                    26,
-                    27
+                    0,
+                    0,
+                    0
                 ],
                 [
                     0,
                     0,
                     0
                 ],
                 [
@@ -14487,20 +13418,20 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                4,
+                14,
                 [
                     [
-                        1,
-                        26,
-                        27
+                        15,
+                        0,
+                        0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
@@ -14517,123 +13448,69 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "88daa56e-c0d6-4b39-8949-89c0eace8cb0": {
-            "arrowends": 0,
+        "a9fca83a-6c10-454f-a141-e4931d7c06d7": {
+            "arrowends": 1,
             "arrowtype": [
-                0,
-                0,
-                0
+                1,
+                1,
+                1
             ],
-            "bbox": 566,
+            "bbox": 474,
             "colour": "black",
-            "end1": 562,
-            "end2": 563,
-            "endx": 575.0,
-            "endy": 250.0,
+            "end1": 1004,
+            "end2": 1005,
+            "endx": 1250.0,
+            "endy": 175.0,
             "item": "line",
-            "itemid": 11,
-            "line": 561,
-            "posx": 550.0,
-            "posy": 225.0,
-            "stop1": 564,
-            "stop2": 565,
-            "tags": "line11"
-        },
-        "93063a54-5b09-4045-985b-7ba45650ff68": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 573,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 8,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 225.0,
-            "posy": 600.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    23,
-                    [
-                        true,
-                        true,
-                        false,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point8"
-        },
-        "95c43eba-116d-461f-acf5-2942ee2de9a0": {
-            "bbox": 576,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 10,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 600.0,
-            "state": false,
-            "tags": "section10"
+            "itemid": 6,
+            "line": 1003,
+            "posx": 1525.0,
+            "posy": 175.0,
+            "stop1": 1006,
+            "stop2": 1007,
+            "tags": "line6"
         },
-        "97e058d0-9fc8-4595-a6c1-38b76dbc6930": {
-            "background": "grey85",
-            "bbox": 579,
+        "abd81429-2c2a-4b04-bc62-81a103da6e24": {
+            "background": "#76d0d9",
+            "bbox": 477,
             "border": 0,
             "colour": "black",
             "font": "Courier",
-            "fontsize": 10,
+            "fontsize": 9,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
             "justify": 2,
-            "posx": 957.0,
-            "posy": 311.0,
-            "tags": "97e058d0-9fc8-4595-a6c1-38b76dbc6930",
-            "text": "Section ahead or section behind tests\nNon distant/shunt-ahead signal types"
-        },
-        "97f92095-a77f-4a82-ac03-58020be13cda": {
-            "bbox": 594,
-            "bellsound": "bell-ring-01.wav",
-            "item": "instrument",
-            "itemid": 2,
-            "itemtype": 1,
-            "keysound": "telegraph-key-01.wav",
-            "linkedto": "1",
-            "posx": 1125.0,
-            "posy": 75.0,
-            "tags": "instrument2"
+            "posx": 950.0,
+            "posy": 200.0,
+            "tags": "abd81429-2c2a-4b04-bc62-81a103da6e24",
+            "text": "    Platform 2/3    "
         },
-        "98514843-9b76-4a6f-b05f-8dc7879300a3": {
+        "acbd35af-8e88-400e-979b-44e1de8c927d": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 625,
+            "bbox": 496,
             "dccaspects": [
                 [
                     [
-                        0,
+                        120,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -14651,16 +13528,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        120,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14677,16 +13554,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        121,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -14703,15 +13580,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        121,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -15126,29 +14003,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 14,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemid": 12,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "22"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            7,
+                            5,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -15164,15 +14041,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "15",
+                    "10",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -15230,16 +14107,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            7,
-                            true
+                            0,
+                            false
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -15254,15 +14131,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "18",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -15288,16 +14165,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 200.0,
-            "posy": 350.0,
+            "posx": 1375.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -15335,15 +14212,15 @@
                     [
                         false,
                         0
                     ]
                 ],
                 [
                     [
-                        true,
+                        false,
                         0
                     ],
                     [
                         false,
                         0
                     ],
                     [
@@ -15578,29 +14455,29 @@
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
                 false,
                 false,
-                true,
+                false,
                 false
             ],
             "subroutes": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal14",
+            "tags": "signal12",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -15654,18 +14531,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                7,
                 [
                     [
-                        0,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -15684,259 +14561,256 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "9a297b55-f32f-427e-97f3-d29601155e06": {
-            "bbox": 628,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 24,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 775.0,
-            "posy": 250.0,
-            "state": false,
-            "tags": "section24"
-        },
-        "a168039e-a91a-4d28-8f9c-c9847dddcb6d": {
+        "b31a2cd1-3494-4f09-95b8-f50e6708bdeb": {
             "background": "grey85",
-            "bbox": 631,
+            "bbox": 499,
             "border": 0,
             "colour": "black",
             "font": "Courier",
-            "fontsize": 10,
+            "fontsize": 8,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
             "justify": 2,
-            "posx": 582.0,
-            "posy": 486.0,
-            "tags": "a168039e-a91a-4d28-8f9c-c9847dddcb6d",
-            "text": "Shunt-ahead signal route tests"
+            "posx": 121.0,
+            "posy": 315.0,
+            "tags": "b31a2cd1-3494-4f09-95b8-f50e6708bdeb",
+            "text": "TT-DS10"
         },
-        "a2a63569-61ec-4286-806c-3fb2b9669cae": {
-            "bbox": 634,
+        "b3b255c4-744a-4476-a7d0-3535e718fac1": {
+            "bbox": 502,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 27,
+            "itemid": 3,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 75.0,
-            "posy": 150.0,
+            "posx": 950.0,
+            "posy": 225.0,
             "state": false,
-            "tags": "section27"
+            "tags": "section3"
         },
-        "a33a7333-532d-4c93-81db-e6a31aa66cac": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 640,
-            "colour": "black",
-            "end1": 636,
-            "end2": 637,
-            "endx": 900.0,
-            "endy": 50.0,
-            "item": "line",
-            "itemid": 6,
-            "line": 635,
-            "posx": 475.0,
-            "posy": 50.0,
-            "stop1": 638,
-            "stop2": 639,
-            "tags": "line6"
+        "b55de778-8bb5-4d62-965e-d62ca9aa136d": {
+            "bbox": 505,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 13,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 1450.0,
+            "posy": 175.0,
+            "state": false,
+            "tags": "section13"
         },
-        "a37162c4-c2da-42a6-9d5d-2ded06f14cc5": {
+        "b778ffd2-cf39-4c24-b299-58e6131ff2d2": {
             "background": "grey85",
-            "bbox": 643,
+            "bbox": 508,
             "border": 0,
             "colour": "black",
             "font": "Courier",
-            "fontsize": 10,
+            "fontsize": 8,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
             "justify": 2,
-            "posx": 257.0,
-            "posy": 286.0,
-            "tags": "a37162c4-c2da-42a6-9d5d-2ded06f14cc5",
-            "text": "Interlock/Override distant signal\non home signals ahead"
+            "posx": 304.0,
+            "posy": 318.0,
+            "tags": "b778ffd2-cf39-4c24-b299-58e6131ff2d2",
+            "text": "TT-DS10"
         },
-        "a4a3951a-8365-413c-a29f-001a13e6ef21": {
-            "alsoswitch": 0,
+        "b8c1ca15-569a-42d8-9692-c4634b06e70b": {
+            "alsoswitch": 4,
             "automatic": false,
-            "bbox": 650,
+            "bbox": 515,
             "colour": "black",
-            "dccaddress": 0,
+            "dccaddress": 1003,
             "dccreversed": false,
-            "hasfpl": false,
+            "hasfpl": true,
             "item": "point",
-            "itemid": 6,
+            "itemid": 3,
             "itemtype": 1,
             "orientation": 0,
-            "posx": 625.0,
-            "posy": 550.0,
+            "posx": 1225.0,
+            "posy": 175.0,
             "reverse": false,
             "siginterlock": [
                 [
-                    12,
+                    2,
                     [
                         true,
+                        true,
                         false,
                         false,
-                        true,
                         false
                     ]
-                ]
-            ],
-            "tags": "point6"
-        },
-        "a6510982-7180-4a78-a46e-55ef46497bef": {
-            "bbox": 653,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 6,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 700.0,
-            "posy": 50.0,
-            "state": false,
-            "tags": "section6"
-        },
-        "a7754934-0d4a-428d-ab57-5599d44e8d85": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 660,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 1,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 400.0,
-            "posy": 150.0,
-            "reverse": false,
-            "siginterlock": [
+                ],
                 [
                     3,
                     [
                         true,
                         false,
                         false,
                         false,
                         false
                     ]
                 ],
                 [
-                    2,
+                    7,
                     [
                         true,
                         false,
                         false,
                         false,
                         false
                     ]
                 ],
                 [
-                    6,
+                    13,
                     [
                         true,
                         false,
                         false,
+                        true,
+                        false
+                    ]
+                ]
+            ],
+            "tags": "point3"
+        },
+        "c157e7b9-9ea8-46a6-8b6f-99f2ac3b6626": {
+            "arrowends": 0,
+            "arrowtype": [
+                0,
+                0,
+                0
+            ],
+            "bbox": 521,
+            "colour": "black",
+            "end1": 1043,
+            "end2": 1044,
+            "endx": -50.0,
+            "endy": 225.0,
+            "item": "line",
+            "itemid": 7,
+            "line": 1042,
+            "posx": 750.0,
+            "posy": 225.0,
+            "stop1": 1045,
+            "stop2": 1046,
+            "tags": "line7"
+        },
+        "c52e3e22-22c7-4623-bd67-8cacac93ba06": {
+            "alsoswitch": 1,
+            "automatic": false,
+            "bbox": 528,
+            "colour": "black",
+            "dccaddress": 1002,
+            "dccreversed": false,
+            "hasfpl": true,
+            "item": "point",
+            "itemid": 2,
+            "itemtype": 2,
+            "orientation": 0,
+            "posx": 775.0,
+            "posy": 225.0,
+            "reverse": false,
+            "siginterlock": [
+                [
+                    6,
+                    [
+                        true,
+                        true,
+                        false,
                         false,
                         false
                     ]
                 ],
                 [
-                    5,
+                    15,
                     [
                         true,
                         false,
                         false,
                         false,
                         false
                     ]
                 ],
                 [
-                    4,
+                    5,
                     [
                         true,
                         false,
                         false,
                         false,
                         false
                     ]
                 ],
                 [
                     1,
                     [
                         true,
                         true,
-                        true,
-                        true,
-                        true
+                        false,
+                        false,
+                        false
                     ]
                 ]
             ],
-            "tags": "point1"
+            "tags": "point2"
         },
-        "a8367dfc-0acc-4798-a352-fb964c1058dd": {
-            "arrowends": 0,
+        "c8564be9-6891-48f3-999a-53472f24c85f": {
+            "arrowends": 2,
             "arrowtype": [
-                0,
-                0,
-                0
+                1,
+                1,
+                1
             ],
-            "bbox": 666,
+            "bbox": 534,
             "colour": "black",
-            "end1": 662,
-            "end2": 663,
-            "endx": 475.0,
-            "endy": 150.0,
+            "end1": 1054,
+            "end2": 1055,
+            "endx": 525.0,
+            "endy": 175.0,
             "item": "line",
-            "itemid": 4,
-            "line": 661,
-            "posx": 425.0,
-            "posy": 150.0,
-            "stop1": 664,
-            "stop2": 665,
-            "tags": "line4"
+            "itemid": 8,
+            "line": 1053,
+            "posx": 750.0,
+            "posy": 175.0,
+            "stop1": 1056,
+            "stop2": 1057,
+            "tags": "line8"
         },
-        "a994fe0e-a4e6-48c3-bd42-b865c18f6624": {
+        "ce134677-c6b8-43f6-8d96-4da4fc745df1": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 694,
+            "bbox": 546,
             "dccaspects": [
                 [
                     [
-                        0,
+                        610,
                         false
                     ],
                     [
-                        0,
-                        false
+                        609,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -15949,20 +14823,20 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        609,
                         false
                     ],
                     [
-                        0,
-                        false
+                        610,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -16422,31 +15296,31 @@
                 false,
                 false,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
-            "interlockahead": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 19,
-            "itemsubtype": 2,
-            "itemtype": 3,
+            "itemid": 5,
+            "itemsubtype": 1,
+            "itemtype": 2,
             "orientation": 0,
-            "overrideahead": true,
+            "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "13"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -16462,15 +15336,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "20",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -16586,16 +15460,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 550.0,
-            "posy": 400.0,
+            "posx": 725.0,
+            "posy": 175.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -16663,37 +15537,37 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        6,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
-                        0,
+                        7,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -16890,15 +15764,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal19",
+            "tags": "signal5",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -16952,18 +15826,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                11,
                 [
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -16982,93 +15856,84 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "aa85f250-0909-453e-9de0-fc5dd1ac977a": {
-            "bbox": 697,
+        "cf7ab31e-b781-435b-8b96-0398da28e8f1": {
+            "bbox": 549,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 8,
+            "itemid": 7,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 850.0,
-            "posy": 425.0,
+            "posx": 1450.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section8"
+            "tags": "section7"
         },
-        "ab1c75b8-5187-4e29-89aa-1ad8efff6e41": {
-            "bbox": 700,
+        "d2c6a4dd-630c-4836-ad26-52269177edcc": {
+            "bbox": 552,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 15,
+            "itemid": 1,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 700.0,
-            "posy": 600.0,
+            "posx": 400.0,
+            "posy": 225.0,
             "state": false,
-            "tags": "section15"
+            "tags": "section1"
         },
-        "ab65202c-8dbc-4a49-9df4-b2a210d1b773": {
-            "bbox": 703,
+        "d53174a7-e4e9-425d-94a8-80507bd85a04": {
+            "bbox": 555,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 1,
+            "itemid": 5,
             "label": "XXXXX",
             "mirror": "",
             "posx": 225.0,
-            "posy": 150.0,
+            "posy": 225.0,
             "state": false,
-            "tags": "section1"
+            "tags": "section5"
         },
-        "ae7cf98f-2e67-46cf-9df1-899ff3ba4e02": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 709,
-            "colour": "black",
-            "end1": 705,
-            "end2": 706,
-            "endx": 750.0,
-            "endy": 550.0,
-            "item": "line",
-            "itemid": 18,
-            "line": 704,
-            "posx": 650.0,
-            "posy": 550.0,
-            "stop1": 707,
-            "stop2": 708,
-            "tags": "line18"
+        "d5d3aa4e-cc00-4d66-a1c6-8b52bb7b1a92": {
+            "bbox": 558,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 12,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 950.0,
+            "posy": 175.0,
+            "state": false,
+            "tags": "section12"
         },
-        "aefa13ab-557e-4572-9b67-988243b51c6f": {
+        "ddfcbf50-82fc-45e2-b861-1cc519b08d28": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 762,
+            "bbox": 577,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        170,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -17085,15 +15950,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        170,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -17111,15 +15976,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        171,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -17137,16 +16002,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        171,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -17557,26 +16422,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
-            "interlockahead": true,
+            "fullyautomatic": true,
+            "interlockahead": false,
             "item": "signal",
-            "itemid": 16,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 17,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": false,
+            "overrideahead": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "4"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -17598,15 +16463,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "17",
+                    "16",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -17722,28 +16587,28 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 550.0,
-            "posy": 350.0,
+            "posx": 125.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
                         false,
                         0
                     ],
                     [
-                        true,
+                        false,
                         0
                     ]
                 ],
                 [
                     [
                         false,
                         0
@@ -18026,15 +16891,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal16",
+            "tags": "signal17",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -18088,18 +16953,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                10,
                 [
                     [
-                        0,
+                        5,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -18118,1230 +16983,99 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "afd35369-6f78-4dab-be3c-62460b51f8bd": {
-            "bbox": 765,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 20,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 775.0,
-            "posy": 150.0,
-            "state": false,
-            "tags": "section20"
-        },
-        "b149ba67-d83f-4f67-ac37-6ac099d886d1": {
+        "df337c59-d6c8-420a-9165-628b58e8be08": {
             "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 772,
+            "automatic": true,
+            "bbox": 582,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
-            "itemid": 5,
+            "itemid": 1,
             "itemtype": 2,
-            "orientation": 0,
-            "posx": 1150.0,
-            "posy": 600.0,
+            "orientation": 180,
+            "posx": 775.0,
+            "posy": 175.0,
             "reverse": false,
-            "siginterlock": [
-                [
-                    10,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    11,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    9,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point5"
-        },
-        "b2d3edac-4a5c-46e8-8171-c79fb454e1f7": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 791,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                true,
-                true,
-                true,
-                true,
-                true
-            ],
-            "fullyautomatic": false,
-            "interlockahead": false,
-            "item": "signal",
-            "itemid": 1,
-            "itemsubtype": 1,
-            "itemtype": 1,
-            "orientation": 0,
-            "overrideahead": false,
-            "overridesignal": true,
-            "passedsensor": [
-                true,
-                "4"
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            1,
-                            false
-                        ],
-                        [
-                            3,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    1
-                ],
-                [
-                    [
-                        [
-                            1,
-                            true
-                        ],
-                        [
-                            2,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    1
-                ],
-                [
-                    [
-                        [
-                            1,
-                            true
-                        ],
-                        [
-                            2,
-                            true
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    1
-                ],
-                [
-                    [
-                        [
-                            1,
-                            false
-                        ],
-                        [
-                            3,
-                            true
-                        ],
-                        [
-                            4,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    1
-                ],
-                [
-                    [
-                        [
-                            1,
-                            false
-                        ],
-                        [
-                            3,
-                            true
-                        ],
-                        [
-                            4,
-                            true
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    1
-                ]
-            ],
-            "posx": 300.0,
-            "posy": 150.0,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        4,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        5,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        6,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        3,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        2,
-                        [
-                            true,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
-                true,
-                true,
-                true,
-                true,
-                true
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal1",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    4,
-                    20,
-                    21
-                ],
-                [
-                    5,
-                    18,
-                    19
-                ],
-                [
-                    6,
-                    16,
-                    17
-                ],
-                [
-                    3,
-                    22,
-                    23
-                ],
-                [
-                    2,
-                    24,
-                    25
-                ]
-            ],
-            "tracksections": [
-                1,
-                [
-                    [
-                        4,
-                        20,
-                        21
-                    ],
-                    [
-                        5,
-                        18,
-                        19
-                    ],
-                    [
-                        6,
-                        16,
-                        17
-                    ],
-                    [
-                        3,
-                        22,
-                        23
-                    ],
-                    [
-                        2,
-                        24,
-                        25
-                    ]
-                ]
-            ]
-        },
-        "b84cc69b-5360-4e46-8ee9-a42fb19c9414": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 797,
-            "colour": "black",
-            "end1": 793,
-            "end2": 794,
-            "endx": 1100.0,
-            "endy": 425.0,
-            "item": "line",
-            "itemid": 13,
-            "line": 792,
-            "posx": 800.0,
-            "posy": 425.0,
-            "stop1": 795,
-            "stop2": 796,
-            "tags": "line13"
-        },
-        "bc1c1e57-d938-4721-a8f1-4009975fc3fd": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 803,
-            "colour": "black",
-            "end1": 799,
-            "end2": 800,
-            "endx": 250.0,
-            "endy": 550.0,
-            "item": "line",
-            "itemid": 27,
-            "line": 798,
-            "posx": 225.0,
-            "posy": 575.0,
-            "stop1": 801,
-            "stop2": 802,
-            "tags": "line27"
+            "siginterlock": [],
+            "tags": "point1"
         },
-        "be3430e8-fa0a-4ed5-8e15-bbe161956db4": {
-            "bbox": 806,
+        "e3b1ad43-1e39-456d-aad8-7943e5864ac8": {
+            "bbox": 585,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 3,
+            "itemid": 11,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 700.0,
-            "posy": 200.0,
+            "posx": 575.0,
+            "posy": 175.0,
             "state": false,
-            "tags": "section3"
+            "tags": "section11"
         },
-        "c051bf55-cdef-4f31-b57c-fe37266c08f4": {
+        "e4853677-978f-4fc5-b03d-c92d0bb216ea": {
+            "background": "#76d0d9",
+            "bbox": 588,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 9,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 950.0,
+            "posy": 300.0,
+            "tags": "e4853677-978f-4fc5-b03d-c92d0bb216ea",
+            "text": "     Platform 1     "
+        },
+        "e54253c4-ec5b-4a4a-835d-5e3b5eb4e183": {
+            "background": "grey85",
+            "bbox": 591,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 586.0,
+            "posy": 114.0,
+            "tags": "e54253c4-ec5b-4a4a-835d-5e3b5eb4e183",
+            "text": "Signal 1 Controlled by a \nsingle Signalist SC1 Decoder\nBase Address = 617"
+        },
+        "ed8d646c-60cc-4a5a-b8f0-cbd337263db8": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 834,
+            "bbox": 603,
             "dccaspects": [
                 [
                     [
-                        0,
+                        602,
                         false
                     ],
                     [
-                        0,
-                        false
+                        601,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -19354,20 +17088,20 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        601,
                         false
                     ],
                     [
-                        0,
-                        false
+                        602,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -19829,29 +17563,29 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 18,
+            "itemid": 7,
             "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemtype": 2,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "20"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -19867,15 +17601,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "19",
+                    "",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -19991,16 +17725,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 400.0,
-            "posy": 400.0,
+            "posx": 1275.0,
+            "posy": 175.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -20068,38 +17802,38 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        2,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        5,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -20295,15 +18029,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal18",
+            "tags": "signal7",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -20357,18 +18091,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                13,
                 [
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -20387,283 +18121,49 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "c1012a46-1134-4705-85bb-db7f644ed700": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 840,
-            "colour": "black",
-            "end1": 836,
-            "end2": 837,
-            "endx": 650.0,
-            "endy": 600.0,
-            "item": "line",
-            "itemid": 19,
-            "line": 835,
-            "posx": 625.0,
-            "posy": 575.0,
-            "stop1": 838,
-            "stop2": 839,
-            "tags": "line19"
-        },
-        "c27d25b7-5b4c-44d3-bd35-e5a1449de1ec": {
-            "background": "grey85",
-            "bbox": 843,
-            "border": 0,
-            "colour": "black",
-            "font": "Courier",
-            "fontsize": 10,
-            "fontstyle": "",
-            "item": "textbox",
-            "itemid": 0,
-            "justify": 2,
-            "posx": 232.0,
-            "posy": 486.0,
-            "tags": "c27d25b7-5b4c-44d3-bd35-e5a1449de1ec",
-            "text": "Override secondary distant arms\non distant signal ahead (i.e\n distant arms mirror distant ahead)"
-        },
-        "c4d97abd-b157-475f-a769-de173e501ee6": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 849,
-            "colour": "black",
-            "end1": 845,
-            "end2": 846,
-            "endx": 750.0,
-            "endy": 400.0,
-            "item": "line",
-            "itemid": 23,
-            "line": 844,
-            "posx": 350.0,
-            "posy": 400.0,
-            "stop1": 847,
-            "stop2": 848,
-            "tags": "line23"
-        },
-        "c6bcd861-e896-4b6c-9d38-d472b7d12d67": {
-            "bbox": 852,
+        "ee774c2b-3946-44aa-9254-a31f2bebecb8": {
+            "bbox": 606,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 26,
+            "itemid": 15,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 150.0,
-            "posy": 150.0,
+            "posx": 225.0,
+            "posy": 275.0,
             "state": false,
-            "tags": "section26"
-        },
-        "c8b72001-7d62-44e6-aac0-44ad9f41c124": {
-            "arrowends": 2,
-            "arrowtype": [
-                16,
-                20,
-                5
-            ],
-            "bbox": 858,
-            "colour": "black",
-            "end1": 854,
-            "end2": 855,
-            "endx": 275.0,
-            "endy": 550.0,
-            "item": "line",
-            "itemid": 29,
-            "line": 853,
-            "posx": 325.0,
-            "posy": 550.0,
-            "stop1": 856,
-            "stop2": 857,
-            "tags": "line29"
-        },
-        "cd84d65b-c1fb-48f9-abfe-e37d2799986c": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 865,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 2,
-            "itemtype": 2,
-            "orientation": 0,
-            "posx": 450.0,
-            "posy": 100.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    6,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    5,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    1,
-                    [
-                        false,
-                        true,
-                        true,
-                        false,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point2"
-        },
-        "ced9ba68-da44-49a5-bfd2-7b286f12e8cd": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 871,
-            "colour": "black",
-            "end1": 867,
-            "end2": 868,
-            "endx": 900.0,
-            "endy": 100.0,
-            "item": "line",
-            "itemid": 7,
-            "line": 866,
-            "posx": 475.0,
-            "posy": 100.0,
-            "stop1": 869,
-            "stop2": 870,
-            "tags": "line7"
-        },
-        "d210a466-1fdb-417c-b9a4-b190c54b8c0d": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 878,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": true,
-            "item": "point",
-            "itemid": 3,
-            "itemtype": 1,
-            "orientation": 0,
-            "posx": 500.0,
-            "posy": 150.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    3,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    2,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    4,
-                    [
-                        true,
-                        false,
-                        false,
-                        false,
-                        false
-                    ]
-                ],
-                [
-                    1,
-                    [
-                        true,
-                        false,
-                        false,
-                        true,
-                        true
-                    ]
-                ]
-            ],
-            "tags": "point3"
-        },
-        "d320de13-030f-4da1-975d-a87b5a26aa0c": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 884,
-            "colour": "black",
-            "end1": 880,
-            "end2": 881,
-            "endx": 900.0,
-            "endy": 250.0,
-            "item": "line",
-            "itemid": 10,
-            "line": 879,
-            "posx": 575.0,
-            "posy": 250.0,
-            "stop1": 882,
-            "stop2": 883,
-            "tags": "line10"
+            "tags": "section15"
         },
-        "d41f0e5f-13e5-4a7f-bc3e-3388254d6b8c": {
+        "f030d8c7-4d78-40bd-a046-e5cec8376481": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 912,
+            "bbox": 618,
             "dccaspects": [
                 [
                     [
-                        0,
+                        604,
                         false
                     ],
                     [
-                        0,
-                        false
+                        603,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -20676,20 +18176,20 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        603,
                         false
                     ],
                     [
-                        0,
-                        false
+                        604,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -21151,33 +18651,33 @@
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 21,
-            "itemsubtype": 2,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemid": 13,
+            "itemsubtype": 1,
+            "itemtype": 2,
+            "orientation": 180,
             "overrideahead": false,
             "overridesignal": false,
             "passedsensor": [
                 true,
-                ""
+                "11"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
-                            0,
+                            3,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -21195,16 +18695,16 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            5,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -21255,20 +18755,20 @@
                     ],
                     "",
                     0
                 ],
                 [
                     [
                         [
-                            0,
+                            5,
                             false
                         ],
                         [
-                            0,
-                            false
+                            3,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -21313,16 +18813,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 325.0,
-            "posy": 550.0,
+            "posx": 1325.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -21390,17 +18890,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        1,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -21410,17 +18910,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        3,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -21432,17 +18932,17 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        14,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -21516,38 +19016,38 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        2,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        5,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        1,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
                         0,
@@ -21601,1113 +19101,16 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subroutes": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "subsidary": [
-                false,
-                0
-            ],
-            "tags": "signal21",
-            "theatreroute": false,
-            "timedsequences": [
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    false,
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "trackinterlock": [
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ],
-                [
-                    0,
-                    0,
-                    0
-                ]
-            ],
-            "tracksections": [
-                0,
-                [
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ],
-                    [
-                        0,
-                        0,
-                        0
-                    ]
-                ]
-            ]
-        },
-        "d6860058-80ef-4edd-910e-7822d3d4c06e": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 918,
-            "colour": "black",
-            "end1": 914,
-            "end2": 915,
-            "endx": 375.0,
-            "endy": 150.0,
-            "item": "line",
-            "itemid": 1,
-            "line": 913,
-            "posx": 25.0,
-            "posy": 150.0,
-            "stop1": 916,
-            "stop2": 917,
-            "tags": "line1"
-        },
-        "da669646-6975-4489-9d20-5a5f4bcd2ed7": {
-            "approachcontrol": [
-                0,
-                0,
-                0,
-                0,
-                0
-            ],
-            "approachsensor": [
-                false,
-                ""
-            ],
-            "bbox": 949,
-            "dccaspects": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dccautoinhibit": false,
-            "dccfeathers": [
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ],
-                    [
-                        0,
-                        false
-                    ]
-                ]
-            ],
-            "dcctheatre": [
-                [
-                    "#",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    "",
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "distautomatic": false,
-            "feathers": [
-                false,
-                false,
-                false,
-                false,
-                false
-            ],
-            "fullyautomatic": false,
-            "interlockahead": true,
-            "item": "signal",
-            "itemid": 13,
-            "itemsubtype": 2,
-            "itemtype": 3,
-            "orientation": 0,
-            "overrideahead": true,
-            "overridesignal": false,
-            "passedsensor": [
-                true,
-                ""
-            ],
-            "pointinterlock": [
-                [
-                    [
-                        [
-                            7,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "14",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ],
-                [
-                    [
-                        [
-                            7,
-                            true
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "14",
-                    0
-                ],
-                [
-                    [
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ],
-                        [
-                            0,
-                            false
-                        ]
-                    ],
-                    "",
-                    0
-                ]
-            ],
-            "posx": 75.0,
-            "posy": 350.0,
-            "sigarms": [
-                [
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        true,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ],
-                [
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ],
-                    [
-                        false,
-                        0
-                    ]
-                ]
-            ],
-            "siginterlock": [
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ],
-                [
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ],
-                    [
-                        0,
-                        [
-                            false,
-                            false,
-                            false,
-                            false,
-                            false
-                        ]
-                    ]
-                ]
-            ],
-            "sigroutes": [
                 true,
                 false,
-                false,
                 true,
                 false
             ],
             "subroutes": [
                 false,
                 false,
                 false,
@@ -22776,187 +19179,228 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                4,
                 [
                     [
-                        0,
+                        3,
                         0,
                         0
                     ],
                     [
-                        0,
+                        8,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ],
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "e031e4f1-e98e-4694-bed5-87c9e5e0ff88": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 955,
+        "f1dbf1a3-0d5b-43e2-a476-18ccb8b0b920": {
+            "bbox": 621,
+            "defaultlabel": "XXXXX",
+            "editable": true,
+            "item": "section",
+            "itemid": 8,
+            "label": "XXXXX",
+            "mirror": "",
+            "posx": 950.0,
+            "posy": 275.0,
+            "state": false,
+            "tags": "section8"
+        },
+        "f2b7d2d9-eb4d-4e55-859f-100131262fe2": {
+            "alsoswitch": 0,
+            "automatic": true,
+            "bbox": 626,
             "colour": "black",
-            "end1": 951,
-            "end2": 952,
-            "endx": 600.0,
-            "endy": 550.0,
-            "item": "line",
-            "itemid": 17,
-            "line": 950,
-            "posx": 450.0,
-            "posy": 550.0,
-            "stop1": 953,
-            "stop2": 954,
-            "tags": "line17"
+            "dccaddress": 0,
+            "dccreversed": false,
+            "hasfpl": false,
+            "item": "point",
+            "itemid": 6,
+            "itemtype": 2,
+            "orientation": 180,
+            "posx": 1275.0,
+            "posy": 225.0,
+            "reverse": false,
+            "siginterlock": [],
+            "tags": "point6"
         },
-        "e1b0ee5f-12f4-45de-8fc6-7d4615c50a8d": {
-            "bbox": 958,
+        "f514300f-50b5-477c-9673-8cacdaac0c5b": {
+            "background": "grey85",
+            "bbox": 629,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 836.0,
+            "posy": 132.0,
+            "tags": "f514300f-50b5-477c-9673-8cacdaac0c5b",
+            "text": "Ground Signals 5, 6 & 15\nControlled by a single\nSignalist SC1 Decoder\nBase Address = 609"
+        },
+        "f771894a-e7a8-4e26-a9d0-d316f9aff774": {
+            "bbox": 632,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
-            "itemid": 19,
+            "itemid": 2,
             "label": "XXXXX",
             "mirror": "",
-            "posx": 850.0,
-            "posy": 100.0,
+            "posx": 575.0,
+            "posy": 225.0,
             "state": false,
-            "tags": "section19"
+            "tags": "section2"
+        },
+        "f7dc96fe-3f96-4f6b-8a63-8589f6b82d33": {
+            "background": "grey85",
+            "bbox": 635,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1343.0,
+            "posy": 318.0,
+            "tags": "f7dc96fe-3f96-4f6b-8a63-8589f6b82d33",
+            "text": "TT-DS10"
         },
-        "e7c2c67b-3d0c-4455-b73e-059d766bda83": {
+        "f7e885c9-faa7-4ee6-87df-9c035c5dadeb": {
             "approachcontrol": [
                 0,
-                0,
+                2,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
-                false,
-                ""
+                true,
+                "8"
             ],
-            "bbox": 986,
+            "bbox": 655,
             "dccaspects": [
                 [
                     [
-                        0,
+                        617,
                         false
                     ],
                     [
-                        0,
+                        619,
                         false
                     ],
                     [
-                        0,
+                        620,
                         false
                     ],
                     [
-                        0,
-                        false
+                        618,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        618,
                         false
                     ],
                     [
-                        0,
+                        619,
                         false
                     ],
                     [
-                        0,
+                        620,
                         false
                     ],
                     [
-                        0,
-                        false
+                        617,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        617,
                         false
                     ],
                     [
-                        0,
+                        618,
                         false
                     ],
                     [
-                        0,
+                        620,
                         false
                     ],
                     [
-                        0,
-                        false
+                        619,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        617,
                         false
                     ],
                     [
-                        0,
+                        618,
                         false
                     ],
                     [
-                        0,
+                        619,
                         false
                     ],
                     [
-                        0,
-                        false
+                        620,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -23016,15 +19460,15 @@
                     ]
                 ]
             ],
             "dccautoinhibit": false,
             "dccfeathers": [
                 [
                     [
-                        0,
+                        622,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -23042,15 +19486,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        622,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -23068,16 +19512,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        622,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -23350,37 +19794,37 @@
                         ]
                     ]
                 ]
             ],
             "distautomatic": false,
             "feathers": [
                 false,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "fullyautomatic": false,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 20,
-            "itemsubtype": 1,
-            "itemtype": 3,
+            "itemid": 1,
+            "itemsubtype": 5,
+            "itemtype": 1,
             "orientation": 0,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "7"
             ],
             "pointinterlock": [
                 [
                     [
                         [
-                            0,
+                            2,
                             false
                         ],
                         [
                             0,
                             false
                         ],
                         [
@@ -23396,22 +19840,22 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "3",
                     0
                 ],
                 [
                     [
                         [
-                            0,
-                            false
+                            2,
+                            true
                         ],
                         [
                             0,
                             false
                         ],
                         [
                             0,
@@ -23426,15 +19870,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "",
+                    "2",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -23521,15 +19965,15 @@
                         ]
                     ],
                     "",
                     0
                 ]
             ],
             "posx": 675.0,
-            "posy": 400.0,
+            "posy": 225.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -23597,17 +20041,17 @@
                         0
                     ]
                 ]
             ],
             "siginterlock": [
                 [
                     [
-                        0,
+                        15,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -23617,17 +20061,17 @@
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -23639,37 +20083,37 @@
                             false,
                             false
                         ]
                     ]
                 ],
                 [
                     [
-                        0,
+                        6,
                         [
                             false,
-                            false,
+                            true,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
-                        0,
+                        13,
                         [
                             false,
                             false,
                             false,
-                            false,
+                            true,
                             false
                         ]
                     ],
                     [
-                        0,
+                        7,
                         [
-                            false,
+                            true,
                             false,
                             false,
                             false,
                             false
                         ]
                     ],
                     [
@@ -23808,31 +20252,31 @@
                             false
                         ]
                     ]
                 ]
             ],
             "sigroutes": [
                 true,
-                false,
+                true,
                 false,
                 false,
                 false
             ],
             "subroutes": [
-                false,
-                false,
+                true,
+                true,
                 false,
                 false,
                 false
             ],
             "subsidary": [
-                false,
-                0
+                true,
+                621
             ],
-            "tags": "signal20",
+            "tags": "signal1",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -23886,23 +20330,23 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                2,
                 [
                     [
-                        0,
+                        3,
                         0,
                         0
                     ],
                     [
-                        0,
+                        12,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -23916,189 +20360,32 @@
                         0,
                         0,
                         0
                     ]
                 ]
             ]
         },
-        "ea7fe3f2-f03e-46b4-b081-a9a7fd72c579": {
-            "bbox": 989,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 22,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 775.0,
-            "posy": 200.0,
-            "state": false,
-            "tags": "section22"
-        },
-        "ebc7619b-2ac3-4539-9489-eee83460e329": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 995,
-            "colour": "black",
-            "end1": 991,
-            "end2": 992,
-            "endx": 500.0,
-            "endy": 175.0,
-            "item": "line",
-            "itemid": 3,
-            "line": 990,
-            "posx": 525.0,
-            "posy": 200.0,
-            "stop1": 993,
-            "stop2": 994,
-            "tags": "line3"
-        },
-        "ecdbe7e9-941c-45d4-9054-be1fc4e9bf85": {
-            "alsoswitch": 0,
-            "automatic": false,
-            "bbox": 1002,
-            "colour": "black",
-            "dccaddress": 0,
-            "dccreversed": false,
-            "hasfpl": false,
-            "item": "point",
-            "itemid": 7,
-            "itemtype": 1,
-            "orientation": 0,
-            "posx": 325.0,
-            "posy": 350.0,
-            "reverse": false,
-            "siginterlock": [
-                [
-                    14,
-                    [
-                        true,
-                        false,
-                        false,
-                        true,
-                        false
-                    ]
-                ],
-                [
-                    13,
-                    [
-                        true,
-                        false,
-                        false,
-                        true,
-                        false
-                    ]
-                ]
-            ],
-            "tags": "point7"
-        },
-        "ecf526c1-890f-4689-ba70-27744b4d0f94": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 1008,
-            "colour": "black",
-            "end1": 1004,
-            "end2": 1005,
-            "endx": 1100.0,
-            "endy": 650.0,
-            "item": "line",
-            "itemid": 16,
-            "line": 1003,
-            "posx": 800.0,
-            "posy": 650.0,
-            "stop1": 1006,
-            "stop2": 1007,
-            "tags": "line16"
-        },
-        "ee1cb09a-869b-4445-a027-105f24cc1685": {
-            "bbox": 1011,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 17,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 850.0,
-            "posy": 50.0,
-            "state": false,
-            "tags": "section17"
-        },
-        "f4ef26af-7aeb-4d6f-beb8-cc383fa2b7f8": {
-            "arrowends": 0,
-            "arrowtype": [
-                0,
-                0,
-                0
-            ],
-            "bbox": 1017,
-            "colour": "black",
-            "end1": 1013,
-            "end2": 1014,
-            "endx": 750.0,
-            "endy": 350.0,
-            "item": "line",
-            "itemid": 22,
-            "line": 1012,
-            "posx": 350.0,
-            "posy": 350.0,
-            "stop1": 1015,
-            "stop2": 1016,
-            "tags": "line22"
-        },
-        "f82bb5bd-b0b1-4fe1-bb06-3bb60e528e30": {
-            "bbox": 1020,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 14,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 700.0,
-            "posy": 550.0,
-            "state": false,
-            "tags": "section14"
-        },
-        "f8dae4ee-8601-441b-8d76-7056a2289fa1": {
-            "bbox": 1023,
-            "defaultlabel": "XXXXX",
-            "editable": true,
-            "item": "section",
-            "itemid": 16,
-            "label": "XXXXX",
-            "mirror": "",
-            "posx": 775.0,
-            "posy": 50.0,
-            "state": false,
-            "tags": "section16"
-        },
-        "fd6887bd-85d8-4f06-9845-f49b6b1dae8c": {
+        "fae48e3e-2bfd-4207-afb0-34c9f9a43bf7": {
             "approachcontrol": [
                 0,
                 0,
                 0,
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 1051,
+            "bbox": 674,
             "dccaspects": [
                 [
                     [
-                        0,
-                        false
+                        180,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -24115,15 +20402,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        180,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -24141,15 +20428,15 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
+                        181,
                         false
                     ],
                     [
                         0,
                         false
                     ],
                     [
@@ -24167,16 +20454,16 @@
                     [
                         0,
                         false
                     ]
                 ],
                 [
                     [
-                        0,
-                        false
+                        181,
+                        true
                     ],
                     [
                         0,
                         false
                     ],
                     [
                         0,
@@ -24587,26 +20874,26 @@
             "feathers": [
                 false,
                 false,
                 false,
                 false,
                 false
             ],
-            "fullyautomatic": false,
+            "fullyautomatic": true,
             "interlockahead": false,
             "item": "signal",
-            "itemid": 15,
-            "itemsubtype": 1,
-            "itemtype": 3,
-            "orientation": 0,
+            "itemid": 18,
+            "itemsubtype": 5,
+            "itemtype": 1,
+            "orientation": 180,
             "overrideahead": false,
-            "overridesignal": false,
+            "overridesignal": true,
             "passedsensor": [
                 true,
-                ""
+                "25"
             ],
             "pointinterlock": [
                 [
                     [
                         [
                             0,
                             false
@@ -24628,15 +20915,15 @@
                             false
                         ],
                         [
                             0,
                             false
                         ]
                     ],
-                    "16",
+                    "19",
                     0
                 ],
                 [
                     [
                         [
                             0,
                             false
@@ -24752,16 +21039,16 @@
                             false
                         ]
                     ],
                     "",
                     0
                 ]
             ],
-            "posx": 400.0,
-            "posy": 350.0,
+            "posx": 525.0,
+            "posy": 275.0,
             "sigarms": [
                 [
                     [
                         true,
                         0
                     ],
                     [
@@ -25056,15 +21343,15 @@
                 false,
                 false
             ],
             "subsidary": [
                 false,
                 0
             ],
-            "tags": "signal15",
+            "tags": "signal18",
             "theatreroute": false,
             "timedsequences": [
                 [
                     false,
                     0,
                     0,
                     0
@@ -25118,18 +21405,18 @@
                 [
                     0,
                     0,
                     0
                 ]
             ],
             "tracksections": [
-                0,
+                9,
                 [
                     [
-                        0,
+                        14,
                         0,
                         0
                     ],
                     [
                         0,
                         0,
                         0
@@ -25147,181 +21434,95 @@
                     [
                         0,
                         0,
                         0
                     ]
                 ]
             ]
+        },
+        "ff661e89-2111-4e98-8191-9fe3d3e39471": {
+            "background": "grey85",
+            "bbox": 677,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 787.0,
+            "posy": 316.0,
+            "tags": "ff661e89-2111-4e98-8191-9fe3d3e39471",
+            "text": "TT-DS10"
+        },
+        "ffc65294-6626-4af4-9a43-305530b7f891": {
+            "background": "grey85",
+            "bbox": 680,
+            "border": 0,
+            "colour": "black",
+            "font": "Courier",
+            "fontsize": 8,
+            "fontstyle": "",
+            "item": "textbox",
+            "itemid": 0,
+            "justify": 2,
+            "posx": 1525.0,
+            "posy": 317.0,
+            "tags": "ffc65294-6626-4af4-9a43-305530b7f891",
+            "text": "TT-DS10"
         }
     },
     "points": {
         "1": {
-            "fpllock": true,
+            "fpllock": false,
             "locked": false,
             "switched": false
         },
         "2": {
             "fpllock": true,
             "locked": false,
             "switched": false
         },
         "3": {
             "fpllock": true,
             "locked": false,
             "switched": false
         },
         "4": {
-            "fpllock": true,
+            "fpllock": false,
             "locked": false,
             "switched": false
         },
         "5": {
             "fpllock": false,
             "locked": false,
             "switched": false
         },
         "6": {
             "fpllock": false,
             "locked": false,
             "switched": false
-        },
-        "7": {
-            "fpllock": false,
-            "locked": false,
-            "switched": false
-        },
-        "8": {
-            "fpllock": false,
-            "locked": false,
-            "switched": true
-        }
-    },
-    "sections": {
-        "1": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "10": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "11": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "12": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "13": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "14": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "15": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "16": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "17": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "18": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "19": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "2": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "20": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "21": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "22": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "23": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "24": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "25": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "26": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "27": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "3": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "4": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "5": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "6": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "7": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "8": {
-            "labeltext": "XXXXX",
-            "occupied": false
-        },
-        "9": {
-            "labeltext": "XXXXX",
-            "occupied": false
         }
     },
+    "sections": {},
     "settings": {
         "canvas": {
             "grid": 25,
-            "height": 700,
+            "height": 500,
             "snaptogrid": true,
-            "width": 1200
+            "width": 1675
         },
         "general": {
             "automation": true,
-            "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/system_tests/test_run_layout.sig",
-            "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "editmode": true,
+            "filename": "/home/pi/Software/model-railway-signalling/configuration_examples/automation_colour_light_example.sig",
+            "info": "This layout is a development of the basic interlocking example to demonstrate signalling automation\n(note that the application needs to be in 'run' mode for all automation features to function).\n\nTrack sensors (such as those from TrainTech, Heathcote Electronics, DCC Concepts etc) can be located \nwith each signal and connected in to the R-Pi's GPIO ports (via appropriate opto isolator circuits).\nEach GPIO port can then be mapped to a signal to generate 'signal passed' events - In 'edit' mode,\nclick on a signal and select the 'automation' tab to view the configuration. 'Signal passed' events\ncan also be triggered by clicking on the small button at the base of each signal (as an aid to \ndevelopment and testing of signalling schemes before going 'live' with the R-Pi).\n\nTrack sections can be added to the schematic to provide a mimic display of track occupancy (when a\ntrain passes a signal (signal must be 'off') it gets passed from the section behind to the section ahead.\nThe required behavior is configured via the 'automation' tab of each signal. For example, signal 1\ncontrols two 'routes' so when passed, section 2 will be cleared and either section 12 or 3 will be set \nto occupied, depending on which route the signal is cleared for.\n\nAll main signals are configured to be 'overridden' if the track section ahead is occupied. This means\nthat each signal will automatically change to 'on' when passed (section ahead is occupied) and then\nrevert to'off' as soon as the section ahead is cleared. The actual aspect displayed when 'off' will \ndepend on the aspect of the signal ahead (specified via the 'interlocking tab'). This means that any\nsignals on the layout that don't need a level of manual control can be 'fully automated' (no buttons).\n\nTo simulate prototypical aspect changes for trains going off scene, the 'exit' signals (signals 4 and\n11 in this example) can be configured as 'timed signals'. Once passed they are overriden to 'on' (as\nper the other signals on the layout) but then cycle back through the aspects back to 'proceed'.\n\nTrack sensors can also positioned slightly before the signal and mapped to generate 'signal approached'\nevents to simulate 'approach control'. In this example, signal 1 is configured for 'release on yellow'\napproach control for the diverging route (in the case of the diverging route having a speed restriction).\nThis means the signal (when 'off') will initially display a yellow aspect (with the signals behind \ndisplaying flashing yellow and flashing double yellow). When the train approaches the signal (having\nslowed down for the diverging route) it will automatically change to green.\n\nTo demonstrate all the above in action, set 'run' mode and reset the layout to set all signals, points\nand track sections back to their default states. unlock, switch and re-lock points 2 and 3 for the\ndiverging loop line and set signals 8, 1, 2 and 4 to 'off'. Right click the far left track section and\nenter a train designation code of your choice (this sets the section to 'occupied'. Now, move the train\nthrough the schematic, clicking the 'signal passed' button at the base of each signal along the route\nin turn (don't forget to click the 'signal approached' button ahead of signal 1 if you want to see\napproach control working). When you get to signal 4, the train will disappear 'off scene' and the signal\nwill cycle back through the aspects (with a short delay between aspects) until it gets back to green.\n\nAlternatively, if running on a Raspberry pi, the track sensors can be triggered directly via the Ri-Pi's \nGPIO ports (momentarily connect the appropriate GPIO pin to one of the R-Pi's 0V DC pins). Select \n'Settings' =>'Sensors' from the Menubar to view the configuration. In this example the Track Sensor IDs\nhave been mapped to the GPIO port number, but any numbering scheme can be used (e.g. allocate the same ID \nfor the sensor as the signal ID it is triggering). \n\nThe layout is fully configured to support all possible train movements (including shunting movements)\nso have a play - but note that signals can only be 'passed' when 'off' for the track occupancy\nchanges to work correctly (the application currently doesn't support any form of SPAD functionality)\n\n\n\n",
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [
                 [
                     4,
                     4
                 ],
@@ -25330,14 +21531,34 @@
                     5
                 ],
                 [
                     6,
                     6
                 ],
                 [
+                    7,
+                    7
+                ],
+                [
+                    8,
+                    8
+                ],
+                [
+                    9,
+                    9
+                ],
+                [
+                    10,
+                    10
+                ],
+                [
+                    11,
+                    11
+                ],
+                [
                     12,
                     12
                 ],
                 [
                     13,
                     13
                 ],
@@ -25428,195 +21649,140 @@
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "10": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
+            "releaseonred": false,
+            "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
+            "sigclear": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": null
+            "theatretext": "NONE"
         },
         "11": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": null
-        },
-        "116": {
-            "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
+            "sigclear": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "12": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": null
-        },
-        "123": {
-            "override": false,
             "releaseonred": false,
             "releaseonyel": false,
-            "routeset": 2,
-            "sigclear": true,
+            "routeset": 1,
+            "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "13": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "14": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "15": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "16": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "17": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "18": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "19": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "2": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "20": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
-            "siglocked": false,
-            "subclear": false,
-            "sublocked": false,
-            "theatretext": "NONE"
-        },
-        "21": {
-            "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
-            "routeset": 1,
-            "sigclear": false,
+            "sigclear": true,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
-        "23": {
+        "2": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 2,
             "sigclear": false,
-            "siglocked": false,
+            "siglocked": true,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "3": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "4": {
             "override": false,
             "releaseonred": false,
@@ -25626,62 +21792,62 @@
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "5": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "6": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
-            "siglocked": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "7": {
             "override": false,
-            "releaseonred": false,
-            "releaseonyel": false,
+            "releaseonred": null,
+            "releaseonyel": null,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": "NONE"
+            "theatretext": null
         },
         "8": {
             "override": false,
             "releaseonred": false,
             "releaseonyel": false,
             "routeset": 1,
             "sigclear": false,
             "siglocked": false,
             "subclear": false,
             "sublocked": false,
             "theatretext": "NONE"
         },
         "9": {
             "override": false,
-            "releaseonred": null,
-            "releaseonyel": null,
+            "releaseonred": false,
+            "releaseonyel": false,
             "routeset": 1,
-            "sigclear": false,
-            "siglocked": true,
+            "sigclear": true,
+            "siglocked": false,
             "subclear": false,
             "sublocked": false,
-            "theatretext": null
+            "theatretext": "NONE"
         }
     }
 }
```

### Comparing `model_railway_signals-4.1.0/system_tests/test_schematic_editor.py` & `model_railway_signals-4.2.0/system_tests/test_schematic_editor.py`

 * *Files 4% similar despite different names*

```diff
@@ -71,14 +71,20 @@
     sleep(delay)
     i1 = create_block_instrument()
     sleep(delay)
     assert_objects_selected(i1)
     select_and_edit_single_object(i1)
     sleep(delay)
     delete_selected_objects()
+    ts1 = create_track_sensor()
+    sleep(delay)
+    assert_objects_selected(ts1)
+    select_and_edit_single_object(ts1)
+    sleep(delay)
+    delete_selected_objects()
     sleep(delay)
 
 #-----------------------------------------------------------------------------------
 # This function tests the following schematic functions:
 #       Create individual objects
 #       Move selected objects (drag and drop with cursor) - snap to grid on/off
 #       Move selected objects (nudge with arrow keys) - snap to grid on/off
@@ -99,39 +105,41 @@
     
     print("Basic schematic editor tests - create and move schematic objects (with snap-to-grid on)")
     # Add elements to the layout and move them to their initial positions
     # Note that some objects are moved 'off-grid' to test the snap-to-grid functionality
     tb1 = create_textbox()
     assert_objects_selected(tb1)
     sleep(delay)
-    select_and_move_objects(tb1,400,25,delay=delay)
+    select_and_move_objects(tb1,410,30,delay=delay)
+    sleep(delay)
+    update_object_configuration(tb1,{"text":"Example Text Box"})
     sleep(delay)
     s1 = create_colour_light_signal()
     assert_objects_selected(s1)
     assert_objects_deselected(tb1)
     sleep(delay)
-    select_and_move_objects(s1,90,100,delay=delay)
+    select_and_move_objects(s1,95,105,delay=delay)
     sleep(delay)
     s2 = create_semaphore_signal()
     assert_objects_selected(s2)
     assert_objects_deselected(s1)
     sleep(delay)
-    select_and_move_objects(s2,260,100,delay=delay)
+    select_and_move_objects(s2,260,90,delay=delay)
     sleep(delay)
     s3 = create_ground_position_signal()
     assert_objects_selected(s3)
     assert_objects_deselected(s2)
     sleep(delay)
-    select_and_move_objects(s3,400,90,delay=delay)
+    select_and_move_objects(s3,410,90,delay=delay)
     sleep(delay)
     s4 = create_ground_disc_signal()
     assert_objects_selected(s4)
     assert_objects_deselected(s3)
     sleep(delay)
-    select_and_move_objects(s4,500,110,delay=delay)
+    select_and_move_objects(s4,490,110,delay=delay)
     sleep(delay)
     p1 = create_left_hand_point()
     assert_objects_selected(p1)
     assert_objects_deselected(s4)
     sleep(delay)
     select_and_move_objects(p1,570,95,delay=delay)
     sleep(delay)
@@ -141,21 +149,27 @@
     sleep(delay)
     select_and_move_objects(p2,630,105,delay=delay)
     sleep(delay)
     t1 = create_track_section()
     assert_objects_selected(t1)
     assert_objects_deselected(p2)
     sleep(delay)
-    select_and_move_objects(t1,700,100,delay=delay)
+    select_and_move_objects(t1,710,95,delay=delay)
     sleep(delay)
     i1 = create_block_instrument()
     assert_objects_selected(i1)
     assert_objects_deselected(t1)
     sleep(delay)
-    select_and_move_objects(i1,200,300,delay=delay)
+    select_and_move_objects(i1,195,305,delay=delay)
+    sleep(delay)
+    ts1 = create_track_sensor()
+    assert_objects_selected(ts1)
+    assert_objects_deselected(i1)
+    sleep(delay)
+    select_and_move_objects(ts1,755,95,delay=delay)
     sleep(delay)
     l1 = create_line()
     assert_objects_selected(l1)
     assert_objects_deselected(i1)
     sleep(delay)
     update_object_configuration(l1,{"arrowtype":[1,1,1], "arrowends":1})
     sleep(delay)
@@ -180,149 +194,163 @@
     assert_object_position(s2,250,100)
     assert_object_position(s3,400,100)
     assert_object_position(s4,500,100)
     assert_object_position(p1,575,100)
     assert_object_position(p2,625,100)
     assert_object_position(t1,700,100)
     assert_object_position(i1,200,300)
+    assert_object_position(ts1,750,100)
     assert_object_position(l1,175,150,225,150)
     assert_object_position(l2,475,150,525,150)
     
     print("Basic schematic editor tests - Object selection/deselection tests - Left Click")
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(tb1)
     sleep(delay)
     assert_objects_selected(tb1)
-    assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(s1)
     sleep(delay)
     assert_objects_selected(s1)
-    assert_objects_deselected(tb1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s2,s3,s4,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(s2)
     sleep(delay)
     assert_objects_selected(s2)
-    assert_objects_deselected(tb1,s1,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s3,s4,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(s3)
     sleep(delay)
     assert_objects_selected(s3)
-    assert_objects_deselected(tb1,s1,s2,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s4,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(s4)
     sleep(delay)
     assert_objects_selected(s4)
-    assert_objects_deselected(s1,s2,s3,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,p1,p2,t1,l1,l2,i1,ts1)
     select_single_object(p1)
     sleep(delay)
     assert_objects_selected(p1)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p2,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p2,t1,l1,l2,i1,ts1)
     select_single_object(p2)
     sleep(delay)
     assert_objects_selected(p2)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,t1,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,t1,l1,l2,i1,ts1)
     select_single_object(t1)
     sleep(delay)
     assert_objects_selected(t1)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,l1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,l1,l2,i1,ts1)
     select_single_object(l1)
     sleep(delay)
     assert_objects_selected(l1)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l2,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l2,i1,ts1)
     select_single_object(l2)
     sleep(delay)
     assert_objects_selected(l2)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,i1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,i1,ts1)
+    select_single_object(ts1)
+    sleep(delay)
+    assert_objects_selected(ts1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     
-    print("Basic schematic editor tests - Object selection/deselection tests - Left Shift Click")
-    assert_objects_selected(l2)
+    print("Basic schematic editor tests - Object selection tests - Left Shift Click")
+    assert_objects_selected(ts1)
+    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    select_or_deselect_objects(l2)
+    sleep(delay)
+    assert_objects_selected(ts1,l2)
     assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,i1)
     select_or_deselect_objects(l1)
     sleep(delay)
-    assert_objects_selected(l1,l2)
+    assert_objects_selected(ts1,l1,l2)
     assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,i1)
     select_or_deselect_objects(s1)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1)
+    assert_objects_selected(ts1,l1,l2,s1)
     assert_objects_deselected(tb1,s2,s3,s4,p1,p2,t1,i1)
     select_or_deselect_objects(s2)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2)
+    assert_objects_selected(ts1,l1,l2,s1,s2)
     assert_objects_deselected(tb1,s3,s4,p1,p2,t1,i1)
     select_or_deselect_objects(s3)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3)
     assert_objects_deselected(tb1,s4,p1,p2,t1,i1)
     select_or_deselect_objects(s4)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3,s4)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3,s4)
     assert_objects_deselected(tb1,p1,p2,t1,i1)
     select_or_deselect_objects(p1)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3,s4,p1)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3,s4,p1)
     assert_objects_deselected(tb1,p2,t1,i1)
     select_or_deselect_objects(p2)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3,s4,p1,p2)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3,s4,p1,p2)
     assert_objects_deselected(tb1,t1,i1)
     select_or_deselect_objects(t1)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3,s4,p1,p2,t1)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3,s4,p1,p2,t1)
     assert_objects_deselected(tb1,i1)
     select_or_deselect_objects(i1)
     assert_objects_deselected(tb1)
     sleep(delay)
-    assert_objects_selected(l1,l2,s1,s2,s3,s4,p1,p2,t1,i1)
+    assert_objects_selected(ts1,l1,l2,s1,s2,s3,s4,p1,p2,t1,i1)
     assert_objects_deselected(tb1)
     select_or_deselect_objects(tb1)
     sleep(delay)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
-    # Object de-selection tests (Left Shift Click)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
+    
+    print("Basic schematic editor tests - Object deselection tests - Left Shift Click")
+    assert_objects_selected(ts1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
     select_or_deselect_objects(s1)
     sleep(delay)
-    assert_objects_selected(tb1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,s2,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1)
     select_or_deselect_objects(s2)
     sleep(delay)
-    assert_objects_selected(tb1,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2)
     select_or_deselect_objects(s3)
     sleep(delay)
-    assert_objects_selected(tb1,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,s4,p1,p2,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3)
     select_or_deselect_objects(s4)
     sleep(delay)
-    assert_objects_selected(tb1,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,p1,p2,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4)
     select_or_deselect_objects(p1)
     sleep(delay)
-    assert_objects_selected(tb1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,p2,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1)
     select_or_deselect_objects(p2)
     sleep(delay)
-    assert_objects_selected(tb1,t1,l1,l2,i1)
+    assert_objects_selected(ts1,t1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1,p2)
     select_or_deselect_objects(t1)
     sleep(delay)
-    assert_objects_selected(tb1,l1,l2,i1)
+    assert_objects_selected(ts1,l1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1)
     select_or_deselect_objects(l1)
     sleep(delay)
-    assert_objects_selected(tb1,l2,i1)
+    assert_objects_selected(ts1,l2,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1)
     select_or_deselect_objects(l2)
     sleep(delay)
-    assert_objects_selected(tb1,i1)
+    assert_objects_selected(ts1,i1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1,l2)
     select_or_deselect_objects(i1)
     sleep(delay)
-    assert_objects_selected(tb1)
+    assert_objects_selected(ts1,tb1)
     assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     select_or_deselect_objects(tb1)
     sleep(delay)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
-    
+    assert_objects_selected(ts1)
+    assert_objects_deselected(s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
+    select_or_deselect_objects(ts1)
+    sleep(delay)
+    assert_objects_deselected(ts1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1,tb1)
+
     print("Basic schematic editor tests - Test cancel of Line edit in progress")
     select_single_object(l1)
     sleep(delay)
     select_and_move_line_end(l1,1,20,95,delay=delay,test_cancel=True)
     assert_object_position(l1,175,150,225,150)
     select_and_move_line_end(l1,2,555,105,delay=delay,test_cancel=True)
     assert_object_position(l1,175,150,225,150)
@@ -363,90 +391,100 @@
     sleep(delay)
     assert_object_position(l1,25,100,550,100)
     assert_object_position(l2,650,100,800,100)
 
     print("Basic schematic editor tests - Test cancel of Area selection in progress")
     select_area(10,10,850,200,delay=delay,test_cancel=True)
     sleep(delay)
-    assert_objects_deselected(i1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
+    assert_objects_deselected(i1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,ts1)
     
     print("Basic schematic editor tests - Area selection and move of selected objects (snap-to-grid on)")
     select_area(10,10,850,200,delay=delay)
     sleep(delay)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
+    assert_objects_selected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
     assert_objects_deselected(i1)
-    # Test move of selected objects (note s3 position was 400,100)
-    select_and_move_objects(s3,450,150,delay=delay) 
+    # Test move of selected objects (+50,+50) - (note s3 position was 400,100)
+    select_and_move_objects(s3,445,145,delay=delay) 
     sleep(delay)
-    assert_object_position(tb1,450,75)
-    assert_object_position(s1,150,150)
-    assert_object_position(s2,300,150)
-    assert_object_position(s3,450,150)
-    assert_object_position(s4,550,150)
-    assert_object_position(p1,625,150)
-    assert_object_position(p2,675,150)
-    assert_object_position(t1,750,150)
-    assert_object_position(l1,75,150,600,150)
-    assert_object_position(l2,700,150,850,150)
-    
+    assert_object_position(tb1,450,75)          # was 400,25
+    assert_object_position(s1,150,150)          # was 100,100
+    assert_object_position(s2,300,150)          # was 250,100
+    assert_object_position(s3,450,150)          # was 400,100
+    assert_object_position(s4,550,150)          # was 500,100
+    assert_object_position(p1,625,150)          # was 575,100
+    assert_object_position(p2,675,150)          # was 625,100
+    assert_object_position(t1,750,150)          # was 700,100
+    assert_object_position(l1,75,150,600,150)   # was 25,100 and 550,100
+    assert_object_position(l2,700,150,850,150)  # was 650,100 and 800,150
+    assert_object_position(ts1,800,150)         # was 750,100
+    assert_object_position(i1,200,300)          # will not have moved
+
     print("Basic schematic editor tests - Area selection and move of selected objects (snap-to-grid off)")
     toggle_snap_to_grid()
     sleep(delay)
-    # Test move of selected objects (note s3 position was 450,150)
+    # Test move of selected objects (+10,+10) - (note s3 position was 450,150)
     select_and_move_objects(s3,460,160,delay=delay) 
     sleep(delay)
     assert_object_position(tb1,460,85)
     assert_object_position(s1,160,160)
     assert_object_position(s2,310,160)
     assert_object_position(s3,460,160)
     assert_object_position(s4,560,160)
     assert_object_position(p1,635,160)
     assert_object_position(p2,685,160)
     assert_object_position(t1,760,160)
     assert_object_position(l1,85,160,610,160)
     assert_object_position(l2,710,160,860,160)
+    assert_object_position(ts1,810,160)         
+    assert_object_position(i1,200,300)          # will not have moved
     # Test snap to grid of selected objects (note s3 position was 440,140)
     snap_selected_objects_to_grid()
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
     assert_object_position(s2,300,150)
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
-    # Test move of selected objects (note s3 position was 450,150 after the snap to grid)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
+    # Test move of selected objects (-10,-10) - (note s3 position was 450,150 after the snap to grid)
     select_and_move_objects(s3,440,140,delay=delay) 
     sleep(delay)
     assert_object_position(tb1,440,65)
     assert_object_position(s1,140,140)
     assert_object_position(s2,290,140)
     assert_object_position(s3,440,140)
     assert_object_position(s4,540,140)
     assert_object_position(p1,615,140)
     assert_object_position(p2,665,140)
     assert_object_position(t1,740,140)
     assert_object_position(l1,65,140,590,140)
     assert_object_position(l2,690,140,840,140)
+    assert_object_position(ts1,790,140)         
+    assert_object_position(i1,200,300)          # will not have moved
     # Test snap to grid of selected objects (note s3 position was 440,140)
     snap_selected_objects_to_grid()
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
     assert_object_position(s2,300,150)
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     toggle_snap_to_grid()
     sleep(delay)
         
     print("Basic schematic editor tests - Nudging of selected objects (arrow keys) - snap to grid ON")
     # Test nudging of selected objects - Snap to grid is ON by default
     # so the objects will be nudged by the grid value (25 pixels)
     nudge_selected_objects("Right")
@@ -457,50 +495,58 @@
     assert_object_position(s3,475,150)
     assert_object_position(s4,575,150)
     assert_object_position(p1,650,150)
     assert_object_position(p2,700,150)
     assert_object_position(t1,775,150)
     assert_object_position(l1,100,150,625,150)
     assert_object_position(l2,725,150,875,150)
+    assert_object_position(ts1,825,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     nudge_selected_objects("Down")
     sleep(delay)
     assert_object_position(tb1,475,100)
     assert_object_position(s1,175,175)
     assert_object_position(s2,325,175)
     assert_object_position(s3,475,175)
     assert_object_position(s4,575,175)
     assert_object_position(p1,650,175)
     assert_object_position(p2,700,175)
     assert_object_position(t1,775,175)
     assert_object_position(l1,100,175,625,175)
     assert_object_position(l2,725,175,875,175)
+    assert_object_position(ts1,825,175)         
+    assert_object_position(i1,200,300)          # will not have moved
     nudge_selected_objects("Left")
     sleep(delay)
     assert_object_position(tb1,450,100)
     assert_object_position(s1,150,175)
     assert_object_position(s2,300,175)
     assert_object_position(s3,450,175)
     assert_object_position(s4,550,175)
     assert_object_position(p1,625,175)
     assert_object_position(p2,675,175)
     assert_object_position(t1,750,175)
     assert_object_position(l1,75,175,600,175)
     assert_object_position(l2,700,175,850,175)
+    assert_object_position(ts1,800,175)         
+    assert_object_position(i1,200,300)          # will not have moved
     nudge_selected_objects("Up")
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
     assert_object_position(s2,300,150)
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     
     print("Basic schematic editor tests - Nudging of selected objects (arrow keys) - snap to grid OFF")
     # Test Nudging of object with snap to grid off - objects will be nudged by 1 pixel
     toggle_snap_to_grid()
     sleep(delay)
     nudge_selected_objects("Down")
     sleep(delay)
@@ -520,14 +566,16 @@
     assert_object_position(s3,453,153)
     assert_object_position(s4,553,153)
     assert_object_position(p1,628,153)
     assert_object_position(p2,678,153)
     assert_object_position(t1,753,153)
     assert_object_position(l1,78,153,603,153)
     assert_object_position(l2,703,153,853,153)
+    assert_object_position(ts1,803,153)         
+    assert_object_position(i1,200,300)          # will not have moved
     
     print("Basic schematic editor tests - Snap to grid of selected objects (s-key)")
     # Test Snap to grid
     snap_selected_objects_to_grid()
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
@@ -535,14 +583,16 @@
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     sleep(delay)
     # Test Nudging of object in the other direction with snap to grid off
     nudge_selected_objects("Up")
     sleep(delay)
     nudge_selected_objects("Up")
     sleep(delay)
     nudge_selected_objects("Up")
@@ -559,39 +609,43 @@
     assert_object_position(s3,447,147)
     assert_object_position(s4,547,147)
     assert_object_position(p1,622,147)
     assert_object_position(p2,672,147)
     assert_object_position(t1,747,147)
     assert_object_position(l1,72,147,597,147)
     assert_object_position(l2,697,147,847,147)
+    assert_object_position(ts1,797,147)         
+    assert_object_position(i1,200,300)          # will not have moved
     snap_selected_objects_to_grid()
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
     assert_object_position(s2,300,150)
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     sleep(delay)
     # Re-enable snap to grid
     toggle_snap_to_grid()
     sleep(delay)
     
     print("Basic schematic editor tests - Scrolling of canvas area (arrow keys)")
     # Test scrolling of the canvas (Arrow keys when no objects selected).
     # We first have to force a re-size of the root window to make it smaller than the canvas size
     run_function(lambda:schematic.root.geometry("500x300"))
     sleep(0.5)
     deselect_all_objects()
     sleep(delay)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     nudge_selected_objects("Right")
     sleep(delay)
     nudge_selected_objects("Right")
     sleep(delay)
     nudge_selected_objects("Down")
     sleep(delay)
     nudge_selected_objects("Down")
@@ -606,33 +660,35 @@
     sleep(delay)
     reset_window_size()
     sleep(delay)
     
     print("Basic schematic editor tests - Cancel of move in progress (esc-key)")
     # Test cancel of a move in progress (note s3 start position is 450,150)
     select_area(60,60,900,250,delay=delay)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
+    assert_objects_selected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
     assert_objects_deselected(i1)
     select_and_move_objects(s3,403,98,delay=delay,test_cancel=True) 
     sleep(delay)
     assert_object_position(tb1,450,75)
     assert_object_position(s1,150,150)
     assert_object_position(s2,300,150)
     assert_object_position(s3,450,150)
     assert_object_position(s4,550,150)
     assert_object_position(p1,625,150)
     assert_object_position(p2,675,150)
     assert_object_position(t1,750,150)
     assert_object_position(l1,75,150,600,150)
     assert_object_position(l2,700,150,850,150)
+    assert_object_position(ts1,800,150)         
+    assert_object_position(i1,200,300)          # will not have moved
     
     print("Basic schematic editor tests - Rotation of signals and points (r-key)")
     select_all_objects()    
     sleep(delay)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     assert_object_configuration(s1,{"orientation" : 0})
     assert_object_configuration(s2,{"orientation" : 0})
     assert_object_configuration(s3,{"orientation" : 0})
     assert_object_configuration(s4,{"orientation" : 0})
     assert_object_configuration(p1,{"orientation" : 0})
     assert_object_configuration(p2,{"orientation" : 0})
     rotate_selected_objects()
@@ -652,48 +708,48 @@
     assert_object_configuration(p1,{"orientation" : 0})
     assert_object_configuration(p2,{"orientation" : 0})
     
     print("Basic schematic editor tests - Copy and paste selected objects (Cntl-c/Cntl-v)")
     # Test copy and paste and then move (not the block instrument)
     select_or_deselect_objects(i1)
     sleep(delay)
-    assert_objects_selected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
+    assert_objects_selected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
     assert_objects_deselected(i1)
     copy_selected_objects()
     sleep(delay)
     new_objects = paste_clipboard_objects()
-    [tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12] = new_objects
+    [ts11,tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12] = new_objects
     sleep(delay)
-    assert_objects_selected(tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts11,tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
+    assert_objects_deselected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     # Select the Track section (should not be overlayed)
     select_and_move_objects(t11,750,75,delay=delay)
     sleep(delay)
     
     print("Basic schematic editor tests - Delete selected objects (backspace-key)")
     # Test delete of selected objects
-    assert_objects_selected(tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_selected(ts11,tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
+    assert_objects_deselected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     delete_selected_objects()
     sleep(delay)
-    assert_objects_do_not_exist(tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
-    assert_objects_exist(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_do_not_exist(ts11,tb11,s11,s12,s13,s14,p11,p12,t11,l11,l12)
+    assert_objects_exist(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     
     print("Basic schematic editor tests - Copy and paste selected objects (Cntl-c/Cntl-v)")
     # Finally test copy/paste of block instrument
     select_single_object(i1)
     sleep(delay)
     assert_objects_selected(i1)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
+    assert_objects_deselected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2)
     copy_selected_objects()
     sleep(delay)
     new_objects = paste_clipboard_objects()
     [i11] = new_objects
     assert_objects_selected(i11)
-    assert_objects_deselected(tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
+    assert_objects_deselected(ts1,tb1,s1,s2,s3,s4,p1,p2,t1,l1,l2,i1)
     sleep(delay)
     # Select and move the original instrument (as this will get selected if we try to select the new one)
     select_and_move_objects(i1,600,325,delay=delay)
     assert_object_position(i1,600,325)
     
     # clean up
     sleep(delay)
@@ -897,16 +953,16 @@
     return()
 
 ######################################################################################################
 
 def run_all_schematic_editor_tests(delay:float=0.0, shutdown:bool=False):
     initialise_test_harness()
     set_edit_mode()
-    run_basic_editor_tests(delay)
     run_object_edit_window_tests(delay)
+    run_basic_editor_tests(delay)
     run_undo_and_redo_tests(delay)
     if shutdown: report_results()
     
 if __name__ == "__main__":
     start_application(lambda:run_all_schematic_editor_tests(delay=0.0, shutdown=True))
 
 ###############################################################################################################################
```

### Comparing `model_railway_signals-4.1.0/user_guide/quickstart_example1.sig` & `model_railway_signals-4.2.0/user_guide/quickstart_example1.sig`

 * *Files 1% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9958109934991312%*

 * *Differences: {"'objects'": "{'1e2616e2-21cc-4c34-8d93-b87e683e0284': {'bbox': 578, 'end1': 574, 'end2': 575, "*

 * *              "'line': 573, 'stop1': 576, 'stop2': 577}, '338a06f5-049d-454e-9e8f-e032ab9ca9cb': "*

 * *              "{'bbox': 581}, '3495a936-bc8d-4393-9abe-3520edcb0d9d': {'bbox': 584}, "*

 * *              "'40efa244-6879-4bbd-b880-9eeb70373504': {'bbox': 587}, "*

 * *              "'43fd9649-cff7-437a-b405-2811fc777a5f': {'bbox': 590}, "*

 * *              "'4576da32-1464-4dad-92d8-5e3e06ee59e3': {'bbox': 593}, "*

 * *             […]*

```diff
@@ -5,45 +5,45 @@
         "1e2616e2-21cc-4c34-8d93-b87e683e0284": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3377,
+            "bbox": 578,
             "colour": "black",
-            "end1": 3373,
-            "end2": 3374,
+            "end1": 574,
+            "end2": 575,
             "endx": 525.0,
             "endy": 200.0,
             "item": "line",
             "itemid": 4,
-            "line": 3372,
+            "line": 573,
             "posx": 300.0,
             "posy": 200.0,
-            "stop1": 3375,
-            "stop2": 3376,
+            "stop1": 576,
+            "stop2": 577,
             "tags": "line4"
         },
         "338a06f5-049d-454e-9e8f-e032ab9ca9cb": {
-            "bbox": 3380,
+            "bbox": 581,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 4,
             "label": "XXXXX",
             "mirror": "",
             "posx": 775.0,
             "posy": 250.0,
             "state": false,
             "tags": "section4"
         },
         "3495a936-bc8d-4393-9abe-3520edcb0d9d": {
             "background": "#18bbd9",
-            "bbox": 3383,
+            "bbox": 584,
             "border": 1,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -51,15 +51,15 @@
             "posx": 775.0,
             "posy": 175.0,
             "tags": "3495a936-bc8d-4393-9abe-3520edcb0d9d",
             "text": "     Platform 2     "
         },
         "40efa244-6879-4bbd-b880-9eeb70373504": {
             "background": "grey85",
-            "bbox": 3386,
+            "bbox": 587,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -67,15 +67,15 @@
             "posx": 125.0,
             "posy": 250.0,
             "tags": "40efa244-6879-4bbd-b880-9eeb70373504",
             "text": "The rest of \nthe world"
         },
         "43fd9649-cff7-437a-b405-2811fc777a5f": {
             "background": "grey85",
-            "bbox": 3389,
+            "bbox": 590,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -83,15 +83,15 @@
             "posx": 125.0,
             "posy": 181.0,
             "tags": "43fd9649-cff7-437a-b405-2811fc777a5f",
             "text": "Next Train"
         },
         "4576da32-1464-4dad-92d8-5e3e06ee59e3": {
             "background": "#18bbd9",
-            "bbox": 3392,
+            "bbox": 593,
             "border": 1,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -109,15 +109,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3411,
+            "bbox": 612,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1179,45 +1179,45 @@
         "5e1d004d-aead-44c5-b51e-c48af4a29575": {
             "arrowends": 1,
             "arrowtype": [
                 20,
                 20,
                 5
             ],
-            "bbox": 3417,
+            "bbox": 618,
             "colour": "black",
-            "end1": 3413,
-            "end2": 3414,
+            "end1": 614,
+            "end2": 615,
             "endx": 525.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 1,
-            "line": 3412,
+            "line": 613,
             "posx": 175.0,
             "posy": 250.0,
-            "stop1": 3415,
-            "stop2": 3416,
+            "stop1": 616,
+            "stop2": 617,
             "tags": "line1"
         },
         "6788feaa-a049-4d62-978c-faa6f4dfd967": {
-            "bbox": 3420,
+            "bbox": 621,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 1,
             "label": "XXXXX",
             "mirror": "",
             "posx": 125.0,
             "posy": 200.0,
             "state": false,
             "tags": "section1"
         },
         "87f435df-8da5-4999-b3ef-e7ea67977c03": {
             "background": "grey85",
-            "bbox": 3423,
+            "bbox": 624,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -1230,46 +1230,46 @@
         "93406d3b-2a78-455f-b5cd-3fcd1fcdf640": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3429,
+            "bbox": 630,
             "colour": "black",
-            "end1": 3425,
-            "end2": 3426,
+            "end1": 626,
+            "end2": 627,
             "endx": 875.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 3,
-            "line": 3424,
+            "line": 625,
             "posx": 575.0,
             "posy": 250.0,
-            "stop1": 3427,
-            "stop2": 3428,
+            "stop1": 628,
+            "stop2": 629,
             "tags": "line3"
         },
         "970e8948-a116-4023-847b-2e9269c0fa74": {
-            "bbox": 3432,
+            "bbox": 633,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 2,
             "label": "XXXXX",
             "mirror": "",
             "posx": 375.0,
             "posy": 250.0,
             "state": false,
             "tags": "section2"
         },
         "990769c5-58eb-435b-befb-21b9263321b4": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 3439,
+            "bbox": 638,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 2,
             "itemtype": 2,
@@ -1288,15 +1288,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3451,
+            "bbox": 650,
             "dccaspects": [
                 [
                     [
                         400,
                         true
                     ],
                     [
@@ -2352,15 +2352,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "abc1ad1d-e1b2-4129-a1eb-e33844a0166d": {
-            "bbox": 3454,
+            "bbox": 653,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 5,
             "label": "XXXXX",
             "mirror": "",
             "posx": 375.0,
@@ -2376,15 +2376,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3474,
+            "bbox": 673,
             "dccaspects": [
                 [
                     [
                         200,
                         true
                     ],
                     [
@@ -3442,15 +3442,15 @@
                     ]
                 ]
             ]
         },
         "b3241207-0377-4e6e-aeac-6cb08691c888": {
             "alsoswitch": 2,
             "automatic": false,
-            "bbox": 3481,
+            "bbox": 680,
             "colour": "black",
             "dccaddress": 1000,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -3520,15 +3520,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3500,
+            "bbox": 699,
             "dccaspects": [
                 [
                     [
                         100,
                         true
                     ],
                     [
@@ -4595,15 +4595,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3519,
+            "bbox": 718,
             "dccaspects": [
                 [
                     [
                         300,
                         true
                     ],
                     [
@@ -5665,31 +5665,31 @@
         "edeaa287-51fb-4b4c-99f1-d7df71e937ca": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3525,
+            "bbox": 724,
             "colour": "black",
-            "end1": 3521,
-            "end2": 3522,
+            "end1": 720,
+            "end2": 721,
             "endx": 875.0,
             "endy": 200.0,
             "item": "line",
             "itemid": 2,
-            "line": 3520,
+            "line": 719,
             "posx": 575.0,
             "posy": 200.0,
-            "stop1": 3523,
-            "stop2": 3524,
+            "stop1": 722,
+            "stop2": 723,
             "tags": "line2"
         },
         "fc5c18e4-b05c-4941-9c64-476d0ae651a2": {
-            "bbox": 3528,
+            "bbox": 727,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 3,
             "label": "XXXXX",
             "mirror": "",
             "posx": 775.0,
@@ -5717,17 +5717,18 @@
             "height": 500,
             "snaptogrid": true,
             "width": 1000
         },
         "general": {
             "automation": true,
             "editmode": true,
-            "filename": "/home/pi/model-railway-signalling/user_guide/quickstart_example1.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/user_guide/quickstart_example1.sig",
             "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [
                 [
                     1,
                     4
                 ],
```

### Comparing `model_railway_signals-4.1.0/user_guide/quickstart_example2.sig` & `model_railway_signals-4.2.0/user_guide/quickstart_example2.sig`

 * *Files 1% similar despite different names*

#### Pretty-printed

 * *Similarity: 0.9958109934991312%*

 * *Differences: {"'objects'": "{'1e2616e2-21cc-4c34-8d93-b87e683e0284': {'bbox': 794, 'end1': 790, 'end2': 791, "*

 * *              "'line': 789, 'stop1': 792, 'stop2': 793}, '338a06f5-049d-454e-9e8f-e032ab9ca9cb': "*

 * *              "{'bbox': 796}, '3495a936-bc8d-4393-9abe-3520edcb0d9d': {'bbox': 799}, "*

 * *              "'40efa244-6879-4bbd-b880-9eeb70373504': {'bbox': 802}, "*

 * *              "'43fd9649-cff7-437a-b405-2811fc777a5f': {'bbox': 805}, "*

 * *              "'4576da32-1464-4dad-92d8-5e3e06ee59e3': {'bbox': 808}, "*

 * *             […]*

```diff
@@ -5,45 +5,45 @@
         "1e2616e2-21cc-4c34-8d93-b87e683e0284": {
             "arrowends": 1,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3595,
+            "bbox": 794,
             "colour": "black",
-            "end1": 3591,
-            "end2": 3592,
+            "end1": 790,
+            "end2": 791,
             "endx": 525.0,
             "endy": 200.0,
             "item": "line",
             "itemid": 4,
-            "line": 3590,
+            "line": 789,
             "posx": 300.0,
             "posy": 200.0,
-            "stop1": 3593,
-            "stop2": 3594,
+            "stop1": 792,
+            "stop2": 793,
             "tags": "line4"
         },
         "338a06f5-049d-454e-9e8f-e032ab9ca9cb": {
-            "bbox": 3597,
+            "bbox": 796,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 4,
             "label": "XXXXX",
             "mirror": "",
             "posx": 775.0,
             "posy": 250.0,
             "state": false,
             "tags": "section4"
         },
         "3495a936-bc8d-4393-9abe-3520edcb0d9d": {
             "background": "#18bbd9",
-            "bbox": 3600,
+            "bbox": 799,
             "border": 1,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -51,15 +51,15 @@
             "posx": 775.0,
             "posy": 175.0,
             "tags": "3495a936-bc8d-4393-9abe-3520edcb0d9d",
             "text": "     Platform 2     "
         },
         "40efa244-6879-4bbd-b880-9eeb70373504": {
             "background": "grey85",
-            "bbox": 3603,
+            "bbox": 802,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -67,15 +67,15 @@
             "posx": 125.0,
             "posy": 250.0,
             "tags": "40efa244-6879-4bbd-b880-9eeb70373504",
             "text": "The rest of \nthe world"
         },
         "43fd9649-cff7-437a-b405-2811fc777a5f": {
             "background": "grey85",
-            "bbox": 3606,
+            "bbox": 805,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -83,15 +83,15 @@
             "posx": 125.0,
             "posy": 181.0,
             "tags": "43fd9649-cff7-437a-b405-2811fc777a5f",
             "text": "Next Train"
         },
         "4576da32-1464-4dad-92d8-5e3e06ee59e3": {
             "background": "#18bbd9",
-            "bbox": 3609,
+            "bbox": 808,
             "border": 1,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -109,15 +109,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3637,
+            "bbox": 836,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -1179,45 +1179,45 @@
         "5e1d004d-aead-44c5-b51e-c48af4a29575": {
             "arrowends": 1,
             "arrowtype": [
                 20,
                 20,
                 5
             ],
-            "bbox": 3643,
+            "bbox": 842,
             "colour": "black",
-            "end1": 3639,
-            "end2": 3640,
+            "end1": 838,
+            "end2": 839,
             "endx": 525.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 1,
-            "line": 3638,
+            "line": 837,
             "posx": 175.0,
             "posy": 250.0,
-            "stop1": 3641,
-            "stop2": 3642,
+            "stop1": 840,
+            "stop2": 841,
             "tags": "line1"
         },
         "6788feaa-a049-4d62-978c-faa6f4dfd967": {
-            "bbox": 3645,
+            "bbox": 844,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 1,
             "label": "XXXXX",
             "mirror": "",
             "posx": 125.0,
             "posy": 200.0,
             "state": false,
             "tags": "section1"
         },
         "87f435df-8da5-4999-b3ef-e7ea67977c03": {
             "background": "grey85",
-            "bbox": 3648,
+            "bbox": 847,
             "border": 0,
             "colour": "black",
             "font": "Courier",
             "fontsize": 10,
             "fontstyle": "",
             "item": "textbox",
             "itemid": 0,
@@ -1230,46 +1230,46 @@
         "93406d3b-2a78-455f-b5cd-3fcd1fcdf640": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3654,
+            "bbox": 853,
             "colour": "black",
-            "end1": 3650,
-            "end2": 3651,
+            "end1": 849,
+            "end2": 850,
             "endx": 875.0,
             "endy": 250.0,
             "item": "line",
             "itemid": 3,
-            "line": 3649,
+            "line": 848,
             "posx": 575.0,
             "posy": 250.0,
-            "stop1": 3652,
-            "stop2": 3653,
+            "stop1": 851,
+            "stop2": 852,
             "tags": "line3"
         },
         "970e8948-a116-4023-847b-2e9269c0fa74": {
-            "bbox": 3656,
+            "bbox": 855,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 2,
             "label": "XXXXX",
             "mirror": "",
             "posx": 375.0,
             "posy": 250.0,
             "state": false,
             "tags": "section2"
         },
         "990769c5-58eb-435b-befb-21b9263321b4": {
             "alsoswitch": 0,
             "automatic": true,
-            "bbox": 3663,
+            "bbox": 860,
             "colour": "black",
             "dccaddress": 0,
             "dccreversed": false,
             "hasfpl": false,
             "item": "point",
             "itemid": 2,
             "itemtype": 2,
@@ -1288,15 +1288,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3672,
+            "bbox": 869,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -2352,15 +2352,15 @@
                         0,
                         0
                     ]
                 ]
             ]
         },
         "abc1ad1d-e1b2-4129-a1eb-e33844a0166d": {
-            "bbox": 3674,
+            "bbox": 871,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 5,
             "label": "XXXXX",
             "mirror": "",
             "posx": 375.0,
@@ -2376,15 +2376,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3704,
+            "bbox": 901,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -3442,15 +3442,15 @@
                     ]
                 ]
             ]
         },
         "b3241207-0377-4e6e-aeac-6cb08691c888": {
             "alsoswitch": 2,
             "automatic": false,
-            "bbox": 3711,
+            "bbox": 908,
             "colour": "black",
             "dccaddress": 1000,
             "dccreversed": false,
             "hasfpl": true,
             "item": "point",
             "itemid": 1,
             "itemtype": 2,
@@ -3520,15 +3520,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3742,
+            "bbox": 939,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -4595,15 +4595,15 @@
                 0,
                 0
             ],
             "approachsensor": [
                 false,
                 ""
             ],
-            "bbox": 3770,
+            "bbox": 967,
             "dccaspects": [
                 [
                     [
                         0,
                         false
                     ],
                     [
@@ -5665,31 +5665,31 @@
         "edeaa287-51fb-4b4c-99f1-d7df71e937ca": {
             "arrowends": 2,
             "arrowtype": [
                 1,
                 1,
                 1
             ],
-            "bbox": 3776,
+            "bbox": 973,
             "colour": "black",
-            "end1": 3772,
-            "end2": 3773,
+            "end1": 969,
+            "end2": 970,
             "endx": 875.0,
             "endy": 200.0,
             "item": "line",
             "itemid": 2,
-            "line": 3771,
+            "line": 968,
             "posx": 575.0,
             "posy": 200.0,
-            "stop1": 3774,
-            "stop2": 3775,
+            "stop1": 971,
+            "stop2": 972,
             "tags": "line2"
         },
         "fc5c18e4-b05c-4941-9c64-476d0ae651a2": {
-            "bbox": 3778,
+            "bbox": 975,
             "defaultlabel": "XXXXX",
             "editable": true,
             "item": "section",
             "itemid": 3,
             "label": "XXXXX",
             "mirror": "",
             "posx": 775.0,
@@ -5738,17 +5738,18 @@
             "height": 500,
             "snaptogrid": true,
             "width": 1000
         },
         "general": {
             "automation": true,
             "editmode": false,
-            "filename": "/home/pi/model-railway-signalling/user_guide/quickstart_example2.sig",
+            "filename": "/home/pi/Software/model-railway-signalling/user_guide/quickstart_example2.sig",
             "info": "Document your layout here",
-            "version": "Version 4.1.0"
+            "spadpopups": false,
+            "version": "Version 4.2.0"
         },
         "gpio": {
             "portmappings": [
                 [
                     1,
                     4
                 ],
```

### Comparing `model_railway_signals-4.1.0/user_guide/quickstart_guide.pdf` & `model_railway_signals-4.2.0/user_guide/quickstart_guide.pdf`

 * *Files 4% similar despite different names*

#### Comparing `model_railway_signals-4.1.0/user_guide/quickstart_guide.pdf` & `model_railway_signals-4.2.0/user_guide/quickstart_guide.pdf`

 * *Document info*

```diff
@@ -1,3 +1,3 @@
-CreationDate: "D:20240119171419Z'"
+CreationDate: "D:20240325140747Z'"
 Creator: 'Writer'
 Producer: 'LibreOffice 6.1'
```

#### pdftotext {} -

```diff
@@ -1,11 +1,12 @@
 https://www.model-railway-signalling.co.uk/
 © DCC Model Railway Signalling. All Rights Reserved.
 
 Signalling Application Quick-start Guide
+Version 2 – March 2024
 This guide is intended to provide an introduction to the Model Railway Signalling Application and
 the art of the possible in terms of the signalling configurations that can be achieved.
 However, as always, Rule 1 of Railway Modeling applies – it’s your layout and its therefore entirely
 up to you how you signal your layout. Hopefully the features provided by the application will
 enable you to achieve whatever level of realism you want to achieve.
 If you have a purchased a DCC Signalling System from DCC Model Railway Signalling then the
 example layouts used in this guide can be found in the ‘user_guide’ folder. If you are just using the
@@ -20,21 +21,21 @@
 Planning your signalling scheme..........................................................................................................6
 Adding signals to the layout schematic................................................................................................7
 Configuring the basic interlocking.......................................................................................................9
 Testing the basic interlocking.............................................................................................................12
 Operating your Layout.......................................................................................................................14
 Adding and configuring track occupancy...........................................................................................15
 Testing track occupancy changes.......................................................................................................17
-Configuring external track sensors.....................................................................................................19
-Interlocking with Track Sections........................................................................................................20
-Saving and loading your layout..........................................................................................................22
-An automation example......................................................................................................................23
-Still to discover...................................................................................................................................28
-Appendix 1 - Using semaphore signals..............................................................................................29
-Appendix 2 - DCC programming of signals and points.....................................................................30
+Configuring the GPIO sensors............................................................................................................19
+Interlocking with Track Sections........................................................................................................21
+Saving and loading your layout..........................................................................................................23
+An automation example......................................................................................................................24
+Still to discover...................................................................................................................................29
+Appendix 1 - Using semaphore signals..............................................................................................30
+Appendix 2 - DCC programming of signals and points.....................................................................31
 
 Introduction
 The application enables users to easily create, configure and control prototypical interlocked
 signalling schemes for model railway layouts, without the need for complex layout wiring. All
 layout configuration and control is achieved via the application’s graphical user interface, avoiding
 the need for specialist computer skills (if you use PC applications, you should be able to use this).
 The application has primarily been developed to run on a Raspberry Pi computer, hosting a PiSPROG DCC programmer controller:
@@ -116,19 +117,19 @@
 
 SPROG DCC
 controls
 GO HERE
 FIRST !!!
 
 Signals
-
 Points
-
-Track
+Track Occupancy
 Sections
+Intermediate
+Track sensors
 Block
 Instruments
 
 Firstly, open the Help Window from the Main Menubar ( Help => Help) to familiarise yourself
 with the basic Schematic Editor functions and practice creating, moving and deleting objects:
 •
 •
@@ -622,15 +623,15 @@
 Signal 1 LH1 Route - from the rest of the world
 
 Signal 2 MAIN Route - out to the rest of the world
 Signal2 RH1 route – back into the siding
 
 Testing track occupancy changes
 Once all signals have been configured, track occupancy changes can be tested (in RUN mode).
-Although we haven’t configured any external track sensors, the ‘signal passed’ events to trigger
+Although we haven’t configured any external GPIO sensors, the ‘signal passed’ events to trigger
 track occupancy changes can be simulated by clicking on the buttons at the base of each signal.
 On entering RUN mode, all track sections will initially show as CLEAR (greyed out). To set up the
 ‘next train’ to run into the layout, right-click on the track section and enter an appropriate train
 designation code (for this example we’ll use ‘HST’ for simplicity). Once entered, this will set the
 track section to OCCUPIED (signified by white text on a black background). Track sections can
 also be toggled between OCCUPIED and CLEAR by left-clicking on them.
 Right-click to enter a train
@@ -642,21 +643,25 @@
 
 Other track sections
 remain CLEAR
 
 To simulate a train movement from the rest of the world into Platform 2, first configure the route
 into platform 2 (ensure all signals are ‘ON’, release the FPL for point 1, switch the point and then
 re-activate the FPL) and then clear the route by setting Signal 1 to ‘OFF’.
-Note that, apart from distant and shunt-ahead signals, the signal must be off ‘OFF’ for ‘signal
-passed’ events to trigger track occupancy changes. As per the ‘real thing’, it is the driver’s
-responsibility not to pass a signal at danger!
 
 Route set and cleared from the
 Rest of the world into Platform 2
 
+As per the ‘real thing’, it is the driver’s responsibility not to pass a signal at danger, but if you want
+to shame the drivers then the application can be configured to generate popup Signal Passed At
+Danger (SPAD) warnings (select Settings and then General to enable).
+
+Check Box and click OK or APPLY
+to enable popup SPAD warnings
+
 Next, trigger a ‘signal passed’ event for Signal 5 by left-clicking on the small button at the base of
 the signal to ‘pass’ the train onto the next track section.
 
 Track Section
 Is now CLEAR
 
 Click on the button to simulate
@@ -694,50 +699,64 @@
 
 The rest of the world to Platform 1
 
 •
 
 Platform 1 to the rest of the world
 
-But Remember, signals need to be ‘OFF ‘to pass trains onto the next track section so all
-signals need to be set and cleared for the route you are going to test.
-
-Configuring external track sensors
-The benefit of using the Raspberry-Pi is that we can connect external track sensors into the GPIO
-ports of the Raspberry-Pi and use them to trigger the ‘signal passed’ events.
-Firstly, we need to define the physical GPIO pins we want to use for track sensors. To do this, open
-the GPIO Sensors window by selecting Settings => Sensors from the Main Menubar. Individual
-‘track sensors’ can then be associated with each of the GPIO inputs.
-Note that only a subset of GPIO inputs are available for track sensors (4, 5, 6, 12, 13, and 18
-to 27) . All other GPIO pins must remain unconnected.
-For this example, we’ll allocate ‘track sensors’ to each signal, matching the numbering of each
-signal. To do this, just enter a unique identifier for the ‘track sensor’ against the required GPIO port
+Configuring the GPIO sensors
+The benefit of using the Raspberry-Pi is that we can connect external sensors into the GPIO ports of
+the Raspberry-Pi and use them to trigger the ‘signal passed’ events.
+Firstly, we need to define the physical GPIO pins we want to use for each GPIO sensor. To do this,
+open the GPIO Sensors window by selecting Settings => GPIO from the Main Menubar.
+Individual ‘GPIO sensors’ can then be associated with each of the GPIO ports.
+Note that only a subset of GPIO ports are available for use by the signalling application.
+Never connect external sensors to the unsupported GPIO inputs (1, 2, 3, 14, 15, 16, 17)
+For this example, we’ll allocate ‘GPIO sensors’ to each signal, matching the numbering of each
+signal. To do this, just enter a unique identifier for the ‘GPIO sensor’ against the required GPIO port
 (this identifier will be the identifier we will use when subsequently configuring the signals). We
 have a total of 5 signals so need to allocate a total of 5 Sensors, each mapped to a GPIO port.
 
-A trigger on GPIO input 4
-Will trigger “Track Sensor 1”
-A trigger on GPIO input 5
-Will trigger “Track Sensor 2”
+A trigger on GPIO port 4
+Will trigger “GPIO Sensor 1”
+A trigger on GPIO port 5
+Will trigger “GPIO Sensor 2”
+A trigger on GPIO port 6
+Will trigger “GPIO Sensor 3”
 
 Etc
 
-Each signal then needs to be configured to use a Track Sensor to generate the ‘signal passed’ event.
+Each signal then needs to be configured to use a GPIO Sensor to generate the ‘signal passed’ event.
 This configuration is defined via the Automation tab of the signal configuration dialog.
 
 Map each signal to its
-Associated track sensor
+Associated GPIO sensor
 (Signal 1 => Sensor 1 etc)
 
-Once all signals have been mapped to their associated track sensors, ‘signal passed’ events will be
-triggered whenever the associated GPIO input is taken down to 0V.
-Normally Open (closed when triggered) sensors can be connected directly between the appropriate
-GPIO input pin and a 0V DC pin (available on the GPIO header).
-Note that other sensor types (providing a switched voltage) should never be connected directly
+Once all signals have been mapped to their associated GPIO sensors, ‘signal passed’ events will be
+triggered whenever the associated GPIO port is connected to 0V.
+Normally Open (closed when triggered) sensors can therefore be connected directly between the
+appropriate GPIO input pin and a 0V DC pin (available on the GPIO header).
+
+Note that other sensor types (providing a switched voltage) should never be connected directly
 to the GPIO pins as this could damage the Raspberry-Pi. In these cases, external optoisolators are recommended to protect the GPIO input pins.
+Re-opening the GPIO settings window will now display all Signal mappings to provide an overview
+of the GPIO sensors (and GPIO Ports) used in the layout configuration.
+
+A trigger on GPIO port 4
+Will trigger “GPIO Sensor 1”
+Mapped to Signal 1
+A trigger on GPIO port 5
+Will trigger “GPIO Sensor 2”
+Mapped to Signal 2
+
+A trigger on GPIO port 6
+Will trigger “GPIO Sensor 3”
+Mapped to Signal 3
+Etc
 
 Interlocking with Track Sections
 So far, we have configured interlocking for signals and points, but it would still be possible to signal
 a train onto a track section that was already occupied.
 
 Track Section 2 is already
 Occupied by a Train (HST1)
@@ -1028,24 +1047,33 @@
 
 Still to discover
 There are still several features of the application that have not been covered in this quick-start
 guide, but once you are familiar with the features above, you should be able to experiment and
 figure them out for yourself:
 •
 
+Intermediate Track Sensors – These are used to extend track occupancy to areas of the
+layout that aren’t fully signalled (e.g. goods yards, fiddle yards, Traction Maintenance
+Depots etc) or provide finer granularily of train tracking between signals. The track Sensors
+can be associated with GPIO sensors (in the same way as signals) to pass trains between
+Track Sections when external sensor is triggered by the passing train.
+
+•
+
 Theater Route Indications – supported by main semaphore and main colour light signals.
 Provides the ability to display a single ‘character’ for the selected signal route
 
 •
 
-Block Instruments – mainly intended for layouts split into separate ‘block sections’ where
-the instruments can be used to control the movement of trains between the two block
-sections. This is a particularly useful feature when using multiple application instances
-networked together, where each instance represents a different signal box, as the block
-instruments can be used to communicate (via bell codes) between the signal boxes
+Block Instruments – intended for layouts split into separate ‘block sections’ . This is a
+particularly useful feature when using multiple application instances networked together,
+where each instance represents a different signal box, as the block instruments can be used
+to communicate (via bell codes) between the signal boxes and control the movement of
+trains between the two block sections. A basic example of is included Block Instruments is
+included in the application networking guide (which can be downloaded from the website).
 
 •
 
 Automation - Approach control ‘release on red (signals ahead)’ for automation of Home
 signals in a block section. In this case, signals are overridden to ‘ON’ if any Home signals
 ahead are still at DANGER and only ‘released’ to ‘OFF’ as the train approaches them
 (reverting to ‘ON’ as soon as the train has passed).
@@ -1062,16 +1090,28 @@
 light) - To interlock the distant signal (prevent it being cleared) unless all home signals
 ahead (within the block section) are also clear.
 
 •
 
 MQTT Networking – Publishing and subscribing to Signals, Track Sections, Track sensors
 and Block Instruments. The ‘remote’ items can then be used within the signalling scheme to
-provide seamless integration of different signalling areas. This will be the subject of a
-seperate user guide to be written in due course.
+provide seamless integration of different signalling areas. This is the subject of a seperate
+networking guide (which can be downloaded from the website).
+
+•
+
+Application Logging (select Settings and then Logging from the main menubar) – allows
+you to change the logging level to see what the application is doing ‘under the hood’.
+Setting the log level to “Info” may help you to debug your layout configiurations.
+
+•
+
+The DCC Mappings utility (select Utilities and then DCC Mappings from the main
+menubar) – Allows you to view alll DCC addresses used in your layout configuration an
+what signals and points they are associated with.
 
 Appendix 1 - Using semaphore signals
 In the first quick-start example, we configured a layout using colour light signals. Depending on the
 period modeled, you might prefer the use of semaphore signals on your layout.
 Ground Disc Signal
 
 Semaphore with a subsidary arm
@@ -1123,31 +1163,52 @@
 majority of DCC point & signal decoders on the market) and Configuration Variable (CV)
 programming (suitable for more complex decoders such as the Signallist SC1).
 If ‘One touch’ programming is supported by the device, this is always the preferred method as this
 can be done ‘on layout’ without disconnecting all other devices from the DCC accessory bus.
 The utility can be opened by selecting Utilities = > DCC Programming from the Main Menubar.
 Note that The Pi-SPROG needs to be CONNECTED with DCC Power ON to program devices
 (refer to the ‘Operating your layout’ section for further information).
-For this quick-start guide, we’ll focus on ‘one touch’ programming:
-•
-
-Ensure the device it is connected to the DCC bus and has been put into ‘one touch’
-Programming mode (refer to the device documentation for specific instructions).
 
-•
-
-Enter the required DCC address and click the required command (On or Off) to program.
-Once programmed, the device should respond to all subsequent DCC commands.
+One-touch DCC programming
+Ensure the device it is connected to the DCC bus and has been put into ‘one touch’ Programming
+mode (refer to the device documentation for specific instructions).
+Enter the required DCC address and click the required command (On or Off) to program. Once
+programmed, the device should respond to all subsequent DCC commands.
 
 Enter the required
 DCC address
 
 Click the appropriate
 Button to send the
 Required DCC command
 
-To program CVs, the DCC accessory bus should only be connected to the device you want to
-program (all other devices should be disconnected).
+DCC Configuration Variable (CV) programming
+Warning – before using the Cvs programming utility the DCC accessory bus should only be
+connected to the device you want to program (all other devices should be disconnected).
 Enter the addresses of the CVs you want to inspect / program and click Read CVs to retrieve the
-current values. New values can then be entered and programmed by clicking on Write CVs.
+current values. New values can then be entered and programmed by clicking on Write Cvs.
+A partial configuration (for the Harman Signallist SC1 decoder) is shown below:
+
+Values to
+Write
+CVs to read
+Or write
+
+Current values
+(populated after
+a Read)
+
+Free text notes
+
+Read / Write
+Status / Errors
+Free text notes
+
+Loaded
+configuration file
+
+During a ‘read’ operation, either the retrieved values will be displayed or “---” signifying a
+particular CV could not be read.
+During a ‘write’ operation, the displayed values will either turn Green (if the write was successful)
+or Red (if the write operation failed).
```

### Comparing `model_railway_signals-4.1.0/LICENSE` & `model_railway_signals-4.2.0/LICENSE`

 * *Files identical despite different names*

### Comparing `model_railway_signals-4.1.0/README.md` & `model_railway_signals-4.2.0/README.md`

 * *Files 20% similar despite different names*

```diff
@@ -1,34 +1,35 @@
 # model-railway-signalling
 
 A DCC model railway signalling application written in Python, enabling automated and interlocked layout 
 signalling schemes to be designed and configured via the UI without the need to write any code. The 
 application is primarily intended for the Raspberry Pi, but will also run on other platforms (albeit 
 without some of the Raspberry-Pi specific interfacing functions).
 
-* Enables layout schematics to be created with signals, points, track sections and block instruments
+* Enables layout schematics to be created with signals, points, track sections and block instruments.
 * Supports most types of UK colour light signals, semaphore signals, and ground signals.
-* Interfaces with the Pi-SPROG DCC command station to drive the signals and points out on the layout
-* Uses the Raspberry Pi GPIO inputs to provide train detection in support of signalling automation
-* Incorporates MQTT networking to allow multiple signalling applications to be linked for larger layouts
+* Interfaces with the Pi-SPROG DCC command station to drive the signals and points out on the layout.
+* Uses the Raspberry Pi GPIO inputs to provide train detection in support of signalling automation.
+* Incorporates MQTT networking to allow multiple signalling applications to be linked for larger layouts.
+* Provides a [Public API](https://github.com/johnrm174/model-railway-signalling/blob/main/PUBLIC_API.md) to support custom layout control interfaces.
 
 ![Example Screenshot](https://github.com/johnrm174/model-railway-signalling/blob/main/README_screenshot2.png)
 
 Configured / pre-installed systems are now available to purchase from:
 [https://www.model-railway-signalling.co.uk/](https://www.model-railway-signalling.co.uk/)
 
-## What's new for Release 4.0:
+## What's new for Release 4.2.0:
 
-* Hidden files and folders now supressed in file load and save dialogs
-* Network heartbeats and monitering to check the status of other network nodes
-* Ability to trigger application shutdown of connected network nodes on application exit
-* Support for the Pi-SPROG3 V2 DCC Programmer / Controller (higher baud rate)
-* Quickstart guide updated to reflect settings changes for the Pi-SPROG3 V2
-* BREAKING CHANGE - GPIO Ports 16 and 17 no longer selectable for track sensors
-* Minor bugfixes and application enhancements to improve the overall user experience
+* New 'Track Sensors' feature - extends track occupancy into non-signalled areas such as goods yards and MPDs.
+* Improved 'signal passed' logic - will now detect (and warn the user about) Signal Passed at Danger events.
+* New DCC Mappings utility - to display all mapped DCC addresses and the signals/points they are assigned to.
+* Improved DCC validation - Prevents DCC addresses being mapped if already assigned to another signal or point.
+* Improved GPIO Sensor Settings window -  now includes a back reference to the mapped Signals / 'Track sensors'.
+* GPIO library updated - GPIO inputs are now fully functional on the most recent versions of RPi-OS/Python.
+* A new Public API - to enable integration of your own custom layout interfaces via the MQTT network.
 
 Bug reports and feedback are welcome and appreciated:
 * What aspects are intuitive? What aspects aren't?
 * What aspects do you particularly like?
 * What aspects particularly irritate you?
 * What new features would you like to see?
 
@@ -45,14 +46,18 @@
 If you want to use Block Instruments with full sound enabled (bell rings and telegraph key sounds)
 then you will also need to install the 'simpleaudio' package. Note that for Windows it has a dependency 
 on Microsoft Visual C++ 14.0 or greater (so you will need to ensure Visual Studio 2015 is installed first).
 If 'simpleaudio' is not installed then the software will still function correctly (just without sound).
 <pre>
 $ python3 -m pip install simpleaudio
 </pre>
+Note that if you are running on a later version of Python you may need to install libasound2 before the simpleaudio pip install will work.
+<pre>
+$ sudo apt-get install libasound2-dev
+</pre>
 
 ## Running the application
 
 The python package should be run as a module (note underscores):
 <pre>
 $ python3 -m model_railway_signals
 </pre>
@@ -67,7 +72,17 @@
 
 Documentation, in the form of a Quick-Start guide can be found in the 'user_guide' folder: 
 [https://github.com/johnrm174/model-railway-signalling/tree/main/user_guide](https://github.com/johnrm174/model-railway-signalling/tree/main/user_guide)
 
 Some example layout configuration files can be found in the 'configuration_examples' folder:
 [https://github.com/johnrm174/model-railway-signalling/tree/main/configuration_examples](https://github.com/johnrm174/model-railway-signalling/tree/main/configuration_examples)
 
+And finally, a top tip for running the application on the latest Debian Bookworm release which uses Wayland as the GUI backend
+rather than X11 (which was the backend for previous Debian releases). I found that with Wayland, the Tkinter GUI performance
+was terrible for some reason (not just my application - python/Tkinter performance in general) - and that was running on a
+Raspberry Pi 5 which I would have expected to improve overall performance. Anyway, I found that the fix is to switch the GUI
+backend of the Raspberry Pi back to X11 - performance of the user interface is now lightning quick!
+
+To change the backend - Run "sudo raspi-config", select 'Advanced Options' then 'Wayland' and select X11.
+
+An additional benifit was that some of the other applications I use (such as the kazam video capture software)
+will now work as normal on the Raspberry Pi 5.
```

### Comparing `model_railway_signals-4.1.0/pyproject.toml` & `model_railway_signals-4.2.0/pyproject.toml`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 [build-system]
 requires = ["hatchling"]
 build-backend = "hatchling.build"
 
 [project]
 name = "model-railway-signals"
-version = "4.1.0"
+version = "4.2.0"
 authors = [ { name="johnrm174", email="johnrm17418@gmail.com" }, ]
 maintainers = [ { name="johnrm174", email="johnrm17418@gmail.com" }, ]
 description = "Create your own DCC model railway signalling scheme"
 readme = "README.md"
 requires-python = ">=3.7"
 classifiers = [
     "Programming Language :: Python :: 3",
```

### Comparing `model_railway_signals-4.1.0/PKG-INFO` & `model_railway_signals-4.2.0/PKG-INFO`

 * *Files 16% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: model-railway-signals
-Version: 4.1.0
+Version: 4.2.0
 Summary: Create your own DCC model railway signalling scheme
 Project-URL: Homepage, https://github.com/johnrm174/model-railway-signalling
 Project-URL: Issues, https://github.com/johnrm174/model-railway-signalling/issues
 Project-URL: Website, https://www.model-railway-signalling.co.uk/
 Author-email: johnrm174 <johnrm17418@gmail.com>
 Maintainer-email: johnrm174 <johnrm17418@gmail.com>
 License-File: LICENSE
@@ -19,34 +19,35 @@
 # model-railway-signalling
 
 A DCC model railway signalling application written in Python, enabling automated and interlocked layout 
 signalling schemes to be designed and configured via the UI without the need to write any code. The 
 application is primarily intended for the Raspberry Pi, but will also run on other platforms (albeit 
 without some of the Raspberry-Pi specific interfacing functions).
 
-* Enables layout schematics to be created with signals, points, track sections and block instruments
+* Enables layout schematics to be created with signals, points, track sections and block instruments.
 * Supports most types of UK colour light signals, semaphore signals, and ground signals.
-* Interfaces with the Pi-SPROG DCC command station to drive the signals and points out on the layout
-* Uses the Raspberry Pi GPIO inputs to provide train detection in support of signalling automation
-* Incorporates MQTT networking to allow multiple signalling applications to be linked for larger layouts
+* Interfaces with the Pi-SPROG DCC command station to drive the signals and points out on the layout.
+* Uses the Raspberry Pi GPIO inputs to provide train detection in support of signalling automation.
+* Incorporates MQTT networking to allow multiple signalling applications to be linked for larger layouts.
+* Provides a [Public API](https://github.com/johnrm174/model-railway-signalling/blob/main/PUBLIC_API.md) to support custom layout control interfaces.
 
 ![Example Screenshot](https://github.com/johnrm174/model-railway-signalling/blob/main/README_screenshot2.png)
 
 Configured / pre-installed systems are now available to purchase from:
 [https://www.model-railway-signalling.co.uk/](https://www.model-railway-signalling.co.uk/)
 
-## What's new for Release 4.0:
+## What's new for Release 4.2.0:
 
-* Hidden files and folders now supressed in file load and save dialogs
-* Network heartbeats and monitering to check the status of other network nodes
-* Ability to trigger application shutdown of connected network nodes on application exit
-* Support for the Pi-SPROG3 V2 DCC Programmer / Controller (higher baud rate)
-* Quickstart guide updated to reflect settings changes for the Pi-SPROG3 V2
-* BREAKING CHANGE - GPIO Ports 16 and 17 no longer selectable for track sensors
-* Minor bugfixes and application enhancements to improve the overall user experience
+* New 'Track Sensors' feature - extends track occupancy into non-signalled areas such as goods yards and MPDs.
+* Improved 'signal passed' logic - will now detect (and warn the user about) Signal Passed at Danger events.
+* New DCC Mappings utility - to display all mapped DCC addresses and the signals/points they are assigned to.
+* Improved DCC validation - Prevents DCC addresses being mapped if already assigned to another signal or point.
+* Improved GPIO Sensor Settings window -  now includes a back reference to the mapped Signals / 'Track sensors'.
+* GPIO library updated - GPIO inputs are now fully functional on the most recent versions of RPi-OS/Python.
+* A new Public API - to enable integration of your own custom layout interfaces via the MQTT network.
 
 Bug reports and feedback are welcome and appreciated:
 * What aspects are intuitive? What aspects aren't?
 * What aspects do you particularly like?
 * What aspects particularly irritate you?
 * What new features would you like to see?
 
@@ -63,14 +64,18 @@
 If you want to use Block Instruments with full sound enabled (bell rings and telegraph key sounds)
 then you will also need to install the 'simpleaudio' package. Note that for Windows it has a dependency 
 on Microsoft Visual C++ 14.0 or greater (so you will need to ensure Visual Studio 2015 is installed first).
 If 'simpleaudio' is not installed then the software will still function correctly (just without sound).
 <pre>
 $ python3 -m pip install simpleaudio
 </pre>
+Note that if you are running on a later version of Python you may need to install libasound2 before the simpleaudio pip install will work.
+<pre>
+$ sudo apt-get install libasound2-dev
+</pre>
 
 ## Running the application
 
 The python package should be run as a module (note underscores):
 <pre>
 $ python3 -m model_railway_signals
 </pre>
@@ -85,7 +90,17 @@
 
 Documentation, in the form of a Quick-Start guide can be found in the 'user_guide' folder: 
 [https://github.com/johnrm174/model-railway-signalling/tree/main/user_guide](https://github.com/johnrm174/model-railway-signalling/tree/main/user_guide)
 
 Some example layout configuration files can be found in the 'configuration_examples' folder:
 [https://github.com/johnrm174/model-railway-signalling/tree/main/configuration_examples](https://github.com/johnrm174/model-railway-signalling/tree/main/configuration_examples)
 
+And finally, a top tip for running the application on the latest Debian Bookworm release which uses Wayland as the GUI backend
+rather than X11 (which was the backend for previous Debian releases). I found that with Wayland, the Tkinter GUI performance
+was terrible for some reason (not just my application - python/Tkinter performance in general) - and that was running on a
+Raspberry Pi 5 which I would have expected to improve overall performance. Anyway, I found that the fix is to switch the GUI
+backend of the Raspberry Pi back to X11 - performance of the user interface is now lightning quick!
+
+To change the backend - Run "sudo raspi-config", select 'Advanced Options' then 'Wayland' and select X11.
+
+An additional benifit was that some of the other applications I use (such as the kazam video capture software)
+will now work as normal on the Raspberry Pi 5.
```

